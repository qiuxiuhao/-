(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"04e1":function(e,t,n){"use strict";n.r(t);var s=n("1800"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"04f7":function(e,t,n){"use strict";var s=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n("970b")),r=s(n("5bc3")),a=s(n("9523")),o=function(){function e(t,n){for(var s in(0,i.default)(this,e),(0,a.default)(this,"emojiMap",null),(0,a.default)(this,"url",""),(0,a.default)(this,"patterns",[]),(0,a.default)(this,"metaChars",/[[\]{}()*+?.\\|^$\-,&#\s]/g),this.url=t||"",this.emojiMap=n||{},this.emojiMap)this.emojiMap.hasOwnProperty(s)&&this.patterns.push("("+s.replace(this.metaChars,"\\$&")+")")}return(0,r.default)(e,[{key:"decode",value:function(e){var t=this;return e.replace(new RegExp(this.patterns.join("|"),"g"),(function(e){return"undefined"!=typeof t.emojiMap[e]?'<img height="20rpx" width="20rpx" src="'+t.url+t.emojiMap[e]+'" />':e}))}}]),e}(),u=o;t.default=u},"0732":function(e,t,n){"use strict";n.r(t);var s=n("4c2e"),i=n("e5d0");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},"080d":function(e,t,n){"use strict";n.r(t);var s=n("d554"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"0b91":function(e,t,n){"use strict";n.r(t);var s=n("b410"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"0c7d":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",{staticClass:e._$s(1,"sc","serach"),attrs:{_i:1}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],staticClass:e._$s(2,"sc","keyinput"),attrs:{_i:2},domProps:{value:e._$s(2,"v-model",e.keyword)},on:{input:function(t){t.target.composing||(e.keyword=t.target.value)}}})]),n("view",{staticClass:e._$s(3,"sc","list"),attrs:{_i:3}},e._l(e._$s(4,"f",{forItems:e.goods}),(function(t,s,i,r){return n("view",{key:e._$s(4,"f",{forIndex:i,key:"4-"+r})},[e._$s("5-"+r,"i","\u5931\u7269\u62db\u9886"===e.type)?n("view",[n("view",{staticClass:e._$s("6-"+r,"sc","item"),attrs:{_i:"6-"+r},on:{click:function(n){return e.gotodetail(t.type,t.id)}}},[n("view",{staticClass:e._$s("7-"+r,"sc","left"),attrs:{_i:"7-"+r}},[n("img",{staticClass:e._$s("8-"+r,"sc","imag1"),attrs:{_i:"8-"+r}}),n("view",[n("text",{staticClass:e._$s("10-"+r,"sc","text1"),attrs:{_i:"10-"+r}},[e._v(e._$s("10-"+r,"t0-0",e._s(t.name)))]),n("br"),n("text",{staticClass:e._$s("12-"+r,"sc","text2"),attrs:{_i:"12-"+r}},[e._v(e._$s("12-"+r,"t0-0",e._s(t.time)))])])]),n("view",{staticClass:e._$s("13-"+r,"sc","right"),attrs:{_i:"13-"+r}},[e._v(e._$s("13-"+r,"t0-0",e._s(t.type)))])]),n("view",{staticClass:e._$s("14-"+r,"sc","item"),attrs:{_i:"14-"+r},on:{click:function(n){return e.gotodetail(t.type,t.id)}}},[n("view",{staticClass:e._$s("15-"+r,"sc","left"),attrs:{_i:"15-"+r}},[n("img",{staticClass:e._$s("16-"+r,"sc","imag1"),attrs:{_i:"16-"+r}}),n("view",[n("text",{staticClass:e._$s("18-"+r,"sc","text1"),attrs:{_i:"18-"+r}},[e._v(e._$s("18-"+r,"t0-0",e._s(t.name)))]),n("br"),n("text",{staticClass:e._$s("20-"+r,"sc","text2"),attrs:{_i:"20-"+r}},[e._v(e._$s("20-"+r,"t0-0",e._s(t.time)))])])]),n("view",{staticClass:e._$s("21-"+r,"sc","right"),attrs:{_i:"21-"+r}},[e._v(e._$s("21-"+r,"t0-0",e._s(t.type)))])])]):e._e(),e._$s("22-"+r,"i","\u4ee3\u529e"===e.type)?n("view",{staticClass:e._$s("22-"+r,"sc","item"),attrs:{_i:"22-"+r},on:{click:function(n){return e.gotodetail(t.type,t.id)}}},[n("view",{staticClass:e._$s("23-"+r,"sc","left"),attrs:{_i:"23-"+r}},[n("img",{staticClass:e._$s("24-"+r,"sc","imag1"),attrs:{_i:"24-"+r}}),n("view",[n("text",{staticClass:e._$s("26-"+r,"sc","text1"),attrs:{_i:"26-"+r}},[e._v(e._$s("26-"+r,"t0-0",e._s(t.name)))]),n("br"),n("text",{staticClass:e._$s("28-"+r,"sc","text2"),attrs:{_i:"28-"+r}},[e._v(e._$s("28-"+r,"t0-0",e._s(t.time)))])])]),n("view",{staticClass:e._$s("29-"+r,"sc","right"),attrs:{_i:"29-"+r}},[e._v(e._$s("29-"+r,"t0-0",e._s(t.type)))])]):e._e(),e._$s("30-"+r,"i","\u4e8c\u624b"===e.type)?n("view",{staticClass:e._$s("30-"+r,"sc","item"),attrs:{_i:"30-"+r},on:{click:function(n){return e.gotodetail(t.type,t.id)}}},[n("view",{staticClass:e._$s("31-"+r,"sc","left"),attrs:{_i:"31-"+r}},[n("img",{staticClass:e._$s("32-"+r,"sc","imag1"),attrs:{_i:"32-"+r}}),n("view",[n("text",{staticClass:e._$s("34-"+r,"sc","text1"),attrs:{_i:"34-"+r}},[e._v(e._$s("34-"+r,"t0-0",e._s(t.name)))]),n("br"),n("text",{staticClass:e._$s("36-"+r,"sc","text2"),attrs:{_i:"36-"+r}},[e._v(e._$s("36-"+r,"t0-0",e._s(t.time)))])])]),n("view",{staticClass:e._$s("37-"+r,"sc","right"),attrs:{_i:"37-"+r}},[e._v(e._$s("37-"+r,"t0-0",e._s(t.type)))])]):e._e()])})),0)])},i=[]},"0c93":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={onLaunch:function(){e("log","App Launch"," at App.vue:4")},onShow:function(){e("log","App Show"," at App.vue:7")},onHide:function(){e("log","App Hide"," at App.vue:10")}};t.default=n}).call(this,n("0de9")["default"])},"0de9":function(e,t,n){"use strict";function s(e){var t=Object.prototype.toString.call(e);return t.substring(8,t.length-1)}function i(){return"string"===typeof __channelId__&&__channelId__}function r(e,t){switch(s(t)){case"Function":return"function() { [native code] }";default:return t}}function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];console[e].apply(console,n)}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.shift();if(i())return t.push(t.pop().replace("at ","uni-app:///")),console[a].apply(console,t);var o=t.map((function(e){var t=Object.prototype.toString.call(e).toLowerCase();if("[object object]"===t||"[object array]"===t)try{e="---BEGIN:JSON---"+JSON.stringify(e,r)+"---END:JSON---"}catch(i){e=t}else if(null===e)e="---NULL---";else if(void 0===e)e="---UNDEFINED---";else{var n=s(e).toUpperCase();e="NUMBER"===n||"BOOLEAN"===n?"---BEGIN:"+n+"---"+e+"---END:"+n+"---":String(e)}return e})),u="";if(o.length>1){var c=o.pop();u=o.join("---COMMA---"),0===c.indexOf(" at ")?u+=c:u+="---COMMA---"+c}else u=o[0];console[a](u)}n.r(t),n.d(t,"log",(function(){return a})),n.d(t,"default",(function(){return o}))},"0f94":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",{staticClass:e._$s(1,"sc","main"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","item"),attrs:{_i:2}},[n("text",{staticClass:e._$s(3,"sc","notice"),attrs:{_i:3}})]),n("view",{staticClass:e._$s(4,"sc","item"),attrs:{_i:4}},[n("view",{staticClass:e._$s(5,"sc","item_2"),attrs:{_i:5}},[n("text")]),n("view",{staticClass:e._$s(7,"sc","item_3"),attrs:{_i:7}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.name,expression:"userinfo.name"}],attrs:{_i:8},domProps:{value:e._$s(8,"v-model",e.userinfo.name)},on:{input:function(t){t.target.composing||e.$set(e.userinfo,"name",t.target.value)}}})])]),n("view",{staticClass:e._$s(9,"sc","item"),attrs:{_i:9}},[n("view",{staticClass:e._$s(10,"sc","item_2"),attrs:{_i:10}},[n("text")]),n("view",{staticClass:e._$s(12,"sc","item_3"),attrs:{_i:12}},[n("picker",{attrs:{range:e._$s(13,"a-range",e.gender),_i:13},on:{change:e.setgender}},[n("view",[e._v(e._$s(14,"t0-0",e._s(e.userinfo.gender)))])])])]),n("view",{staticClass:e._$s(15,"sc","item"),attrs:{_i:15}},[n("view",{staticClass:e._$s(16,"sc","item_2"),attrs:{_i:16}},[n("text")]),n("view",{staticClass:e._$s(18,"sc","item_3"),attrs:{_i:18}},[n("picker",{attrs:{range:e._$s(19,"a-range",e.school),_i:19},on:{change:e.setschool}},[n("view",[e._v(e._$s(20,"t0-0",e._s(e.userinfo.school)))])])])]),n("view",{staticClass:e._$s(21,"sc","item"),attrs:{_i:21}},[n("view",{staticClass:e._$s(22,"sc","item_2"),attrs:{_i:22}},[n("text")]),n("view",{staticClass:e._$s(24,"sc","item_3"),attrs:{_i:24}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{_i:25},domProps:{value:e._$s(25,"v-model",e.password)},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),n("view",{staticClass:e._$s(26,"sc","item"),attrs:{_i:26}},[n("view",{staticClass:e._$s(27,"sc","item_2"),attrs:{_i:27}},[n("text")]),n("view",{staticClass:e._$s(29,"sc","item_3"),attrs:{_i:29}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password2,expression:"password2"}],attrs:{_i:30},domProps:{value:e._$s(30,"v-model",e.password2)},on:{input:function(t){t.target.composing||(e.password2=t.target.value)}}})])]),e._$s(31,"i",e.password!==e.password2)?n("text",{staticClass:e._$s(31,"sc","notice"),attrs:{_i:31}}):e._e(),n("view",{staticClass:e._$s(32,"sc","item"),attrs:{_i:32}},[n("view",{staticClass:e._$s(33,"sc","item_2"),attrs:{_i:33}},[n("text")]),n("view",{staticClass:e._$s(35,"sc","item_3"),attrs:{_i:35}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.pay_password,expression:"pay_password"}],attrs:{_i:36},domProps:{value:e._$s(36,"v-model",e.pay_password)},on:{input:function(t){t.target.composing||(e.pay_password=t.target.value)}}})])]),n("view",{staticClass:e._$s(37,"sc","item"),attrs:{_i:37}},[n("view",{staticClass:e._$s(38,"sc","item_2"),attrs:{_i:38}},[n("text")]),n("view",{staticClass:e._$s(40,"sc","item_3"),attrs:{_i:40}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.pay_password2,expression:"pay_password2"}],attrs:{_i:41},domProps:{value:e._$s(41,"v-model",e.pay_password2)},on:{input:function(t){t.target.composing||(e.pay_password2=t.target.value)}}})])]),e._$s(42,"i",e.pay_password!==e.pay_password2)?n("text",{staticClass:e._$s(42,"sc","notice"),attrs:{_i:42}}):e._e(),n("view",{staticClass:e._$s(43,"sc","button_view"),attrs:{_i:43}},[n("button",{staticClass:e._$s(44,"sc","button_1"),attrs:{_i:44},on:{click:e.submitinfo}})])])])},i=[]},"137f":function(e,t,n){"use strict";n.r(t);var s=n("4962"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"15ea":function(e,t,n){"use strict";n.r(t);var s=n("1eea"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"16aa":function(e,t,n){"use strict";n.r(t);var s=n("7f25"),i=n("137f");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},1768:function(e,t,n){"use strict";n.r(t);var s=n("0f94"),i=n("908b");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},1800:function(e,t,n){"use strict";(function(e){var s=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("d511"),r=(s(n("8765")),{name:"conversation",data:function(){return{unreadTotal:0,conversations:[],actionPopup:{conversation:null,visible:!1},currentUser:{id:"18210287051",name:"\u661f\u8fb0",password:"",avatar:"../../static/touxiantext.png",email:"",phone:""}}},onShow:function(){getApp().globalData.currentUser=this.currentUser,"disconnected"===this.goEasy.getConnectionStatus()&&this.connectGoEasy(),this.goEasy.im.on(this.GoEasy.IM_EVENT.CONVERSATIONS_UPDATED,this.renderConversations),this.loadConversations()},beforeDestroy:function(){this.goEasy.im.off(this.GoEasy.IM_EVENT.CONVERSATIONS_UPDATED,this.renderConversations)},methods:{formatDate:i.formatDate,connectGoEasy:function(){uni.showLoading(),this.goEasy.connect({id:this.currentUser.id,data:{name:this.currentUser.name,avatar:this.currentUser.avatar},onSuccess:function(){e("log","GoEasy connect successfully."," at pages/index/message.vue:119")},onFailed:function(t){e("log","Failed to connect GoEasy, code:"+t.code+",error:"+t.content," at pages/index/message.vue:122")},onProgress:function(t){e("log","GoEasy is connecting",t," at pages/index/message.vue:126")}})},loadConversations:function(){var t=this;this.goEasy.im.latestConversations({onSuccess:function(e){uni.hideLoading();var n=e.content;t.renderConversations(n);var s=n.unreadTotal;s>0?uni.setTabBarBadge({index:0,text:s.toString()}):uni.removeTabBarBadge({index:0})},onFailed:function(t){uni.hideLoading(),e("log","\u83b7\u53d6\u6700\u65b0\u4f1a\u8bdd\u5217\u8868\u5931\u8d25, error:",t," at pages/index/message.vue:151")}})},renderConversations:function(e){this.conversations=e.conversations},topConversation:function(){this.actionPopup.visible=!1;var t=this.actionPopup.conversation,n=t.top?"\u53d6\u6d88\u7f6e\u9876":"\u7f6e\u9876";this.goEasy.im.topConversation({conversation:t,top:!t.top,onSuccess:function(){uni.showToast({title:n+"\u6210\u529f",icon:"none"})},onFailed:function(t){e("log",n,"\u5931\u8d25\uff1a",t," at pages/index/message.vue:172")}})},deleteConversation:function(){var t=this;uni.showModal({content:"\u786e\u8ba4\u5220\u9664\u8fd9\u6761\u4f1a\u8bdd\u5417\uff1f",success:function(n){if(n.confirm){var s=t.actionPopup.conversation;t.actionPopup.visible=!1,t.goEasy.im.removeConversation({conversation:s,onSuccess:function(){e("log","\u5220\u9664\u4f1a\u8bdd\u6210\u529f"," at pages/index/message.vue:186")},onFailed:function(t){e("log",t," at pages/index/message.vue:189")}})}else t.actionPopup.visible=!1}})},chat:function(e){uni.navigateTo({url:"/pages/messsge_detail/messsge_detail?to="+e.userId})},showAction:function(e){this.actionPopup.conversation=e,this.actionPopup.visible=!0}}});t.default=r}).call(this,n("0de9")["default"])},"1d8f":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("scroll-view",{staticClass:e._$s(0,"sc","conversations"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","status_bar"),attrs:{_i:1}}),n("view",{staticClass:e._$s(2,"sc","head"),attrs:{_i:2}},[n("text")]),e._$s(4,"i",e.conversations.length>0)?n("view",e._l(e._$s(5,"f",{forItems:e.conversations}),(function(t,s,i,r){return n("view",{key:e._$s(5,"f",{forIndex:i,key:s}),staticClass:e._$s("5-"+r,"sc","scroll-item"),attrs:{_i:"5-"+r}},[n("view",{staticClass:e._$s("6-"+r,"sc","item-head"),attrs:{_i:"6-"+r}},[n("image",{staticClass:e._$s("7-"+r,"sc","head-icon"),attrs:{src:e._$s("7-"+r,"a-src",t.data.avatar),_i:"7-"+r}}),e._$s("8-"+r,"i",t.unread)?n("view",{staticClass:e._$s("8-"+r,"sc","item-head_unread"),attrs:{_i:"8-"+r}},[e._v(e._$s("8-"+r,"t0-0",e._s(t.unread)))]):e._e()]),n("view",{staticClass:e._$s("9-"+r,"sc","scroll-item_info"),attrs:{_i:"9-"+r},on:{click:function(n){return e.chat(t)}}},[n("view",{staticClass:e._$s("10-"+r,"sc","item-info-top"),attrs:{_i:"10-"+r}},[n("text",{staticClass:e._$s("11-"+r,"sc","item-info-top_name"),attrs:{_i:"11-"+r}},[e._v(e._$s("11-"+r,"t0-0",e._s(t.data.name)))]),n("view",{staticClass:e._$s("12-"+r,"sc","item-info-top_time"),attrs:{_i:"12-"+r}},[e._v(e._$s("12-"+r,"t0-0",e._s(e.formatDate(t.lastMessage.timestamp))))])]),n("view",{staticClass:e._$s("13-"+r,"sc","item-info-bottom"),attrs:{_i:"13-"+r}},[n("view",{staticClass:e._$s("14-"+r,"sc","item-info-bottom-item"),attrs:{_i:"14-"+r}},[e._$s("15-"+r,"i",!t.lastMessage.recalled)?n("view",{staticClass:e._$s("15-"+r,"sc","item-info-top_content"),attrs:{_i:"15-"+r}},[n("text",{staticClass:e._$s("16-"+r,"sc","unread-text"),attrs:{_i:"16-"+r}},[e._v(e._$s("16-"+r,"t0-0",e._s(!1===t.lastMessage.read&&t.lastMessage.senderId===e.currentUser.id?"[\u672a\u8bfb]":"")))]),e._$s("17-"+r,"i",t.lastMessage.senderId===e.currentUser.id)?n("text"):n("text",[e._v(e._$s("18-"+r,"t0-0",e._s("group"===t.type?t.lastMessage.senderData.name:t.data.name)))]),e._$s("19-"+r,"i","text"===t.lastMessage.type)?n("text",[e._v(e._$s("19-"+r,"t0-0",e._s(t.lastMessage.payload.text)))]):(e._$s("20-"+r,"e","video"===t.lastMessage.type)||e._$s("21-"+r,"e","audio"===t.lastMessage.type)||e._$s("22-"+r,"e","image"===t.lastMessage.type)||e._$s("23-"+r,"e","file"===t.lastMessage.type)||e._$s("24-"+r,"e","order"===t.lastMessage.type),n("text"))]):n("view",{staticClass:e._$s("26-"+r,"sc","item-info-top_content"),attrs:{_i:"26-"+r}},[e._$s("27-"+r,"i",t.lastMessage.senderId===e.currentUser.id)?n("text"):n("view",[e._v(e._$s("28-"+r,"t0-0",e._s("group"===t.type?t.lastMessage.senderData.name:t.data.name)))])]),n("view",{staticClass:e._$s("29-"+r,"sc","item-info-bottom_action"),attrs:{_i:"29-"+r},on:{click:function(n){return n.stopPropagation(),e.showAction(t)}}})])])])])})),0):n("view",{staticClass:e._$s(30,"sc","no-conversation"),attrs:{_i:30}}),e._$s(31,"i",e.actionPopup.visible)?n("view",{staticClass:e._$s(31,"sc","action-container"),attrs:{_i:31}},[n("view",{staticClass:e._$s(32,"sc","layer"),attrs:{_i:32},on:{click:function(t){e.actionPopup.visible=!1}}}),n("view",{staticClass:e._$s(33,"sc","action-box"),attrs:{_i:33}},[n("view",{staticClass:e._$s(34,"sc","action-item"),attrs:{_i:34},on:{click:e.topConversation}},[e._v(e._$s(34,"t0-0",e._s(e.actionPopup.conversation.top?"\u53d6\u6d88\u7f6e\u9876":"\u7f6e\u9876\u804a\u5929")))]),n("view",{staticClass:e._$s(35,"sc","action-item"),attrs:{_i:35},on:{click:e.deleteConversation}})])]):e._e()])},i=[]},"1df6":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",e._l(e._$s(1,"f",{forItems:e.records}),(function(t,s,i,r){return n("view",{key:e._$s(1,"f",{forIndex:i,key:"1-"+r}),staticClass:e._$s("1-"+r,"sc","view_record"),attrs:{_i:"1-"+r}},[e._$s("2-"+r,"i","\u4ed8\u6b3e"===t.type)?n("view",[n("view",{staticClass:e._$s("3-"+r,"sc","item_row"),attrs:{_i:"3-"+r}},[n("text",{staticClass:e._$s("4-"+r,"sc","item_text"),attrs:{_i:"4-"+r}},[e._v(e._$s("4-"+r,"t0-0",e._s(t.info.money))),n("text")]),n("text",{staticClass:e._$s("6-"+r,"sc","item_text2"),attrs:{_i:"6-"+r}})]),n("view",{staticClass:e._$s("7-"+r,"sc","item_row"),attrs:{_i:"7-"+r}},[n("text",{staticClass:e._$s("8-"+r,"sc","item_text2"),attrs:{_i:"8-"+r}},[e._v(e._$s("8-"+r,"t0-0",e._s(t.info.order_type))+e._$s("8-"+r,"t0-1",e._s(t.info.order_id)))]),n("text",{staticClass:e._$s("9-"+r,"sc","item_text2"),attrs:{_i:"9-"+r}},[e._v(e._$s("9-"+r,"t0-0",e._s(t.info.time)))])])]):e._e(),e._$s("10-"+r,"i","\u5145\u503c"===t.type)?n("view",[n("view",{staticClass:e._$s("11-"+r,"sc","item_row"),attrs:{_i:"11-"+r}},[n("text",{staticClass:e._$s("12-"+r,"sc","item_text"),attrs:{_i:"12-"+r}},[e._v(e._$s("12-"+r,"t0-0",e._s(t.info.money))),n("text")]),n("text",{staticClass:e._$s("14-"+r,"sc","item_text2"),attrs:{_i:"14-"+r}})]),n("view",{staticClass:e._$s("15-"+r,"sc","item_row"),attrs:{_i:"15-"+r}},[n("text",{staticClass:e._$s("16-"+r,"sc","item_text2"),attrs:{_i:"16-"+r}},[e._v(e._$s("16-"+r,"t0-0",e._s(t.info.pay_way)))]),n("text",{staticClass:e._$s("17-"+r,"sc","item_text2"),attrs:{_i:"17-"+r}},[e._v(e._$s("17-"+r,"t0-0",e._s(t.info.time)))])])]):e._e()])})),0)},i=[]},"1eea":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{userinfo_main:{id:"123456",phonenumber:"",password:""}}},methods:{goto:function(e){uni.navigateTo({url:"/pages/mine/safe/"+e})}}};t.default=s},"1fb5":function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],s=t[1];return 3*(n+s)/4-s},t.toByteArray=function(e){var t,n,s=c(e),a=s[0],o=s[1],u=new r(function(e,t,n){return 3*(t+n)/4-n}(0,a,o)),l=0,f=o>0?a-4:a;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===o&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===o&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,r=[],a=0,o=n-i;a<o;a+=16383)r.push(f(e,a,a+16383>o?o:a+16383));1===i?(t=e[n-1],r.push(s[t>>2]+s[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],r.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"="));return r.join("")};for(var s=[],i=[],r="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=a.length;o<u;++o)s[o]=a[o],i[a.charCodeAt(o)]=o;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var s=n===t?0:4-n%4;return[n,s]}function l(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}function f(e,t,n){for(var s,i=[],r=t;r<n;r+=3)s=(e[r]<<16&16711680)+(e[r+1]<<8&65280)+(255&e[r+2]),i.push(l(s));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},2181:function(e,t,n){"use strict";n.r(t);var s=n("b2e2"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},2294:function(e,t,n){"use strict";n.r(t);var s=n("0c7d"),i=n("250e");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},"250e":function(e,t,n){"use strict";n.r(t);var s=n("e141"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"26b4":function(e,t,n){"use strict";n.r(t);var s=n("c3e6"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"278c":function(e,t,n){var s=n("c135"),i=n("9b42"),r=n("6613"),a=n("c240");e.exports=function(e,t){return s(e)||i(e,t)||r(e,t)||a()},e.exports.__esModule=!0,e.exports["default"]=e.exports},"2b98":function(e,t,n){"use strict";n.r(t);var s=n("3c27"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"307f":function(e,t,n){"use strict";n.r(t);var s=n("39f5"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"30b7":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{userinfo:{phonenumber:"",password:""},read:!1,contrast:!1}},methods:{readchange:function(e){this.read=e.detail.value},readaggre:function(){},login:function(){var t=this;this.read&&uni.request({url:"http://qiuxiuhao.viphk.91tunnel.com/login",data:{phonenumber:this.userinfo.phonenumber,password:this.userinfo.password},header:{"custom-header":"hello"},success:function(n){e("log",n.data.contrast," at pages/index/login.vue:53"),t.contrast=n.data.contrast,t.contrast&&(uni.setStorage({key:"userinfo_main",data:n.data.userinfo_main}),uni.setStorage({key:"pay",data:n.data.pay}),uni.setStorage({key:"userinfo",data:n.data.userinfo,success:function(){uni.switchTab({url:"/pages/index/index"})}})),t.contrast||uni.showToast({title:"\u8d26\u53f7\u6216\u5bc6\u7801\u9519\u8bef",icon:"error",duration:2e3})}}),this.read||uni.showToast({title:"\u8bf7\u52fe\u9009\u7528\u6237\u534f\u8bae",icon:"none",duration:2e3})},register:function(){uni.navigateTo({url:"/pages/index/register"})}}};t.default=n}).call(this,n("0de9")["default"])},3692:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this.$createElement,t=this._self._c||e;return t("view",[t("view",{staticClass:this._$s(1,"sc","view1"),attrs:{_i:1}},[t("textarea",{staticClass:this._$s(2,"sc","text1"),attrs:{id:"",_i:2}})]),t("view",{staticClass:this._$s(3,"sc","view1"),attrs:{_i:3}},[t("button",{staticClass:this._$s(4,"sc","button1"),attrs:{_i:4},on:{click:this.putup}})])])},i=[]},"36c6":function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},3751:function(e,t,n){"use strict";n.r(t);var s=n("c0e6"),i=n("080d");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},"37a4":function(e,t,n){"use strict";n.r(t);var s=n("57f2"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"39f5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={data:function(){return{records:[{type:"\u4ed8\u6b3e",info:{money:"122",time:"2023/2/13-23:31",order_id:"123456",order_type:"\u4e8c\u624b"}},{type:"\u5145\u503c",info:{money:"200",time:"2023/2/15-23:31",pay_way:"\u652f\u4ed8\u5b9d"}},{type:"\u4ed8\u6b3e",info:{money:"22",time:"2023/2/14-23:31",order_id:"323456",order_type:"\u4ee3\u529e"}},{type:"\u5145\u503c",info:{money:"200",time:"2023/2/15-23:31",pay_way:"\u5fae\u4fe1"}}],id:""}},methods:{}}},"3b17":function(e,t){e.exports="/static/shop.png"},"3b99":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this.$createElement,t=this._self._c||e;return t("view",[t("text",{staticClass:this._$s(1,"sc","notice"),attrs:{_i:1}})])},i=[]},"3bf3":function(e,t,n){"use strict";n.r(t);var s=n("de22"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"3c27":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{id:"",good:{name:"\u5546\u54c11",price:50,time:"2022-10-26 18:12:59",detail:"vue\u662f\u4e00\u5957\u7528\u4e8e\u6784\u5efa\u7528\u6237\u754c\u9762\u7684\u6e10\u8fdb\u5f0f\u6846\u67b6\uff0c\u4f7f\u7528Vue,\u53ef\u4ee5\u5b8c\u5168\u5728\u6d4f\u89c8\u5668\u6e32\u67d3\u9875\u9762\uff0c\u670d\u52a1\u7aef\u53ea\u63d0\u4f9b\u6570\u636e\uff0c\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u7684\u6784\u5efa\u5355\u9875\u9762\u5e94\u7528"},good_id:"",good_type:"\u4e8c\u624b",adress:"",no_secret:!1,payword:"123456"}},onLoad:function(e){this.good_id=e.id},methods:{talk:function(){uni.navigateTo({url:"/pages/messsge_detail/messsge_detail?id="+this.good.userid})},gopay:function(){uni.showModal({content:"\u786e\u8ba4\u652f\u4ed8",editable:!0,placeholderText:"\u8bf7\u8f93\u5165\u5730\u5740",success:function(e){e.confirm&&(this.adress=e.content,this.no_secret||uni.showModal({content:"\u8f93\u5165\u652f\u4ed8\u5bc6\u7801",editable:!0,success:function(e){e.confirm}}))}})}}};t.default=s},"3c96":function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"3d89":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{userinfo:""}},methods:{goset:function(){uni.navigateTo({url:"/pages/mine/me/me_set"})}},beforeCreate:function(){uni.getStorage({key:"userinfo",success:function(e){this.userinfo,e.data}})}};t.default=s},4049:function(e,t,n){"use strict";n.r(t);var s=n("7b21"),i=n("76a1");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},"42b7":function(e,t,n){"use strict";n.r(t);var s=n("6df1"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,s="/";t.cwd=function(){return s},t.chdir=function(t){e||(e=n("df7c")),s=e.resolve(t,s)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},4380:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{user:{username:"\u54c8\u54c8",gexin:"\u4f60\u597d\u554a\uff01"}}},methods:{chear:function(){uni.showModal({content:"\u662f\u5426\u6e05\u7a7a\u672c\u5730\u7f13\u5b58",success:function(e){e.confirm?(uni.clearStorage(),uni.redirectTo({url:"/pages/index/login"})):e.cancel&&uni.switchTab({url:"/pages/index/index"})}})},goto:function(e){uni.navigateTo({url:"../../pages/mine/"+e})}}};t.default=s},"43b8":function(e,t,n){"use strict";n.r(t);var s=n("c216"),i=n("37a4");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},"457b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{id:"",typeitems:[{type:"\u5931\u7269",checked:"true"},{type:"\u62db\u9886"},{type:"\u4e8c\u624b"},{type:"\u4ee3\u529e"}],current:0,good:{type:"",image:"",name:"",address:"",money:"",detail:""}}},methods:{radioChange:function(e){for(var t=0;t<this.typeitems.length;t++)if(this.typeitems[t].type===e.detail.value){this.current=t,this.good.type=this.typeitems[this.current];break}},release:function(){uni.showModal({content:"\u786e\u8ba4\u53d1\u5e03",success:function(e){e.confirm||e.cancel&&uni.redirectTo({url:"/pages/mine/order"})}})}}};t.default=s},"46fa":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",[s("view",{staticClass:e._$s(1,"sc","detailview"),attrs:{_i:1}},[s("text",{staticClass:e._$s(2,"sc","nametext"),attrs:{_i:2}},[e._v(e._$s(2,"t0-0",e._s(e.good.name)))]),s("br"),s("text",{staticClass:e._$s(4,"sc","pricetext"),attrs:{_i:4}},[e._v(e._$s(4,"t0-0",e._s(e.good.price)))]),s("br"),s("text",{staticClass:e._$s(6,"sc","timetext"),attrs:{_i:6}},[e._v(e._$s(6,"t0-0",e._s(e.good.time)))]),s("br"),s("text",{staticClass:e._$s(8,"sc","detailtext"),attrs:{_i:8}},[e._v(e._$s(8,"t0-0",e._s(e.good.detail)))])]),s("view",{staticClass:e._$s(9,"sc","contact"),attrs:{_i:9},on:{click:e.talk}},[s("image",{staticClass:e._$s(10,"sc","image3"),attrs:{src:e._$s(10,"a-src",n("a3a4")),_i:10}}),s("br"),s("text",{staticClass:e._$s(12,"sc","text3"),attrs:{_i:12}})]),s("view",{staticClass:e._$s(13,"sc","jiesuan"),attrs:{_i:13}},[s("button",{staticClass:e._$s(14,"sc","button1"),attrs:{_i:14}}),s("button",{staticClass:e._$s(15,"sc","button1"),attrs:{_i:15},on:{click:e.gopay}})])])},i=[]},4854:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",[s("view",{staticClass:e._$s(1,"sc","status_bar"),attrs:{_i:1}}),s("view",{staticClass:e._$s(2,"sc","head"),attrs:{_i:2}},[s("image",{staticClass:e._$s(3,"sc","userhead"),attrs:{src:e._$s(3,"a-src",n("f5a8")),_i:3}}),s("view",[s("text",{staticClass:e._$s(5,"sc","name"),attrs:{_i:5}},[e._v(e._$s(5,"t0-0",e._s(e.user.username)))]),s("br"),s("text",[e._v(e._$s(7,"t0-0",e._s(e.user.gexin)))])])]),s("view",[s("view",{staticClass:e._$s(9,"sc","item"),attrs:{_i:9},on:{click:function(t){return e.goto("me")}}},[s("text")]),s("view",{staticClass:e._$s(11,"sc","item"),attrs:{_i:11},on:{click:function(t){return e.goto("safe")}}},[s("text")]),s("view",{staticClass:e._$s(13,"sc","item"),attrs:{_i:13},on:{click:function(t){return e.goto("wallet")}}},[s("text")]),s("view",{staticClass:e._$s(15,"sc","item"),attrs:{_i:15},on:{click:function(t){return e.goto("Collection")}}},[s("text")]),s("view",{staticClass:e._$s(17,"sc","item"),attrs:{_i:17},on:{click:function(t){return e.goto("order")}}},[s("text")]),s("view",{staticClass:e._$s(19,"sc","item"),attrs:{_i:19},on:{click:function(t){return e.goto("advice")}}},[s("text")]),s("view",{staticClass:e._$s(21,"sc","item"),attrs:{_i:21},on:{click:e.chear}},[s("text")])])])},i=[]},4902:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={data:function(){return{userinfo_main:{id:"1234",phonenumber:"",password:""},password_old:"",password_new1:"",password_new2:""}},methods:{setpassword:function(){}}}},4962:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{phonenumber:"",captcha:"",captcha2:"",read:!1,msg:"\u83b7\u53d6\u9a8c\u8bc1\u7801",color:"black",timer:"",time:60}},methods:{readchange:function(e){this.read=e.detail.value},readaggre:function(){},getcaptch:function(){var e=this;"\u83b7\u53d6\u9a8c\u8bc1\u7801"===this.msg&&(this.timer=setInterval((function(){e.time>0?(e.time=e.time-1,e.msg=e.time+"s\u91cd\u65b0\u9a8c\u8bc1\u7801",e.color="#ededed"):(e.time=60,e.msg="\u83b7\u53d6\u9a8c\u8bc1\u7801",e.color="black",clearInterval(e.timer))}),1e3),this.getcap())},getcap:function(){var e=this;uni.request({url:"http://qiuxiuhao.viphk.91tunnel.com/captcha",data:{phonenumber:this.phonenumber},header:{"custom-header":"hello"},success:function(t){e.captcha2=t.data.captcha}})},login:function(){var e=this;this.read&&(this.captcha===this.captcha2&&null!==this.captcha?uni.request({url:"http://qiuxiuhao.viphk.91tunnel.com/register",data:{phonenumber:this.phonenumber},header:{"custom-header":"hello"},success:function(t){null!==t.data.userinfo?(uni.setStorage({key:"userinfo_main",data:t.data.userinfo_main}),uni.setStorage({key:"pay",data:t.data.pay}),uni.setStorage({key:"userinfo",data:t.data.userinfo,success:function(){uni.switchTab({url:"/pages/index/index"})}})):uni.redirectTo({url:"/pages/index/userinfo_set?phonenumber="+e.phonenumber})}}):uni.showToast({title:"\u9a8c\u8bc1\u7801\u9519\u8bef",icon:"error",duration:2e3})),this.read||uni.showToast({title:"\u8bf7\u52fe\u9009\u7528\u6237\u534f\u8bae",icon:"none",duration:2e3})}}};t.default=s},"4a4b":function(e,t){function n(t,s){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports["default"]=e.exports,n(t,s)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"4a75":function(e,t,n){"use strict";n.r(t);var s=n("a9e7"),i=n("ec80");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},"4c2e":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",{staticClass:e._$s(1,"sc","item"),attrs:{_i:1},on:{click:e.changesecret}},[e._$s(2,"i",e.pay.no_secret)?n("view",[n("text")]):e._e(),e._$s(4,"i",!e.pay.no_secret)?n("view",[n("text")]):e._e()]),n("view",{staticClass:e._$s(6,"sc","item"),attrs:{_i:6},on:{click:e.goto}},[n("text")])])},i=[]},"4ea4":function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports["default"]=e.exports},5396:function(e,t,n){"use strict";n.r(t);var s=n("9416"),i=n("c83b");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},5475:function(e,t,n){"use strict";n.r(t);var s=n("fc04"),i=n("643a");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},"57f2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{keyword:"",source:["\u5168\u90e8","\u6211\u53d1\u5e03\u7684","\u6211\u63a5\u53d6\u7684"],status:["\u5168\u90e8","\u5df2\u5b8c\u6210","\u672a\u5b8c\u6210"],select:{source:"\u5168\u90e8",status:"\u5168\u90e8"},id:"123456",initial_goods:[{id:"",type:"\u5931\u7269",name:"\u5931\u72691",time:"2022-11-9 10:10:10",status:"\u5df2\u8ba4\u9886",release_id:"123456"},{id:"",type:"\u4e8c\u624b",name:"\u5546\u54c11",time:"2022-11-9 10:10:10",status:"\u8fd0\u8f93\u4e2d",release_id:"12345"},{id:"",type:"\u4ee3\u529e",name:"\u4ee3\u529e\u540d\u79f01",time:"2022-11-9 10:10:10",status:"\u6267\u884c\u4e2d"},{id:"",type:"\u62db\u9886",name:"\u7269\u54c11",time:"2022-11-9 10:10:10",status:"\u5df2\u5b8c\u6210"},{id:"",type:"\u5931\u7269",name:"\u5931\u72692",time:"2022-11-9 10:10:10",status:"\u5df2\u53d6\u6d88"}]}},methods:{selectscouce:function(e){this.select.source=this.source[e.detail.value]},selectstatus:function(e){this.select.status=this.status[e.detail.value]},gotodetail:function(e,t){uni.navigateTo({url:"/pages/mine/order/order_detail?id = "+e+"&type="+t})},release:function(){uni.navigateTo({url:"/pages/mine/order/release"})}},computed:{goods:function(){var e=this;return this.initial_goods.filter((function(t){return"\u5168\u90e8"===e.select.source?"\u5168\u90e8"===e.select.status?-1!==t.name.indexOf(e.keyword):"\u5df2\u5b8c\u6210"===e.select.status?-1!==t.name.indexOf(e.keyword)&&"\u5df2\u5b8c\u6210"===t.status:-1!==t.name.indexOf(e.keyword)&&"\u5df2\u5b8c\u6210"!==t.status:"\u6211\u53d1\u5e03\u7684"===e.select.source?"\u5168\u90e8"===e.select.status?-1!==t.name.indexOf(e.keyword)&&t.release_id===e.id:"\u5df2\u5b8c\u6210"===e.select.status?-1!==t.name.indexOf(e.keyword)&&"\u5df2\u5b8c\u6210"===t.status&&t.release_id===e.id:-1!==t.name.indexOf(e.keyword)&&"\u5df2\u5b8c\u6210"!==t.status&&t.release_id===e.id:"\u5168\u90e8"===e.select.status?-1!==t.name.indexOf(e.keyword)&&t.release_id!==e.id:"\u5df2\u5b8c\u6210"===e.select.status?-1!==t.name.indexOf(e.keyword)&&"\u5df2\u5b8c\u6210"===t.status&&t.release_id!==e.id:-1!==t.name.indexOf(e.keyword)&&"\u5df2\u5b8c\u6210"!==t.status&&t.release_id!==e.id}))}}};t.default=s},"590c":function(e,t){e.exports="/static/car.png"},"5a43":function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s},e.exports.__esModule=!0,e.exports["default"]=e.exports},"5a53":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",{staticClass:e._$s(1,"sc","item"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","item_1"),attrs:{_i:2}},[n("text")]),n("view",{staticClass:e._$s(4,"sc","item_3"),attrs:{_i:4}},[n("text",[e._v(e._$s(5,"t0-0",e._s(e.userinfo_main.id)))])])]),n("view",{staticClass:e._$s(6,"sc","item"),attrs:{_i:6},on:{click:function(t){return e.goto("phonenumber_set")}}},[n("view",{staticClass:e._$s(7,"sc","item_1"),attrs:{_i:7}},[n("text")]),n("view",{staticClass:e._$s(9,"sc","item_3"),attrs:{_i:9}},[n("text",[e._v(e._$s(10,"t0-0",e._s(e.userinfo_main.phonenumber)))])])]),n("view",{staticClass:e._$s(11,"sc","item"),attrs:{_i:11},on:{click:function(t){return e.goto("password_set")}}},[n("view",{staticClass:e._$s(12,"sc","item_1"),attrs:{_i:12}},[n("text")]),n("view",{staticClass:e._$s(14,"sc","item_3"),attrs:{_i:14}},[n("text")])])])},i=[]},"5b57":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={data:function(){return{id:"",money:""}},methods:{}}},"5b6b":function(e,t,n){"use strict";n.r(t);var s=n("e2a0"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"5bc3":function(e,t,n){var s=n("a395");function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"5dbb":function(e,t,n){"use strict";n.r(t);var s=n("5a53"),i=n("15ea");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},"643a":function(e,t,n){"use strict";n.r(t);var s=n("5b57"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},6613:function(e,t,n){var s=n("5a43");e.exports=function(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"67cb":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",{staticClass:e._$s(1,"sc","item"),attrs:{_i:1}},[n("text",{staticClass:e._$s(2,"sc","mon1"),attrs:{_i:2}}),n("br"),n("text",{staticClass:e._$s(4,"sc","mon2"),attrs:{_i:4}},[e._v(e._$s(4,"t0-0",e._s(e.balance)))])]),n("view",{staticClass:e._$s(5,"sc","item2"),attrs:{_i:5},on:{click:function(t){return e.goto("recharge")}}},[n("text",{staticClass:e._$s(6,"sc","text1"),attrs:{_i:6}})]),n("view",{staticClass:e._$s(7,"sc","item2"),attrs:{_i:7},on:{click:function(t){return e.goto("record")}}},[n("text",{staticClass:e._$s(8,"sc","text1"),attrs:{_i:8}})]),n("view",{staticClass:e._$s(9,"sc","item2"),attrs:{_i:9},on:{click:function(t){return e.goto("pay_set")}}},[n("text",{staticClass:e._$s(10,"sc","text1"),attrs:{_i:10}})])])},i=[]},"685a":function(e,t,n){"use strict";n.r(t);var s=n("9787"),i=n("dc08");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},"6a24":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",[s("view",{staticClass:e._$s(1,"sc","image1"),attrs:{_i:1}},[s("image",{staticClass:e._$s(2,"sc","image2"),attrs:{src:e._$s(2,"a-src",n("caeb")),_i:2}})]),s("view",{staticClass:e._$s(3,"sc","detailview"),attrs:{_i:3}},[s("text",{staticClass:e._$s(4,"sc","nametext"),attrs:{_i:4}},[e._v(e._$s(4,"t0-0",e._s(e.good.name)))]),s("br"),s("text",{staticClass:e._$s(6,"sc","pricetext"),attrs:{_i:6}},[e._v(e._$s(6,"t0-0",e._s(e.good.price)))]),s("br"),s("text",{staticClass:e._$s(8,"sc","timetext"),attrs:{_i:8}},[e._v(e._$s(8,"t0-0",e._s(e.good.time)))]),s("br"),s("text",{staticClass:e._$s(10,"sc","detailtext"),attrs:{_i:10}},[e._v(e._$s(10,"t0-0",e._s(e.good.detail)))])]),s("view",{staticClass:e._$s(11,"sc","contact"),attrs:{_i:11},on:{click:e.talk}},[s("image",{staticClass:e._$s(12,"sc","image3"),attrs:{src:e._$s(12,"a-src",n("a3a4")),_i:12}}),s("br"),s("text",{staticClass:e._$s(14,"sc","text3"),attrs:{_i:14}})]),s("view",{staticClass:e._$s(15,"sc","jiesuan"),attrs:{_i:15}},[s("button",{staticClass:e._$s(16,"sc","button1"),attrs:{_i:16}}),s("button",{staticClass:e._$s(17,"sc","button1"),attrs:{_i:17},on:{click:e.gopay}})])])},i=[]},"6b58":function(e,t,n){var s=n("7037")["default"],i=n("3c96");e.exports=function(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},"6df1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{id:"123457",good:{userid:"123457",name:"\u5546\u54c11",price:50,time:"2022-10-26 18:12:59",detail:"vue\u662f\u4e00\u5957\u7528\u4e8e\u6784\u5efa\u7528\u6237\u754c\u9762\u7684\u6e10\u8fdb\u5f0f\u6846\u67b6\uff0c\u4f7f\u7528Vue,\u53ef\u4ee5\u5b8c\u5168\u5728\u6d4f\u89c8\u5668\u6e32\u67d3\u9875\u9762\uff0c\u670d\u52a1\u7aef\u53ea\u63d0\u4f9b\u6570\u636e\uff0c\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u7684\u6784\u5efa\u5355\u9875\u9762\u5e94\u7528"},good_id:"",good_type:"\u4ee3\u529e"}},onLoad:function(e){this.good_id=e.id},methods:{talk:function(){uni.navigateTo({url:"/pages/messsge_detail/messsge_detail?id="+this.good.userid})},gopay:function(){this.good.userid!==this.id?uni.showModal({content:"\u786e\u8ba4\u63a5\u5355",success:function(e){e.confirm}}):uni.showToast({title:"\u65e0\u6743\u9650",icon:"error"})}}};t.default=s},"6fbd":function(e,t){e.exports="/static/lose.png"},7037:function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"72b4":function(e,t,n){"use strict";n.r(t);var s=n("c5da"),i=n("8a63");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},7351:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","chatInterface"),attrs:{_i:0},on:{contextmenu:function(e){e.preventDefault()}}},[n("view",{staticClass:e._$s(1,"sc","scroll-view"),attrs:{_i:1}},[e._$s(2,"i",e.history.loading)?n("image",{staticClass:e._$s(2,"sc","history-loaded"),attrs:{_i:2}}):n("view",{class:e._$s(3,"c",e.history.allLoaded?"history-loaded":"load"),attrs:{_i:3},on:{click:function(t){return e.loadHistoryMessage(!1)}}},[n("view",[e._v(e._$s(4,"t0-0",e._s(e.history.allLoaded?"\u5df2\u7ecf\u6ca1\u6709\u66f4\u591a\u7684\u5386\u53f2\u6d88\u606f":"\u70b9\u51fb\u83b7\u53d6\u5386\u53f2\u6d88\u606f")))])]),n("checkbox-group",{attrs:{_i:5},on:{change:e.selectMessages}},e._l(e._$s(6,"f",{forItems:e.history.messages}),(function(t,s,i,r){return n("view",{key:e._$s(6,"f",{forIndex:i,key:t.messageId})},[n("view",{staticClass:e._$s("7-"+r,"sc","time-lag"),attrs:{_i:"7-"+r}},[e._v(e._$s("7-"+r,"t0-0",e._s(e.renderMessageDate(t,s))))]),e._$s("8-"+r,"i",t.recalled)?n("view",{staticClass:e._$s("8-"+r,"sc","message-recalled"),attrs:{_i:"8-"+r}},[e._$s("9-"+r,"i",t.senderId!==e.currentUser.id)?n("view",[e._v(e._$s("9-"+r,"t0-0",e._s(e.friend.name)))]):n("view",{staticClass:e._$s("10-"+r,"sc","message-recalled-self"),attrs:{_i:"10-"+r}},[n("view"),e._$s("12-"+r,"i","text"===t.type&&Date.now()-t.timestamp<6e4)?n("span",{attrs:{_i:"12-"+r},on:{click:function(n){return e.editRecalledMessage(t.payload.text)}}}):e._e()])]):n("view",{staticClass:e._$s("13-"+r,"sc","message-item"),attrs:{_i:"13-"+r}},[n("view",{staticClass:e._$s("14-"+r,"sc","message-item-checkbox"),attrs:{_i:"14-"+r}},[n("checkbox",{directives:[{name:"show",rawName:"v-show",value:e._$s("15-"+r,"v-show",e.messageSelector.visible&&"sending"!==t.status),expression:"_$s((\"15-\"+$30),'v-show',messageSelector.visible && message.status !== 'sending')"}],attrs:{value:e._$s("15-"+r,"a-value",t.messageId),checked:e._$s("15-"+r,"a-checked",e.messageSelector.messages.includes(t)),_i:"15-"+r}})]),n("view",{staticClass:e._$s("16-"+r,"sc","message-item-content"),class:e._$s("16-"+r,"c",{self:t.senderId===e.currentUser.id}),attrs:{_i:"16-"+r}},[n("view",{staticClass:e._$s("17-"+r,"sc","avatar"),attrs:{_i:"17-"+r}},[n("image",{attrs:{src:e._$s("18-"+r,"a-src",t.senderId===e.currentUser.id?e.currentUser.avatar:e.friend.avatar),_i:"18-"+r}})]),n("view",{staticClass:e._$s("19-"+r,"sc","content"),attrs:{_i:"19-"+r},on:{contextmenu:function(n){return e.showActionPopup(t)},longpress:function(n){return e.showActionPopup(t)}}},[n("view",{staticClass:e._$s("20-"+r,"sc","message-payload"),attrs:{_i:"20-"+r}},[e._$s("21-"+r,"i","sending"===t.status)?n("b",{staticClass:e._$s("21-"+r,"sc","pending"),attrs:{_i:"21-"+r}}):e._e(),e._$s("22-"+r,"i","fail"===t.status)?n("b",{staticClass:e._$s("22-"+r,"sc","send-fail"),attrs:{_i:"22-"+r}}):e._e(),e._$s("23-"+r,"i","text"===t.type)?n("view",{attrs:{_i:"23-"+r},domProps:{innerHTML:e._s(e._$s("23-"+r,"v-html",e.renderTextMessage(t)))}}):e._e(),e._$s("24-"+r,"i","image"===t.type)?n("image",{staticClass:e._$s("24-"+r,"sc","image-content"),style:e._$s("24-"+r,"s",{height:e.getImageHeight(t.payload.width,t.payload.height)+"rpx"}),attrs:{"data-url":e._$s("24-"+r,"a-data-url",t.payload.url),src:e._$s("24-"+r,"a-src",t.payload.url),_i:"24-"+r},on:{click:e.showImageFullScreen}}):e._e(),e._$s("25-"+r,"i","video"===t.type)?n("view",{staticClass:e._$s("25-"+r,"sc","video-snapshot"),attrs:{"data-url":e._$s("25-"+r,"a-data-url",t.payload.video.url),_i:"25-"+r},on:{click:e.playVideo}},[n("image",{style:e._$s("26-"+r,"s",{height:e.getImageHeight(t.payload.thumbnail.width,t.payload.thumbnail.height)+"rpx"}),attrs:{src:e._$s("26-"+r,"a-src",t.payload.thumbnail.url),_i:"26-"+r}}),n("view",{staticClass:e._$s("27-"+r,"sc","video-play-icon"),attrs:{_i:"27-"+r}})]):e._e(),e._$s("28-"+r,"i","file"===t.type)?n("view",{staticClass:e._$s("28-"+r,"sc","file-content"),attrs:{_i:"28-"+r}},[n("view",{staticClass:e._$s("29-"+r,"sc","file-info"),attrs:{_i:"29-"+r}},[n("span",{staticClass:e._$s("30-"+r,"sc","file-name"),attrs:{_i:"30-"+r}},[e._v(e._$s("30-"+r,"t0-0",e._s(t.payload.name)))]),n("span",{staticClass:e._$s("31-"+r,"sc","file-size"),attrs:{_i:"31-"+r}},[e._v(e._$s("31-"+r,"t0-0",e._s((t.payload.size/1024).toFixed(2))))])]),n("image",{staticClass:e._$s("32-"+r,"sc","file-img"),attrs:{_i:"32-"+r}})]):e._e(),e._$s("33-"+r,"i","audio"===t.type)?n("view",{staticClass:e._$s("33-"+r,"sc","audio-content"),attrs:{_i:"33-"+r},on:{click:function(n){return e.playAudio(t)}}},[n("view",{staticClass:e._$s("34-"+r,"sc","audio-facade"),style:e._$s("34-"+r,"s",{width:7*Math.ceil(t.payload.duration)+50+"px"}),attrs:{_i:"34-"+r}},[n("view",{staticClass:e._$s("35-"+r,"sc","audio-facade-bg"),class:e._$s("35-"+r,"c",{"play-icon":e.audioPlayer.playingMessage&&e.audioPlayer.playingMessage.messageId===t.messageId}),attrs:{_i:"35-"+r}}),n("view",[e._v(e._$s("36-"+r,"t0-0",e._s(Math.ceil(t.payload.duration)||1))),n("span")])])]):e._e(),e._$s("38-"+r,"i","order"===t.type)?n("view",{staticClass:e._$s("38-"+r,"sc","order-content"),attrs:{_i:"38-"+r}},[n("view",{staticClass:e._$s("39-"+r,"sc","order-id"),attrs:{_i:"39-"+r}},[e._v(e._$s("39-"+r,"t0-0",e._s(t.payload.id)))]),n("view",{staticClass:e._$s("40-"+r,"sc","order-body"),attrs:{_i:"40-"+r}},[n("image",{staticClass:e._$s("41-"+r,"sc","order-img"),attrs:{src:e._$s("41-"+r,"a-src",t.payload.url),_i:"41-"+r}}),n("view",[n("view",{staticClass:e._$s("43-"+r,"sc","order-name"),attrs:{_i:"43-"+r}},[e._v(e._$s("43-"+r,"t0-0",e._s(t.payload.name)))]),n("view",{staticClass:e._$s("44-"+r,"sc","order-info"),attrs:{_i:"44-"+r}},[n("view",{staticClass:e._$s("45-"+r,"sc","order-price"),attrs:{_i:"45-"+r}},[e._v(e._$s("45-"+r,"t0-0",e._s(t.payload.price)))]),n("view",{staticClass:e._$s("46-"+r,"sc","order-count"),attrs:{_i:"46-"+r}},[e._v(e._$s("46-"+r,"t0-0",e._s(t.payload.count)))])])])])]):e._e()]),e._$s("47-"+r,"i",t.senderId===e.currentUser.id)?n("view",{class:e._$s("47-"+r,"c",t.read?"message-read":"message-unread"),attrs:{_i:"47-"+r}},[e._$s("48-"+r,"i","success"===t.status)?n("view",[e._v(e._$s("48-"+r,"t0-0",e._s(t.read?"\u5df2\u8bfb":"\u672a\u8bfb")))]):e._e()]):e._e()])])])])})),0)]),e._$s(49,"i",!e.videoPlayer.visible&&!e.messageSelector.visible)?n("view",{staticClass:e._$s(49,"sc","action-box"),attrs:{_i:49}},[n("view",{staticClass:e._$s(50,"sc","action-top"),attrs:{_i:50}},[n("view",{attrs:{_i:51},on:{click:e.switchAudioKeyboard}},[e._$s(52,"i",e.audio.visible)?n("image",{staticClass:e._$s(52,"sc","more"),attrs:{_i:52}}):n("image",{staticClass:e._$s(53,"sc","more"),attrs:{_i:53}})]),e._$s(54,"i",e.audio.visible)?n("view",{staticClass:e._$s(54,"sc","record-input"),attrs:{_i:54},on:{click:e.onRecordStart,touchend:function(t){return t.stopPropagation(),e.onRecordEnd(t)},touchstart:function(t){return t.stopPropagation(),e.onRecordStart(t)}}},[e._v(e._$s(54,"t0-0",e._s(e.audio.recording?"\u677e\u5f00\u53d1\u9001":"\u6309\u4f4f\u5f55\u97f3")))]):n("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],staticClass:e._$s(55,"sc","consult-input"),attrs:{_i:55},domProps:{value:e._$s(55,"v-model",e.text)},on:{confirm:e.sendTextMessage,input:function(t){t.target.composing||(e.text=t.target.value)}}}),n("view",{attrs:{_i:56},on:{click:e.switchEmojiKeyboard}},[e._$s(57,"i",e.emoji.visible)?n("image",{staticClass:e._$s(57,"sc","more"),attrs:{_i:57}}):n("image",{staticClass:e._$s(58,"sc","more"),attrs:{_i:58}})]),n("view",[n("image",{staticClass:e._$s(60,"sc","more"),attrs:{_i:60},on:{click:function(t){return e.showOtherTypesMessagePanel()}}})]),e._$s(61,"i",e.text)?n("view",{staticClass:e._$s(61,"sc","send-btn-box"),attrs:{_i:61}},[n("text",{staticClass:e._$s(62,"sc","btn"),attrs:{_i:62},on:{click:function(t){return e.sendTextMessage()}}})]):e._e()]),e._$s(63,"i",e.emoji.visible)?n("view",{staticClass:e._$s(63,"sc","action-bottom action-bottom-emoji"),attrs:{_i:63}},e._l(e._$s(64,"f",{forItems:e.emoji.map}),(function(t,s,i,r){return n("image",{key:e._$s(64,"f",{forIndex:i,key:i}),staticClass:e._$s("64-"+r,"sc","emoji-item"),attrs:{src:e._$s("64-"+r,"a-src",e.emoji.url+t),_i:"64-"+r},on:{click:function(t){return e.chooseEmoji(s)}}})})),0):e._e(),e._$s(65,"i",e.otherTypesMessagePanelVisible)?n("view",{staticClass:e._$s(65,"sc","action-bottom"),attrs:{_i:65}},[n("view",{staticClass:e._$s(66,"sc","more-icon"),attrs:{_i:66}},[n("image",{staticClass:e._$s(67,"sc","operation-icon"),attrs:{_i:67},on:{click:function(t){return e.sendImageMessage()}}}),n("view",{staticClass:e._$s(68,"sc","operation-title"),attrs:{_i:68}})]),n("view",{staticClass:e._$s(69,"sc","more-icon"),attrs:{_i:69}},[n("image",{staticClass:e._$s(70,"sc","operation-icon"),attrs:{_i:70},on:{click:function(t){return e.sendVideoMessage()}}}),n("view",{staticClass:e._$s(71,"sc","operation-title"),attrs:{_i:71}})]),n("view",{staticClass:e._$s(72,"sc","more-icon"),attrs:{_i:72}},[n("image",{staticClass:e._$s(73,"sc","operation-icon"),attrs:{_i:73},on:{click:function(t){return e.showOrderMessageList()}}}),n("view",{staticClass:e._$s(74,"sc","operation-title"),attrs:{_i:74}})])]):e._e()]):e._e(),e._$s(75,"i",e.actionPopup.visible)?n("view",{staticClass:e._$s(75,"sc","action-popup"),attrs:{_i:75},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault()}}},[n("view",{staticClass:e._$s(76,"sc","layer"),attrs:{_i:76}}),n("view",{staticClass:e._$s(77,"sc","action-list"),attrs:{_i:77}},[n("view",{staticClass:e._$s(78,"sc","action-item"),attrs:{_i:78},on:{click:e.deleteSingleMessage}}),e._$s(79,"i",e.actionPopup.recallable)?n("view",{staticClass:e._$s(79,"sc","action-item"),attrs:{_i:79},on:{click:e.recallMessage}}):e._e(),n("view",{staticClass:e._$s(80,"sc","action-item"),attrs:{_i:80},on:{click:e.showCheckBox}}),n("view",{staticClass:e._$s(81,"sc","action-item"),attrs:{_i:81},on:{click:e.hideActionPopup}})])]):e._e(),e._$s(82,"i",e.messageSelector.visible)?n("view",{staticClass:e._$s(82,"sc","messageSelector-box"),attrs:{_i:82}},[n("image",{staticClass:e._$s(83,"sc","messageSelector-btn"),attrs:{_i:83},on:{click:e.deleteMultipleMessages}})]):e._e(),e._$s(84,"i",e.audio.recording)?n("view",{staticClass:e._$s(84,"sc","record-loading"),attrs:{_i:84}}):e._e(),e._$s(85,"i",e.videoPlayer.visible)?n("video",{attrs:{src:e._$s(85,"a-src",e.videoPlayer.url),id:"videoPlayer",_i:85},on:{fullscreenchange:e.onVideoFullScreenChange}}):e._e(),e._$s(86,"i",e.orderList.visible)?n("view",{staticClass:e._$s(86,"sc","order-list"),attrs:{_i:86}},[n("view",{staticClass:e._$s(87,"sc","orders-content"),attrs:{_i:87}},[n("view",{staticClass:e._$s(88,"sc","title"),attrs:{_i:88}},[n("view"),n("view",{staticClass:e._$s(90,"sc","close"),attrs:{_i:90},on:{click:e.hideOrderMessageList}})]),n("view",{staticClass:e._$s(91,"sc","orders"),attrs:{_i:91}},e._l(e._$s(92,"f",{forItems:e.orderList.orders}),(function(t,s,i,r){return n("view",{key:e._$s(92,"f",{forIndex:i,key:s}),staticClass:e._$s("92-"+r,"sc","order-item"),attrs:{_i:"92-"+r},on:{click:function(n){return e.sendOrderMessage(t)}}},[n("view",{staticClass:e._$s("93-"+r,"sc","order-id"),attrs:{_i:"93-"+r}},[e._v(e._$s("93-"+r,"t0-0",e._s(t.id)))]),n("view",{staticClass:e._$s("94-"+r,"sc","order-body"),attrs:{_i:"94-"+r}},[n("image",{staticClass:e._$s("95-"+r,"sc","order-img"),attrs:{src:e._$s("95-"+r,"a-src",t.url),_i:"95-"+r}}),n("view",{staticClass:e._$s("96-"+r,"sc","order-name"),attrs:{_i:"96-"+r}},[e._v(e._$s("96-"+r,"t0-0",e._s(t.name)))]),n("view",{staticClass:e._$s("97-"+r,"sc","order-right"),attrs:{_i:"97-"+r}},[n("view",{staticClass:e._$s("98-"+r,"sc","order-price"),attrs:{_i:"98-"+r}},[e._v(e._$s("98-"+r,"t0-0",e._s(t.price)))]),n("view",{staticClass:e._$s("99-"+r,"sc","order-count"),attrs:{_i:"99-"+r}},[e._v(e._$s("99-"+r,"t0-0",e._s(t.count)))])])])])})),0)])]):e._e()])},i=[]},"73d0":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",{staticClass:e._$s(0,"sc","content"),attrs:{_i:0}},[s("view",{staticClass:e._$s(1,"sc","status_bar"),attrs:{_i:1}}),s("view",{staticClass:e._$s(2,"sc","head"),attrs:{_i:2}},[s("text")]),s("view",{staticClass:e._$s(4,"sc","meau"),attrs:{_i:4}},[s("image",{staticClass:e._$s(5,"sc","icon1"),attrs:{src:e._$s(5,"a-src",n("fcff")),_i:5},on:{click:function(t){return e.gotolist("\u4e8c\u624b")}}}),s("image",{staticClass:e._$s(6,"sc","icon1"),attrs:{src:e._$s(6,"a-src",n("bf4c")),_i:6},on:{click:function(t){return e.gotolist("\u4ee3\u529e")}}}),s("image",{staticClass:e._$s(7,"sc","icon1"),attrs:{src:e._$s(7,"a-src",n("6fbd")),_i:7},on:{click:function(t){return e.gotolist("\u5931\u7269\u62db\u9886")}}}),s("image",{staticClass:e._$s(8,"sc","icon1"),attrs:{src:e._$s(8,"a-src",n("590c")),_i:8}})]),s("view",{staticClass:e._$s(9,"sc","meau"),attrs:{_i:9}},[s("image",{staticClass:e._$s(10,"sc","icon1"),attrs:{src:e._$s(10,"a-src",n("3b17")),_i:10}}),s("image",{staticClass:e._$s(11,"sc","icon1"),attrs:{src:e._$s(11,"a-src",n("8f4f")),_i:11}}),s("image",{staticClass:e._$s(12,"sc","icon1"),attrs:{src:e._$s(12,"a-src",n("b97e")),_i:12}}),s("image",{staticClass:e._$s(13,"sc","icon1"),attrs:{src:e._$s(13,"a-src",n("9d32")),_i:13}})]),s("button",{attrs:{_i:14},on:{click:e.test}})])},i=[]},"75a1":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[e._$s(1,"i","\u4e8c\u624b"===e.type||"\u4ee3\u529e"===e.type)?n("view",{staticClass:e._$s(1,"sc","main"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","item"),attrs:{_i:2}},[n("text",{staticClass:e._$s(3,"sc","text_1"),attrs:{_i:3}}),n("text",{staticClass:e._$s(4,"sc","text_2"),attrs:{_i:4}},[e._v(e._$s(4,"t0-0",e._s(e.order.name)))])]),n("view",{staticClass:e._$s(5,"sc","item"),attrs:{_i:5}},[n("text",{staticClass:e._$s(6,"sc","text_1"),attrs:{_i:6}}),n("text",{staticClass:e._$s(7,"sc","text_2"),attrs:{_i:7}},[e._v(e._$s(7,"t0-0",e._s(e.type)))])]),n("view",{staticClass:e._$s(8,"sc","item"),attrs:{_i:8}},[n("text",{staticClass:e._$s(9,"sc","text_1"),attrs:{_i:9}}),n("text",{staticClass:e._$s(10,"sc","text_2"),attrs:{_i:10}},[e._v(e._$s(10,"t0-0",e._s(e.order.status)))])]),n("view",{staticClass:e._$s(11,"sc","item"),attrs:{_i:11}},[n("text",{staticClass:e._$s(12,"sc","text_1"),attrs:{_i:12}}),n("text",{staticClass:e._$s(13,"sc","text_2"),attrs:{_i:13}},[e._v(e._$s(13,"t0-0",e._s(e.order.creatime)))])]),n("view",{staticClass:e._$s(14,"sc","item"),attrs:{_i:14}},[n("text",{staticClass:e._$s(15,"sc","text_1"),attrs:{_i:15}}),n("text",{staticClass:e._$s(16,"sc","text_2"),attrs:{_i:16}},[e._v(e._$s(16,"t0-0",e._s(e.order.finishtime)))])]),n("view",{staticClass:e._$s(17,"sc","item"),attrs:{_i:17}},[n("text",{staticClass:e._$s(18,"sc","text_1"),attrs:{_i:18}}),n("text",{staticClass:e._$s(19,"sc","text_2"),attrs:{_i:19}},[e._v(e._$s(19,"t0-0",e._s(e.order_id)))])]),n("view",{staticClass:e._$s(20,"sc","item"),attrs:{_i:20}},[n("text",{staticClass:e._$s(21,"sc","text_1"),attrs:{_i:21}}),n("text",{staticClass:e._$s(22,"sc","text_2"),attrs:{_i:22}},[e._v(e._$s(22,"t0-0",e._s(e.order.user_from)))])]),n("view",{staticClass:e._$s(23,"sc","item"),attrs:{_i:23}},[n("text",{staticClass:e._$s(24,"sc","text_1"),attrs:{_i:24}}),n("text",{staticClass:e._$s(25,"sc","text_2"),attrs:{_i:25}},[e._v(e._$s(25,"t0-0",e._s(e.order.userphone_from)))])]),n("view",{staticClass:e._$s(26,"sc","item"),attrs:{_i:26}},[n("text",{staticClass:e._$s(27,"sc","text_1"),attrs:{_i:27}}),n("text",{staticClass:e._$s(28,"sc","text_2"),attrs:{_i:28}},[e._v(e._$s(28,"t0-0",e._s(e.order.user_to)))])]),n("view",{staticClass:e._$s(29,"sc","item"),attrs:{_i:29}},[n("text",{staticClass:e._$s(30,"sc","text_1"),attrs:{_i:30}}),n("text",{staticClass:e._$s(31,"sc","text_2"),attrs:{_i:31}},[e._v(e._$s(31,"t0-0",e._s(e.order.userphone_to)))])]),n("view",{staticClass:e._$s(32,"sc","item"),attrs:{_i:32}},[n("text",{staticClass:e._$s(33,"sc","text_1"),attrs:{_i:33}}),n("text",{staticClass:e._$s(34,"sc","text_2"),attrs:{_i:34}},[e._v(e._$s(34,"t0-0",e._s(e.order.pirece)))])]),n("view",[n("text"),e._$s(37,"i","\u5df2\u5b8c\u6210"===e.order.status)?n("view",[e._$s(38,"i",!e.order.evaluate.exist)?n("view",{staticClass:e._$s(38,"sc","release_eva"),attrs:{_i:38}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.evaluate_input,expression:"evaluate_input"}],staticClass:e._$s(39,"sc","release_text"),attrs:{_i:39},domProps:{value:e._$s(39,"v-model",e.evaluate_input)},on:{input:function(t){t.target.composing||(e.evaluate_input=t.target.value)}}}),n("button",{staticClass:e._$s(40,"sc","button1"),attrs:{_i:40}})]):e._$s(41,"e",e.order.evaluate.exist)?n("view",{staticClass:e._$s(41,"sc","text_3"),attrs:{_i:41}},[n("text",[e._v(e._$s(42,"t0-0",e._s(e.order.evaluate.content)))])]):e._e()]):e._$s(43,"e","\u5df2\u5b8c\u6210"!==e.order.status)?n("view",{staticClass:e._$s(43,"sc","text_3"),attrs:{_i:43}},[n("text")]):e._e()])]):n("view",{staticClass:e._$s(45,"sc","main"),attrs:{_i:45}},[n("view",{staticClass:e._$s(46,"sc","item"),attrs:{_i:46}},[n("text",{staticClass:e._$s(47,"sc","text_1"),attrs:{_i:47}}),n("text",{staticClass:e._$s(48,"sc","text_2"),attrs:{_i:48}},[e._v(e._$s(48,"t0-0",e._s(e.order.name)))])]),n("view",{staticClass:e._$s(49,"sc","item"),attrs:{_i:49}},[n("text",{staticClass:e._$s(50,"sc","text_1"),attrs:{_i:50}}),n("text",{staticClass:e._$s(51,"sc","text_2"),attrs:{_i:51}},[e._v(e._$s(51,"t0-0",e._s(e.type)))])]),n("view",{staticClass:e._$s(52,"sc","item"),attrs:{_i:52}},[n("text",{staticClass:e._$s(53,"sc","text_1"),attrs:{_i:53}}),n("text",{staticClass:e._$s(54,"sc","text_2"),attrs:{_i:54}},[e._v(e._$s(54,"t0-0",e._s(e.order.status)))])]),n("view",{staticClass:e._$s(55,"sc","item"),attrs:{_i:55}},[n("text",{staticClass:e._$s(56,"sc","text_1"),attrs:{_i:56}}),n("text",{staticClass:e._$s(57,"sc","text_2"),attrs:{_i:57}},[e._v(e._$s(57,"t0-0",e._s(e.order.creatime)))])]),n("view",{staticClass:e._$s(58,"sc","item"),attrs:{_i:58}},[n("text",{staticClass:e._$s(59,"sc","text_1"),attrs:{_i:59}}),n("text",{staticClass:e._$s(60,"sc","text_2"),attrs:{_i:60}},[e._v(e._$s(60,"t0-0",e._s(e.order.finishtime)))])]),n("view",{staticClass:e._$s(61,"sc","item"),attrs:{_i:61}},[n("text",{staticClass:e._$s(62,"sc","text_1"),attrs:{_i:62}}),n("text",{staticClass:e._$s(63,"sc","text_2"),attrs:{_i:63}},[e._v(e._$s(63,"t0-0",e._s(e.order_id)))])]),n("view",{staticClass:e._$s(64,"sc","item"),attrs:{_i:64}},[n("text",{staticClass:e._$s(65,"sc","text_1"),attrs:{_i:65}}),n("text",{staticClass:e._$s(66,"sc","text_2"),attrs:{_i:66}},[e._v(e._$s(66,"t0-0",e._s(e.order.user_from)))])]),n("view",{staticClass:e._$s(67,"sc","item"),attrs:{_i:67}},[n("text",{staticClass:e._$s(68,"sc","text_1"),attrs:{_i:68}}),n("text",{staticClass:e._$s(69,"sc","text_2"),attrs:{_i:69}},[e._v(e._$s(69,"t0-0",e._s(e.order.userphone_from)))])])]),n("view",{staticClass:e._$s(70,"sc","buttonview"),attrs:{_i:70}},[e._$s(71,"i","\u4e8c\u624b"===e.type||"\u4ee3\u529e"===e.type)?n("button",{staticClass:e._$s(71,"sc","button1"),attrs:{_i:71},on:{click:e.contract}}):e._e(),n("button",{staticClass:e._$s(72,"sc","button1"),attrs:{_i:72},on:{click:e.detail}}),n("button",{staticClass:e._$s(73,"sc","button1"),attrs:{_i:73},on:{click:function(t){return e.operate(!0)}}}),n("button",{staticClass:e._$s(74,"sc","button1"),attrs:{_i:74},on:{click:function(t){return e.operate(!1)}}})])])},i=[]},"76a1":function(e,t,n){"use strict";n.r(t);var s=n("b966"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"7b21":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",{staticClass:e._$s(1,"sc","view_1"),attrs:{_i:1}},[n("text",{staticClass:e._$s(2,"sc","text_1"),attrs:{_i:2}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phonenumber_new,expression:"phonenumber_new"}],staticClass:e._$s(3,"sc","input_1"),attrs:{_i:3},domProps:{value:e._$s(3,"v-model",e.phonenumber_new)},on:{input:function(t){t.target.composing||(e.phonenumber_new=t.target.value)}}}),n("text",{staticClass:e._$s(4,"sc","text_1"),attrs:{_i:4}}),n("view",{staticClass:e._$s(5,"sc","cap"),attrs:{_i:5}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.captch,expression:"captch"}],staticClass:e._$s(6,"sc","input_2"),attrs:{_i:6},domProps:{value:e._$s(6,"v-model",e.captch)},on:{input:function(t){t.target.composing||(e.captch=t.target.value)}}}),n("button",{staticClass:e._$s(7,"sc","button_cap"),style:e._$s(7,"s",{color:e.color}),attrs:{_i:7},on:{click:e.getcaptch}},[e._v(e._$s(7,"t0-0",e._s(e.msg)))])]),n("button",{staticClass:e._$s(8,"sc","button_1"),attrs:{_i:8},on:{click:e.setphonenumber}})])])},i=[]},"7ec2":function(e,t,n){var s=n("7037")["default"];function i(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports["default"]=e.exports;var t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(T){f=function(e,t,n){return e[t]=n}}function d(e,t,n,s){var i=t&&t.prototype instanceof v?t:v,r=Object.create(i.prototype),o=new A(s||[]);return a(r,"_invoke",{value:k(e,n,o)}),r}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=d;var h={};function v(){}function m(){}function g(){}var y={};f(y,u,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(O([])));w&&w!==n&&r.call(w,u)&&(y=w);var b=g.prototype=v.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var n;a(this,"_invoke",{value:function(i,a){function o(){return new t((function(n,o){(function n(i,a,o,u){var c=p(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,u)}))}u(c.arg)})(i,a,n,o)}))}return n=n?n.then(o,o):o()}})}function k(e,t,n){var s="suspendedStart";return function(i,r){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===i)throw r;return I()}for(n.method=i,n.arg=r;;){var a=n.delegate;if(a){var o=x(a,n);if(o){if(o===h)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===s)throw s="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);s="executing";var u=p(e,t,n);if("normal"===u.type){if(s=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(s="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,s=e.iterator[n];if(void 0===s)return t.delegate=null,"throw"===n&&e.iterator["return"]&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=p(s,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,s=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}return{next:I}}function I(){return{value:void 0,done:!0}}return m.prototype=g,a(b,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:m,configurable:!0}),m.displayName=f(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,f(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},C(E.prototype),f(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,s,i,r){void 0===r&&(r=Promise);var a=new E(d(e,n,s,i),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(b),f(b,l,"Generator"),f(b,u,(function(){return this})),f(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var s in t)n.push(s);return n.reverse(),function e(){for(;n.length;){var s=n.pop();if(s in t)return e.value=s,e.done=!1,e}return e.done=!0,e}},t.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,s){return a.type="throw",a.arg=e,t.next=n,s&&(t.method="next",t.arg=void 0),!!s}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var o=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(o&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&r.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var i=s;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var s=n.completion;if("throw"===s.type){var i=s.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},"7f25":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",{staticClass:e._$s(1,"sc","status_bar"),attrs:{_i:1}}),n("view",{staticClass:e._$s(2,"sc","head"),attrs:{_i:2}},[n("text",{staticClass:e._$s(3,"sc","text_1"),attrs:{_i:3}})]),n("view",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.phonenumber,expression:"phonenumber"}],staticClass:e._$s(5,"sc","input_1"),attrs:{_i:5},domProps:{value:e._$s(5,"v-model",e.phonenumber)},on:{input:function(t){t.target.composing||(e.phonenumber=t.target.value)}}}),n("view",{staticClass:e._$s(6,"sc","cap"),attrs:{_i:6}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.captcha,expression:"captcha"}],staticClass:e._$s(7,"sc","input_2"),attrs:{_i:7},domProps:{value:e._$s(7,"v-model",e.captcha)},on:{input:function(t){t.target.composing||(e.captcha=t.target.value)}}}),n("button",{staticClass:e._$s(8,"sc","button_cap"),style:e._$s(8,"s",{color:e.color}),attrs:{_i:8},on:{click:e.getcaptch}},[e._v(e._$s(8,"t0-0",e._s(e.msg)))])])]),n("view",{staticClass:e._$s(9,"sc",".read"),attrs:{_i:9}},[n("switch",{attrs:{_i:10},on:{change:e.readchange}}),n("text"),n("text",{attrs:{_i:12},on:{click:e.readagree}}),n("text")]),n("button",{staticClass:e._$s(14,"sc","button_1"),attrs:{_i:14},on:{click:e.login}})])},i=[]},"7fca":function(e,t,n){"use strict";n.r(t);var s=n("9469"),i=n("5b6b");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},"7fd6":function(e,t,n){"use strict";n.r(t);var s=n("ad0e");for(var i in s)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(i);var r=n("f0c5"),a=Object(r["a"])(s["default"],void 0,void 0,!1,null,null,null,!1,void 0,void 0);t["default"]=a.exports},"80f8":function(e,t,n){"use strict";n.r(t);var s=n("9d25"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"82db":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{pay:{no_secret:!1,payword:"123456"}}},beforeCreate:function(){uni.getStorage({key:"pay",success:function(e){this.pay=e.data}})},methods:{changesecret:function(){},goto:function(){uni.navigateTo({url:"/pages/mine/wallet/pay_password_set"})}}};t.default=s},"86bd":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",[s("view",{staticClass:e._$s(1,"sc","image1"),attrs:{_i:1}},[s("image",{staticClass:e._$s(2,"sc","image2"),attrs:{src:e._$s(2,"a-src",n("caeb")),_i:2}})]),s("view",{staticClass:e._$s(3,"sc","detailview"),attrs:{_i:3}},[s("text",{staticClass:e._$s(4,"sc","nametext"),attrs:{_i:4}},[e._v(e._$s(4,"t0-0",e._s(e.good.name)))]),s("br"),s("text",{staticClass:e._$s(6,"sc","pricetext"),attrs:{_i:6}},[e._v(e._$s(6,"t0-0",e._s(e.good.type)))]),s("br"),s("text",{staticClass:e._$s(8,"sc","pricetext"),attrs:{_i:8}},[e._v(e._$s(8,"t0-0",e._s(e.good.address)))]),s("br"),s("text",{staticClass:e._$s(10,"sc","timetext"),attrs:{_i:10}},[e._v(e._$s(10,"t0-0",e._s(e.good.time)))]),s("br"),s("text",{staticClass:e._$s(12,"sc","detailtext"),attrs:{_i:12}},[e._v(e._$s(12,"t0-0",e._s(e.good.detail)))])]),s("view",{staticClass:e._$s(13,"sc","contact"),attrs:{_i:13},on:{click:e.talk}},[s("image",{staticClass:e._$s(14,"sc","image3"),attrs:{src:e._$s(14,"a-src",n("a3a4")),_i:14}}),s("br"),s("text",{staticClass:e._$s(16,"sc","text3"),attrs:{_i:16}})]),s("view",{staticClass:e._$s(17,"sc","jiesuan"),attrs:{_i:17}},[s("button",{staticClass:e._$s(18,"sc","button1"),attrs:{_i:18}}),s("button",{staticClass:e._$s(19,"sc","button1"),attrs:{_i:19},on:{click:e.gopay}})])])},i=[]},8735:function(e,t,n){"use strict";n.r(t);var s=n("7351"),i=n("3bf3");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},8765:function(e,t,n){"use strict";var s=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n("970b")),r=s(n("5bc3")),a=s(n("9523")),o=function(){function e(){(0,i.default)(this,e),(0,a.default)(this,"users",[{id:"08c0a6ec-a42b-47b2-bb1e-15e0f5f9a19a",name:"Mattie",password:"123",avatar:"/static/images/Avatar-1.png",email:"Mattie@goeasy.io",phone:"138xxxxxxxx"},{id:"3bb179af-bcc5-4fe0-9dac-c05688484649",name:"Wallace",password:"123",avatar:"/static/images/Avatar-2.png",email:"Wallace@goeasy.io",phone:"138xxxxxxxx"},{id:"fdee46b0-4b01-4590-bdba-6586d7617f95",name:"Tracy",password:"123",avatar:"/static/images/Avatar-3.png",email:"Tracy@goeasy.io",phone:"138xxxxxxxx"},{id:"33c3693b-dbb0-4bc9-99c6-fa77b9eb763f",name:"Juanita",password:"123",avatar:"/static/images/Avatar-4.png",email:"Juanita@goeasy.io",phone:"138xxxxxxxx"}]),(0,a.default)(this,"groups",[{id:"group-a42b-47b2-bb1e-15e0f5f9a19a",name:"\u5c0f\u7a0b\u5e8f\u4ea4\u6d41\u7fa4",avatar:"/static/images/wx.png",userList:["08c0a6ec-a42b-47b2-bb1e-15e0f5f9a19a","3bb179af-bcc5-4fe0-9dac-c05688484649","fdee46b0-4b01-4590-bdba-6586d7617f95","33c3693b-dbb0-4bc9-99c6-fa77b9eb763f"]},{id:"group-4b01-4590-bdba-6586d7617f95",name:"UniApp\u4ea4\u6d41\u7fa4",avatar:"/static/images/uniapp.png",userList:["08c0a6ec-a42b-47b2-bb1e-15e0f5f9a19a","fdee46b0-4b01-4590-bdba-6586d7617f95","33c3693b-dbb0-4bc9-99c6-fa77b9eb763f"]},{id:"group-dbb0-4bc9-99c6-fa77b9eb763f",name:"GoEasy\u4ea4\u6d41\u7fa4",avatar:"/static/images/goeasy.jpeg",userList:["08c0a6ec-a42b-47b2-bb1e-15e0f5f9a19a","3bb179af-bcc5-4fe0-9dac-c05688484649"]}]),(0,a.default)(this,"orders",[{id:"252364104325",url:"/static/images/goods1-1.jpg",name:"\u9752\u6854\u67e0\u6aac\u6c14\u6ce1\u7f8e\u5f0f",price:"\uffe523",count:1},{id:"251662058022",url:"/static/images/goods1-2.jpg",name:"\u54b8\u67e0\u4e03",price:"\uffe58",count:2},{id:"250676186141",url:"/static/images/goods1-3.jpg",name:"\u9ed1\u7cd6\u6ce2\u6ce2\u9c9c\u5976\u8336",price:"\uffe512",count:1}])}return(0,r.default)(e,[{key:"findUsers",value:function(){return this.users}},{key:"findFriends",value:function(e){return this.users.filter((function(t){return t.id!==e.id}))}},{key:"findGroups",value:function(e){return this.groups.filter((function(t){return t.userList.find((function(t){return t===e.id}))}))}},{key:"findUser",value:function(e,t){return this.users.find((function(n){return n.name===e&&n.password===t}))}},{key:"getOrderList",value:function(){return this.orders}},{key:"findGroupById",value:function(e){return this.groups.find((function(t){return t.id===e}))}},{key:"findUserById",value:function(e){return this.users.find((function(t){return t.id===e}))}},{key:"findGroupMembers",value:function(e){var t=[],n=this.groups.find((function(t){return t.id===e}));return this.users.map((function(e){n.userList.find((function(t){return t===e.id}));t.push(e)})),t}}]),e}(),u=new o;t.default=u},8962:function(e,t,n){var s=n("9f70");function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports["default"]=e.exports):(e.exports=i=function(e,t,n){var i=s(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},e.exports.__esModule=!0,e.exports["default"]=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},"89f6":function(e,t,n){"use strict";n.r(t);var s=n("4854"),i=n("a747");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},"8a63":function(e,t,n){"use strict";n.r(t);var s=n("ba96"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"8bbf":function(e,t){e.exports=Vue},"8dd0":function(e,t,n){"use strict";n.r(t);var s=n("457b"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"8de0":function(e,t,n){"use strict";n.r(t);var s=n("86bd"),i=n("2181");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},"8f4f":function(e,t){e.exports="/static/study.png"},9018:function(e,t,n){"use strict";n.r(t);var s=n("73d0"),i=n("80f8");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},"908b":function(e,t,n){"use strict";n.r(t);var s=n("b102"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},"90ff":function(e,t,n){"use strict";n.r(t);var s=n("d87b"),i=n("8dd0");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},9152:function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,s,i){var r,a,o=8*i-s-1,u=(1<<o)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,p=e[t+f];for(f+=d,r=p&(1<<-l)-1,p>>=-l,l+=o;l>0;r=256*r+e[t+f],f+=d,l-=8);for(a=r&(1<<-l)-1,r>>=-l,l+=s;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===r)r=1-c;else{if(r===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,s),r-=c}return(p?-1:1)*a*Math.pow(2,r-s)},t.write=function(e,t,n,s,i,r){var a,o,u,c=8*r-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=s?0:r-1,h=s?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+f>=1?d/u:d*Math.pow(2,1-f),t*u>=2&&(a++,u/=2),a+f>=l?(o=0,a=l):a+f>=1?(o=(t*u-1)*Math.pow(2,i),a+=f):(o=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&o,p+=h,o/=256,i-=8);for(a=a<<i|o,c+=i;c>0;e[n+p]=255&a,p+=h,a/=256,c-=8);e[n+p-h]|=128*v}},9416:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",[s("view",{staticClass:e._$s(1,"sc","item"),attrs:{_i:1}},[s("view",{staticClass:e._$s(2,"sc","item_1"),attrs:{_i:2}},[s("text")]),s("view",{staticClass:e._$s(4,"sc","item_2"),attrs:{_i:4}},[s("image",{staticClass:e._$s(5,"sc","touxian"),attrs:{src:e._$s(5,"a-src",n("f5a8")),_i:5}})])]),s("view",{staticClass:e._$s(6,"sc","item"),attrs:{_i:6}},[s("view",{staticClass:e._$s(7,"sc","item_1"),attrs:{_i:7}},[s("text")]),s("view",{staticClass:e._$s(9,"sc","item_3"),attrs:{_i:9}},[s("text",[e._v(e._$s(10,"t0-0",e._s(e.userinfo.name)))])])]),s("view",{staticClass:e._$s(11,"sc","item"),attrs:{_i:11}},[s("view",{staticClass:e._$s(12,"sc","item_1"),attrs:{_i:12}},[s("text")]),s("view",{staticClass:e._$s(14,"sc","item_3"),attrs:{_i:14}},[s("text",[e._v(e._$s(15,"t0-0",e._s(e.userinfo.name)))])])]),s("view",{staticClass:e._$s(16,"sc","item"),attrs:{_i:16}},[s("view",{staticClass:e._$s(17,"sc","item_1"),attrs:{_i:17}},[s("text")]),s("view",{staticClass:e._$s(19,"sc","item_3"),attrs:{_i:19}},[s("text",[e._v(e._$s(20,"t0-0",e._s(e.userinfo.school)))])])]),s("view",{staticClass:e._$s(21,"sc","item"),attrs:{_i:21}},[s("view",{staticClass:e._$s(22,"sc","item_1"),attrs:{_i:22}},[s("text")]),s("view",{staticClass:e._$s(24,"sc","item_3"),attrs:{_i:24}},[s("text",[e._v(e._$s(25,"t0-0",e._s(e.userinfo.autograph)))])])]),s("view",[s("text",{attrs:{_i:27},on:{click:e.goset}})])])},i=[]},9469:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",{staticClass:e._$s(1,"sc","serach"),attrs:{_i:1}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],staticClass:e._$s(2,"sc","keyinput"),attrs:{_i:2},domProps:{value:e._$s(2,"v-model",e.keyword)},on:{input:function(t){t.target.composing||(e.keyword=t.target.value)}}})]),n("view",{staticClass:e._$s(3,"sc","list"),attrs:{_i:3}},e._l(e._$s(4,"f",{forItems:e.goods}),(function(t,s,i,r){return n("view",{key:e._$s(4,"f",{forIndex:i,key:"4-"+r})},[e._$s("5-"+r,"i","\u5931\u7269"===t.type)?n("view",{staticClass:e._$s("5-"+r,"sc","item"),attrs:{_i:"5-"+r},on:{click:function(n){return e.gotodetail(t.type,t.id)}}},[n("view",{staticClass:e._$s("6-"+r,"sc","left"),attrs:{_i:"6-"+r}},[n("img",{staticClass:e._$s("7-"+r,"sc","imag1"),attrs:{_i:"7-"+r}}),n("view",[n("text",{staticClass:e._$s("9-"+r,"sc","text1"),attrs:{_i:"9-"+r}},[e._v(e._$s("9-"+r,"t0-0",e._s(t.name)))]),n("br"),n("text",{staticClass:e._$s("11-"+r,"sc","text2"),attrs:{_i:"11-"+r}},[e._v(e._$s("11-"+r,"t0-0",e._s(t.time)))])])]),n("view",{staticClass:e._$s("12-"+r,"sc","right"),attrs:{_i:"12-"+r}},[e._v(e._$s("12-"+r,"t0-0",e._s(t.type)))])]):e._e(),e._$s("13-"+r,"i","\u62db\u9886"===t.type)?n("view",{staticClass:e._$s("13-"+r,"sc","item"),attrs:{_i:"13-"+r},on:{click:function(n){return e.gotodetail(t.type,t.id)}}},[n("view",{staticClass:e._$s("14-"+r,"sc","left"),attrs:{_i:"14-"+r}},[n("img",{staticClass:e._$s("15-"+r,"sc","imag1"),attrs:{_i:"15-"+r}}),n("view",[n("text",{staticClass:e._$s("17-"+r,"sc","text1"),attrs:{_i:"17-"+r}},[e._v(e._$s("17-"+r,"t0-0",e._s(t.name)))]),n("br"),n("text",{staticClass:e._$s("19-"+r,"sc","text2"),attrs:{_i:"19-"+r}},[e._v(e._$s("19-"+r,"t0-0",e._s(t.time)))])])]),n("view",{staticClass:e._$s("20-"+r,"sc","right"),attrs:{_i:"20-"+r}},[e._v(e._$s("20-"+r,"t0-0",e._s(t.type)))])]):e._e(),e._$s("21-"+r,"i","\u4ee3\u529e"===t.type)?n("view",{staticClass:e._$s("21-"+r,"sc","item"),attrs:{_i:"21-"+r},on:{click:function(n){return e.gotodetail(t.type,t.id)}}},[n("view",{staticClass:e._$s("22-"+r,"sc","left"),attrs:{_i:"22-"+r}},[n("img",{staticClass:e._$s("23-"+r,"sc","imag1"),attrs:{_i:"23-"+r}}),n("view",[n("text",{staticClass:e._$s("25-"+r,"sc","text1"),attrs:{_i:"25-"+r}},[e._v(e._$s("25-"+r,"t0-0",e._s(t.name)))]),n("br"),n("text",{staticClass:e._$s("27-"+r,"sc","text2"),attrs:{_i:"27-"+r}},[e._v(e._$s("27-"+r,"t0-0",e._s(t.time)))])])]),n("view",{staticClass:e._$s("28-"+r,"sc","right"),attrs:{_i:"28-"+r}},[e._v(e._$s("28-"+r,"t0-0",e._s(t.type)))])]):e._e(),e._$s("29-"+r,"i","\u4e8c\u624b"===t.type)?n("view",{staticClass:e._$s("29-"+r,"sc","item"),attrs:{_i:"29-"+r},on:{click:function(n){return e.gotodetail(t.type,t.id)}}},[n("view",{staticClass:e._$s("30-"+r,"sc","left"),attrs:{_i:"30-"+r}},[n("img",{staticClass:e._$s("31-"+r,"sc","imag1"),attrs:{_i:"31-"+r}}),n("view",[n("text",{staticClass:e._$s("33-"+r,"sc","text1"),attrs:{_i:"33-"+r}},[e._v(e._$s("33-"+r,"t0-0",e._s(t.name)))]),n("br"),n("text",{staticClass:e._$s("35-"+r,"sc","text2"),attrs:{_i:"35-"+r}},[e._v(e._$s("35-"+r,"t0-0",e._s(t.time)))])])]),n("view",{staticClass:e._$s("36-"+r,"sc","right"),attrs:{_i:"36-"+r}},[e._v(e._$s("36-"+r,"t0-0",e._s(t.type)))])]):e._e()])})),0)])},i=[]},9523:function(e,t,n){var s=n("a395");e.exports=function(e,t,n){return t=s(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports["default"]=e.exports},"970b":function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports["default"]=e.exports},9787:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",{staticClass:e._$s(1,"sc","status_bar"),attrs:{_i:1}}),n("view",{staticClass:e._$s(2,"sc","head"),attrs:{_i:2}},[n("text",{staticClass:e._$s(3,"sc","text_1"),attrs:{_i:3}})]),n("view",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.phonenumber,expression:"userinfo.phonenumber"}],staticClass:e._$s(5,"sc","input_1"),attrs:{_i:5},domProps:{value:e._$s(5,"v-model",e.userinfo.phonenumber)},on:{input:function(t){t.target.composing||e.$set(e.userinfo,"phonenumber",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.password,expression:"userinfo.password"}],staticClass:e._$s(6,"sc","input_1"),attrs:{_i:6},domProps:{value:e._$s(6,"v-model",e.userinfo.password)},on:{input:function(t){t.target.composing||e.$set(e.userinfo,"password",t.target.value)}}})]),n("view",{staticClass:e._$s(7,"sc",".read"),attrs:{_i:7}},[n("switch",{attrs:{_i:8},on:{change:e.readchange}}),n("text"),n("text",{attrs:{_i:10},on:{click:e.readchange}})]),n("button",{staticClass:e._$s(11,"sc","button_1"),attrs:{_i:11},on:{click:e.login}}),n("view",{staticClass:e._$s(12,"sc","register"),attrs:{_i:12}},[n("text",{attrs:{_i:13},on:{click:e.register}})])])},i=[]},"9b42":function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,i,r,a,o=[],u=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(s=r.call(n)).done)&&(o.push(s.value),o.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(c)throw i}}return o}},e.exports.__esModule=!0,e.exports["default"]=e.exports},"9d25":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{title:"Hello",text:""}},onLoad:function(){},methods:{gotolist:function(e){uni.navigateTo({url:"/pages/list/list?type="+e})},test:function(){uni.navigateTo({url:"/pages/index/userinfo_set"})}},beforeCreate:function(){uni.getStorage({key:"userinfo",sucess:function(t){e("log","\u6210\u529f"," at pages/index/index.vue:49")},fail:function(){uni.redirectTo({url:"./login"})}})}};t.default=n}).call(this,n("0de9")["default"])},"9d32":function(e,t){e.exports="/static/tieba.png"},"9f70":function(e,t,n){var s=n("36c6");e.exports=function(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=s(e),null===e)break;return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},a34a:function(e,t,n){var s=n("7037"),i=n("7ec2")();e.exports=i;try{regeneratorRuntime=i}catch(r){"object"===("undefined"===typeof globalThis?"undefined":s(globalThis))?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},a395:function(e,t,n){var s=n("7037")["default"],i=n("e50d");e.exports=function(e){var t=i(e,"string");return"symbol"===s(t)?t:String(t)},e.exports.__esModule=!0,e.exports["default"]=e.exports},a3a4:function(e,t){e.exports="/static/contract.png"},a413:function(e,t,n){"use strict";n.r(t);var s=n("c229"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},a747:function(e,t,n){"use strict";n.r(t);var s=n("4380"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},a9e7:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",{staticClass:e._$s(1,"sc","view_1"),attrs:{_i:1}},[n("text",{staticClass:e._$s(2,"sc","text_1"),attrs:{_i:2}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password_old,expression:"password_old"}],staticClass:e._$s(3,"sc","input_1"),attrs:{_i:3},domProps:{value:e._$s(3,"v-model",e.password_old)},on:{input:function(t){t.target.composing||(e.password_old=t.target.value)}}}),n("text",{staticClass:e._$s(4,"sc","text_1"),attrs:{_i:4}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password_new1,expression:"password_new1"}],staticClass:e._$s(5,"sc","input_1"),attrs:{_i:5},domProps:{value:e._$s(5,"v-model",e.password_new1)},on:{input:function(t){t.target.composing||(e.password_new1=t.target.value)}}}),n("text",{staticClass:e._$s(6,"sc","text_1"),attrs:{_i:6}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password_new2,expression:"password_new2"}],staticClass:e._$s(7,"sc","input_1"),attrs:{_i:7},domProps:{value:e._$s(7,"v-model",e.password_new2)},on:{input:function(t){t.target.composing||(e.password_new2=t.target.value)}}}),e._$s(8,"i",e.password_new1!==e.password_new2)?n("text"):e._e(),n("button",{staticClass:e._$s(9,"sc","button_1"),attrs:{_i:9},on:{click:e.setpassword}})])])},i=[]},aa80:function(e,t,n){"use strict";n.r(t);var s=n("46fa"),i=n("42b7");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},ad0e:function(e,t,n){"use strict";n.r(t);var s=n("0c93"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},ad98:function(e,t,n){"use strict";(function(e){var t=n("4ea4"),s=t(n("9523"));n("f858");var i=t(n("8bbf")),r=t(n("7fd6")),a=t(n("ff46"));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}i.default.config.productionTip=!1,r.default.mpType="app";var u=new i.default(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.default));u.$mount();var c=a.default.getInstance({host:"hangzhou.goeasy.io",appkey:"BC-9caf6716d89444568346eefac6cc0eae",modules:["im"],allowNotification:!0});c.im.on(a.default.IM_EVENT.PRIVATE_MESSAGE_RECEIVED,(function(t){e("log","received private message:"+JSON.stringify(t)," at main.js:19")})),i.default.prototype.GoEasy=a.default,i.default.prototype.goEasy=c}).call(this,n("0de9")["default"])},ae58:function(e,t,n){"use strict";n.r(t);var s=n("f800"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},b102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{password:"",password2:"",pay_password:"",pay_password2:"",school:["\u6e05\u534e\u5927\u5b66","\u5317\u4eac\u5927\u5b66","\u4e2d\u56fd\u77ff\u4e1a\u5927\u5b66\uff08\u5317\u4eac\uff09"],gender:["\u7537","\u5973"],userinfo_main:{id:"",phonenumber:"",password:""},userinfo:{name:"",gender:"\u7537",school:"\u8bf7\u9009\u62e9\u5b66\u6821",autograph:"\u5c0f\u840c\u65b0"},pay:{no_secret:!1,payword:""},adequate:!1}},onLoad:function(e){this.userinfo_main.phonenumber=e.phonenumber},methods:{setgender:function(e){this.userinfo.gender=this.gender[e.detail.value]},setschool:function(e){this.userinfo.school=this.school[e.detail.value]},affirm:function(){this.password===this.password2&&(this.userinfo_main.password=this.password),this.pay_password===this.pay_password2&&(this.pay.payword=this.pay_password)},confirm:function(){null!==this.userinfo&&null!==this.userinfo_main.password&&null!==this.userinfo_main.phonenumber&&null!==this.pay&&"\u8bf7\u9009\u62e9\u5b66\u6821"!==this.userinfo.school&&(this.adequate=!0)},submitinfo:function(){this.affirm(),this.confirm(),this.adequate||uni.showToast({title:"\u4fe1\u606f\u4e0d\u5b8c\u6574",icon:"error"})}}};t.default=s},b2e2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{id:"123456",good:{userid:"123456",name:"\u7269\u54c1\u540d\u79f0",type:"\u5931\u7269/\u62db\u9886",time:"2022-10-26 18:12:59",address:"\u6559\u5b66\u697c",detail:"vue\u662f\u4e00\u5957\u7528\u4e8e\u6784\u5efa\u7528\u6237\u754c\u9762\u7684\u6e10\u8fdb\u5f0f\u6846\u67b6\uff0c\u4f7f\u7528Vue,\u53ef\u4ee5\u5b8c\u5168\u5728\u6d4f\u89c8\u5668\u6e32\u67d3\u9875\u9762\uff0c\u670d\u52a1\u7aef\u53ea\u63d0\u4f9b\u6570\u636e\uff0c\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u7684\u6784\u5efa\u5355\u9875\u9762\u5e94\u7528"},good_id:"",good_type:"\u5931\u7269\u62db\u9886"}},onLoad:function(e){this.good_id=e.id},methods:{talk:function(){uni.navigateTo({url:"/pages/messsge_detail/messsge_detail?id="+this.good.userid})},gopay:function(){this.good.userid===this.id?uni.showModal({content:"\u786e\u8ba4\u5b8c\u6210",success:function(e){e.confirm}}):uni.showToast({title:"\u65e0\u6743\u9650",icon:"error"})}}};t.default=s},b410:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={data:function(){return{}},methods:{}}},b639:function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var s=n("1fb5"),i=n("9152"),r=n("e3db");function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=u.prototype):(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,s){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,s){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(s||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===s?new Uint8Array(t):void 0===s?new Uint8Array(t,n):new Uint8Array(t,n,s);u.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=u.prototype):e=d(e,t);return e}(e,t,n,s):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var s=0|h(t,n);e=o(e,s);var i=e.write(t,n);i!==s&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|p(t.length);return e=o(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||function(e){return e!==e}(t.length)?o(e,0):d(e,t);if("Buffer"===t.type&&r(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=o(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|p(t.length);e=o(e,n);for(var s=0;s<n;s+=1)e[s]=255&t[s];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var s=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(s)return j(e).length;t=(""+t).toLowerCase(),s=!0}}function v(e,t,n){var s=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(s)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function m(e,t,n){var s=e[t];e[t]=e[n],e[n]=s}function g(e,t,n,s,i){if(0===e.length)return-1;if("string"===typeof n?(s=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,s)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,s,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,s,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,s,i){var r,a=1,o=e.length,u=t.length;if(void 0!==s&&(s=String(s).toLowerCase(),"ucs2"===s||"ucs-2"===s||"utf16le"===s||"utf-16le"===s)){if(e.length<2||t.length<2)return-1;a=2,o/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(r=n;r<o;r++)if(c(e,r)===c(t,-1===l?0:r-l)){if(-1===l&&(l=r),r-l+1===u)return l*a}else-1!==l&&(r-=r-l),l=-1}else for(n+u>o&&(n=o-u),r=n;r>=0;r--){for(var f=!0,d=0;d<u;d++)if(c(e,r+d)!==c(t,d)){f=!1;break}if(f)return r}return-1}function _(e,t,n,s){n=Number(n)||0;var i=e.length-n;s?(s=Number(s),s>i&&(s=i)):s=i;var r=t.length;if(r%2!==0)throw new TypeError("Invalid hex string");s>r/2&&(s=r/2);for(var a=0;a<s;++a){var o=parseInt(t.substr(2*a,2),16);if(isNaN(o))return a;e[n+a]=o}return a}function w(e,t,n,s){return B(j(t,e.length-n),e,n,s)}function b(e,t,n,s){return B(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,s)}function C(e,t,n,s){return b(e,t,n,s)}function E(e,t,n,s){return B(G(t),e,n,s)}function k(e,t,n,s){return B(function(e,t){for(var n,s,i,r=[],a=0;a<e.length;++a){if((t-=2)<0)break;n=e.charCodeAt(a),s=n>>8,i=n%256,r.push(i),r.push(s)}return r}(t,e.length-n),e,n,s)}function x(e,t,n){return 0===t&&n===e.length?s.fromByteArray(e):s.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);var s=[],i=t;while(i<n){var r,a,o,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:r=e[i+1],128===(192&r)&&(u=(31&c)<<6|63&r,u>127&&(l=u));break;case 3:r=e[i+1],a=e[i+2],128===(192&r)&&128===(192&a)&&(u=(15&c)<<12|(63&r)<<6|63&a,u>2047&&(u<55296||u>57343)&&(l=u));break;case 4:r=e[i+1],a=e[i+2],o=e[i+3],128===(192&r)&&128===(192&a)&&128===(192&o)&&(u=(15&c)<<18|(63&r)<<12|(63&a)<<6|63&o,u>65535&&u<1114112&&(l=u))}null===l?(l=65533,f=1):l>65535&&(l-=65536,s.push(l>>>10&1023|55296),l=56320|1023&l),s.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",s=0;while(s<t)n+=String.fromCharCode.apply(String,e.slice(s,s+=4096));return n}(s)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,s){return l(t),t<=0?o(e,t):void 0!==n?"string"===typeof s?o(e,t).fill(n,s):o(e,t).fill(n):o(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,s=t.length,i=0,r=Math.min(n,s);i<r;++i)if(e[i]!==t[i]){n=e[i],s=t[i];break}return n<s?-1:s<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!r(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var s=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(s,i),i+=a.length}return s},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):v.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,s,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===s&&(s=0),void 0===i&&(i=this.length),t<0||n>e.length||s<0||i>this.length)throw new RangeError("out of range index");if(s>=i&&t>=n)return 0;if(s>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,s>>>=0,i>>>=0,this===e)return 0;for(var r=i-s,a=n-t,o=Math.min(r,a),c=this.slice(s,i),l=e.slice(t,n),f=0;f<o;++f)if(c[f]!==l[f]){r=c[f],a=l[f];break}return r<a?-1:a<r?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},u.prototype.write=function(e,t,n,s){if(void 0===t)s="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)s=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===s&&(s="utf8")):(s=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var r=!1;;)switch(s){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),r=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(e,t,n){var s="";n=Math.min(e.length,n);for(var i=t;i<n;++i)s+=String.fromCharCode(127&e[i]);return s}function A(e,t,n){var s="";n=Math.min(e.length,n);for(var i=t;i<n;++i)s+=String.fromCharCode(e[i]);return s}function O(e,t,n){var s=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>s)&&(n=s);for(var i="",r=t;r<n;++r)i+=L(e[r]);return i}function I(e,t,n){for(var s=e.slice(t,n),i="",r=0;r<s.length;r+=2)i+=String.fromCharCode(s[r]+256*s[r+1]);return i}function T(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,s,i,r){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<r)throw new RangeError('"value" argument is out of bounds');if(n+s>e.length)throw new RangeError("Index out of range")}function $(e,t,n,s){t<0&&(t=65535+t+1);for(var i=0,r=Math.min(e.length-n,2);i<r;++i)e[n+i]=(t&255<<8*(s?i:1-i))>>>8*(s?i:1-i)}function N(e,t,n,s){t<0&&(t=4294967295+t+1);for(var i=0,r=Math.min(e.length-n,4);i<r;++i)e[n+i]=t>>>8*(s?i:3-i)&255}function R(e,t,n,s,i,r){if(n+s>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,s,r){return r||R(e,0,n,4),i.write(e,t,n,s,23,4),n+4}function F(e,t,n,s,r){return r||R(e,0,n,8),i.write(e,t,n,s,52,8),n+8}u.prototype.slice=function(e,t){var n,s=this.length;if(e=~~e,t=void 0===t?s:~~t,e<0?(e+=s,e<0&&(e=0)):e>s&&(e=s),t<0?(t+=s,t<0&&(t=0)):t>s&&(t=s),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var r=0;r<i;++r)n[r]=this[r+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);var s=this[e],i=1,r=0;while(++r<t&&(i*=256))s+=this[e+r]*i;return s},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);var s=this[e+--t],i=1;while(t>0&&(i*=256))s+=this[e+--t]*i;return s},u.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);var s=this[e],i=1,r=0;while(++r<t&&(i*=256))s+=this[e+r]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);var s=t,i=1,r=this[e+--s];while(s>0&&(i*=256))r+=this[e+--s]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},u.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,s){if(e=+e,t|=0,n|=0,!s){var i=Math.pow(2,8*n)-1;P(this,e,t,n,i,0)}var r=1,a=0;this[t]=255&e;while(++a<n&&(r*=256))this[t+a]=e/r&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,s){if(e=+e,t|=0,n|=0,!s){var i=Math.pow(2,8*n)-1;P(this,e,t,n,i,0)}var r=n-1,a=1;this[t+r]=255&e;while(--r>=0&&(a*=256))this[t+r]=e/a&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):$(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):$(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,s){if(e=+e,t|=0,!s){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var r=0,a=1,o=0;this[t]=255&e;while(++r<n&&(a*=256))e<0&&0===o&&0!==this[t+r-1]&&(o=1),this[t+r]=(e/a>>0)-o&255;return t+n},u.prototype.writeIntBE=function(e,t,n,s){if(e=+e,t|=0,!s){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var r=n-1,a=1,o=0;this[t+r]=255&e;while(--r>=0&&(a*=256))e<0&&0===o&&0!==this[t+r+1]&&(o=1),this[t+r]=(e/a>>0)-o&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):$(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):$(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,s){if(n||(n=0),s||0===s||(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<n&&(s=n),s===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-n&&(s=e.length-t+n);var i,r=s-n;if(this===e&&n<t&&t<s)for(i=r-1;i>=0;--i)e[i+t]=this[i+n];else if(r<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<r;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+r),t);return r},u.prototype.fill=function(e,t,n,s){if("string"===typeof e){if("string"===typeof t?(s=t,t=0,n=this.length):"string"===typeof n&&(s=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==s&&"string"!==typeof s)throw new TypeError("encoding must be a string");if("string"===typeof s&&!u.isEncoding(s))throw new TypeError("Unknown encoding: "+s)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var r;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(r=t;r<n;++r)this[r]=e;else{var a=u.isBuffer(e)?e:j(new u(e,s).toString()),o=a.length;for(r=0;r<n-t;++r)this[r+t]=a[r%o]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var n;t=t||1/0;for(var s=e.length,i=null,r=[],a=0;a<s;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(a+1===s){(t-=3)>-1&&r.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&r.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function G(e){return s.toByteArray(function(e){if(e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}(e))}function B(e,t,n,s){for(var i=0;i<s;++i){if(i+n>=t.length||i>=e.length)break;t[i+n]=e[i]}return i}}).call(this,n("c8ba"))},b671:function(e,t,n){"use strict";n.r(t);var s=n("3b99"),i=n("0b91");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},b966:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{msg:"\u83b7\u53d6\u9a8c\u8bc1\u7801",color:"black",timer:"",time:60,userinfo_main:{id:"1234",phonenumber:"",password:""},phonenumber_new:"",captch:"",captch_2:""}},methods:{getcaptch:function(){var t=this;"\u83b7\u53d6\u9a8c\u8bc1\u7801"===this.msg&&(this.timer=setInterval((function(){t.time>0?(t.time=t.time-1,t.msg=t.time+"s\u91cd\u65b0\u9a8c\u8bc1\u7801",t.color="#ededed"):(t.time=60,t.msg="\u83b7\u53d6\u9a8c\u8bc1\u7801",t.color="black",clearInterval(t.timer))}),1e3),e("log","\u83b7\u53d6\u9a8c\u8bc1\u7801"," at pages/mine/safe/phonenumber_set.vue:61"))},setphonenumber:function(){}}};t.default=n}).call(this,n("0de9")["default"])},b97e:function(e,t){e.exports="/static/print.png"},ba96:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{msg:"\u83b7\u53d6\u9a8c\u8bc1\u7801",color:"black",timer:"",time:60,phonenumber:"13429867890",captch:"",captch_2:"",payword_new1:"",payword_new2:""}},methods:{getcaptch:function(){var t=this;"\u83b7\u53d6\u9a8c\u8bc1\u7801"===this.msg&&(this.timer=setInterval((function(){t.time>0?(t.time=t.time-1,t.msg=t.time+"s\u91cd\u65b0\u9a8c\u8bc1\u7801",t.color="#ededed"):(t.time=60,t.msg="\u83b7\u53d6\u9a8c\u8bc1\u7801",t.color="black",clearInterval(t.timer))}),1e3),e("log","\u83b7\u53d6\u9a8c\u8bc1\u7801"," at pages/mine/wallet/pay_password_set.vue:53"))},setphonenumber:function(){}}};t.default=n}).call(this,n("0de9")["default"])},bf4c:function(e,t){e.exports="/static/run.png"},c0e6:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("form",[n("view",{staticClass:e._$s(2,"sc","item"),attrs:{_i:2}},[n("view",{staticClass:e._$s(3,"sc","item_1"),attrs:{_i:3}},[n("text")]),n("view",{staticClass:e._$s(5,"sc","item_2"),attrs:{_i:5},on:{click:e.setimage}},[n("image",{staticClass:e._$s(6,"sc","touxian"),attrs:{src:e._$s(6,"a-src",e.userinfo.avatar),_i:6}})])]),n("view",{staticClass:e._$s(7,"sc","item"),attrs:{_i:7}},[n("view",{staticClass:e._$s(8,"sc","item_1"),attrs:{_i:8}},[n("text")]),n("view",{staticClass:e._$s(10,"sc","item_3"),attrs:{_i:10}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.name,expression:"userinfo.name"}],attrs:{_i:11},domProps:{value:e._$s(11,"v-model",e.userinfo.name)},on:{input:function(t){t.target.composing||e.$set(e.userinfo,"name",t.target.value)}}})])]),n("view",{staticClass:e._$s(12,"sc","item"),attrs:{_i:12}},[n("view",{staticClass:e._$s(13,"sc","item_1"),attrs:{_i:13}},[n("text")]),n("view",{staticClass:e._$s(15,"sc","item_3"),attrs:{_i:15}},[n("picker",{attrs:{range:e._$s(16,"a-range",e.gender),_i:16},on:{change:e.setgender}},[n("view",[e._v(e._$s(17,"t0-0",e._s(e.userinfo.gender)))])])])]),n("view",{staticClass:e._$s(18,"sc","item"),attrs:{_i:18}},[n("view",{staticClass:e._$s(19,"sc","item_1"),attrs:{_i:19}},[n("text")]),n("view",{staticClass:e._$s(21,"sc","item_3"),attrs:{_i:21}},[n("picker",{attrs:{range:e._$s(22,"a-range",e.school),_i:22},on:{change:e.setschool}},[n("view",[e._v(e._$s(23,"t0-0",e._s(e.userinfo.school)))])])])]),n("view",{staticClass:e._$s(24,"sc","item"),attrs:{_i:24}},[n("view",{staticClass:e._$s(25,"sc","item_1"),attrs:{_i:25}},[n("text")]),n("view",{staticClass:e._$s(27,"sc","item_3"),attrs:{_i:27}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.autograph,expression:"userinfo.autograph"}],attrs:{_i:28},domProps:{value:e._$s(28,"v-model",e.userinfo.autograph)},on:{input:function(t){t.target.composing||e.$set(e.userinfo,"autograph",t.target.value)}}})])]),n("view",[n("button",{staticClass:e._$s(30,"sc","button_1"),attrs:{_i:30},on:{click:e.submitinfo}})])])])},i=[]},c135:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports["default"]=e.exports},c216:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",{staticClass:e._$s(1,"sc","serach"),attrs:{_i:1}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],staticClass:e._$s(2,"sc","keyinput"),attrs:{_i:2},domProps:{value:e._$s(2,"v-model",e.keyword)},on:{input:function(t){t.target.composing||(e.keyword=t.target.value)}}}),n("button",{staticClass:e._$s(3,"sc","button_1"),attrs:{_i:3},on:{click:e.release}})]),n("view",[n("view",{staticClass:e._$s(5,"sc","select1"),attrs:{_i:5}},[n("text"),n("picker",{attrs:{range:e._$s(7,"a-range",e.source),_i:7},on:{change:e.selectscouce}},[n("view",[e._v(e._$s(8,"t0-0",e._s(e.select.source)))])])]),n("view",{staticClass:e._$s(9,"sc","select2"),attrs:{_i:9}},[n("text"),n("picker",{attrs:{range:e._$s(11,"a-range",e.status),_i:11},on:{change:e.selectstatus}},[n("view",[e._v(e._$s(12,"t0-0",e._s(e.select.status)))])])])]),n("view",e._l(e._$s(14,"f",{forItems:e.goods}),(function(t,s,i,r){return n("view",{key:e._$s(14,"f",{forIndex:i,key:"14-"+r})},[e._$s("15-"+r,"i","\u5931\u7269"===t.type)?n("view",{staticClass:e._$s("15-"+r,"sc","item"),attrs:{_i:"15-"+r},on:{click:function(n){return e.gotodetail(t.id,t.type)}}},[n("view",{staticClass:e._$s("16-"+r,"sc","left"),attrs:{_i:"16-"+r}},[n("img",{staticClass:e._$s("17-"+r,"sc","imag1"),attrs:{_i:"17-"+r}}),n("view",[n("text",{staticClass:e._$s("19-"+r,"sc","text1"),attrs:{_i:"19-"+r}},[e._v(e._$s("19-"+r,"t0-0",e._s(t.name)))]),n("br"),n("text",{staticClass:e._$s("21-"+r,"sc","text2"),attrs:{_i:"21-"+r}},[e._v(e._$s("21-"+r,"t0-0",e._s(t.time)))])])]),n("view",{staticClass:e._$s("22-"+r,"sc","right"),attrs:{_i:"22-"+r}},[e._v(e._$s("22-"+r,"t0-0",e._s(t.type))),n("br"),n("text",{staticClass:e._$s("24-"+r,"sc","text5"),attrs:{_i:"24-"+r}},[e._v(e._$s("24-"+r,"t0-0",e._s(t.status)))])])]):e._e(),e._$s("25-"+r,"i","\u62db\u9886"===t.type)?n("view",{staticClass:e._$s("25-"+r,"sc","item"),attrs:{_i:"25-"+r},on:{click:function(n){return e.gotodetail(t.id,t.type)}}},[n("view",{staticClass:e._$s("26-"+r,"sc","left"),attrs:{_i:"26-"+r}},[n("img",{staticClass:e._$s("27-"+r,"sc","imag1"),attrs:{_i:"27-"+r}}),n("view",[n("text",{staticClass:e._$s("29-"+r,"sc","text1"),attrs:{_i:"29-"+r}},[e._v(e._$s("29-"+r,"t0-0",e._s(t.name)))]),n("br"),n("text",{staticClass:e._$s("31-"+r,"sc","text2"),attrs:{_i:"31-"+r}},[e._v(e._$s("31-"+r,"t0-0",e._s(t.time)))])])]),n("view",{staticClass:e._$s("32-"+r,"sc","right"),attrs:{_i:"32-"+r}},[e._v(e._$s("32-"+r,"t0-0",e._s(t.type))),n("br"),n("text",{staticClass:e._$s("34-"+r,"sc","text5"),attrs:{_i:"34-"+r}},[e._v(e._$s("34-"+r,"t0-0",e._s(t.status)))])])]):e._e(),e._$s("35-"+r,"i","\u4ee3\u529e"===t.type)?n("view",{staticClass:e._$s("35-"+r,"sc","item"),attrs:{_i:"35-"+r},on:{click:function(n){return e.gotodetail(t.id,t.type)}}},[n("view",{staticClass:e._$s("36-"+r,"sc","left"),attrs:{_i:"36-"+r}},[n("img",{staticClass:e._$s("37-"+r,"sc","imag1"),attrs:{_i:"37-"+r}}),n("view",[n("text",{staticClass:e._$s("39-"+r,"sc","text1"),attrs:{_i:"39-"+r}},[e._v(e._$s("39-"+r,"t0-0",e._s(t.name)))]),n("br"),n("text",{staticClass:e._$s("41-"+r,"sc","text2"),attrs:{_i:"41-"+r}},[e._v(e._$s("41-"+r,"t0-0",e._s(t.time)))])])]),n("view",{staticClass:e._$s("42-"+r,"sc","right"),attrs:{_i:"42-"+r}},[e._v(e._$s("42-"+r,"t0-0",e._s(t.type))),n("br"),n("text",{staticClass:e._$s("44-"+r,"sc","text5"),attrs:{_i:"44-"+r}},[e._v(e._$s("44-"+r,"t0-0",e._s(t.status)))])])]):e._e(),e._$s("45-"+r,"i","\u4e8c\u624b"===t.type)?n("view",{staticClass:e._$s("45-"+r,"sc","item"),attrs:{_i:"45-"+r},on:{click:function(n){return e.gotodetail(t.id,t.type)}}},[n("view",{staticClass:e._$s("46-"+r,"sc","left"),attrs:{_i:"46-"+r}},[n("img",{staticClass:e._$s("47-"+r,"sc","imag1"),attrs:{_i:"47-"+r}}),n("view",[n("text",{staticClass:e._$s("49-"+r,"sc","text1"),attrs:{_i:"49-"+r}},[e._v(e._$s("49-"+r,"t0-0",e._s(t.name)))]),n("br"),n("text",{staticClass:e._$s("51-"+r,"sc","text2"),attrs:{_i:"51-"+r}},[e._v(e._$s("51-"+r,"t0-0",e._s(t.time)))])])]),n("view",{staticClass:e._$s("52-"+r,"sc","right"),attrs:{_i:"52-"+r}},[e._v(e._$s("52-"+r,"t0-0",e._s(t.type))),n("br"),n("text",{staticClass:e._$s("54-"+r,"sc","text5"),attrs:{_i:"54-"+r}},[e._v(e._$s("54-"+r,"t0-0",e._s(t.status)))])])]):e._e()])})),0)])},i=[]},c229:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{id:"123456",type:"\u4e8c\u624b",order_id:"12345567890",order:{good_id:"123",status:"\u5df2\u5b8c\u6210",user_from:"\u661f\u8fb0",userid_from:"123456",userphone_from:"18210287051",user_to:"\u661f\u6cb3",userid_to:"123457",userphone_to:"15717217249",name:"\u7269\u54c11",creatime:"2022/12/31-22:21:58",fishtime:"2022/12/31-22:21:58",pirece:15,evaluate:{exist:!1,content:"\u597d\u597d\u597d\u54c8\u54c8\u54c8\u54c8\u54c8"}},evaluate_input:""}},onLoad:function(e){this.order_id=e.id,this.type=e.type},methods:{contract:function(){this.id===this.order.userid_from?uni.navigateTo({url:"/pages/messsge_detail/messsge_detail?id="+this.order.userid_to}):uni.navigateTo({url:"/pages/messsge_detail/messsge_detail?id="+this.order.userid_from})},detail:function(){"\u4e8c\u624b"===this.type?uni.navigateTo({url:"/pages/detail/shopdetail?id="+this.order.good_id}):"\u4ee3\u529e"===this.type?uni.navigateTo({url:"/pages/detail/rundetail?id="+this.order.good_id}):uni.navigateTo({url:"/pages/detail/lossdetail?id="+this.order.good_id})},operate:function(e){e?uni.showModal({content:"\u786e\u5b9a\u5b8c\u6210",success:function(e){e.confirm}}):uni.showModal({content:"\u786e\u8ba4\u53d6\u6d88",success:function(e){e.confirm}})}}};t.default=s},c240:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports["default"]=e.exports},c3e6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{}},methods:{putup:function(){uni.showToast({title:"\u63d0\u4ea4\u6210\u529f"})}}};t.default=s},c5da:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","view_1"),attrs:{_i:0}},[n("view",[n("text",{staticClass:e._$s(2,"sc","text_1"),attrs:{_i:2}}),n("text",[e._v(e._$s(3,"t0-0",e._s(e.phonenumber)))])]),n("text",{staticClass:e._$s(4,"sc","text_1"),attrs:{_i:4}}),n("view",{staticClass:e._$s(5,"sc","cap"),attrs:{_i:5}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.captch,expression:"captch"}],staticClass:e._$s(6,"sc","input_2"),attrs:{_i:6},domProps:{value:e._$s(6,"v-model",e.captch)},on:{input:function(t){t.target.composing||(e.captch=t.target.value)}}}),n("button",{staticClass:e._$s(7,"sc","button_cap"),style:e._$s(7,"s",{color:e.color}),attrs:{_i:7},on:{click:e.getcaptch}},[e._v(e._$s(7,"t0-0",e._s(e.msg)))])]),n("text",{staticClass:e._$s(8,"sc","text_1"),attrs:{_i:8}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.payword_new1,expression:"payword_new1"}],staticClass:e._$s(9,"sc","input_1"),attrs:{_i:9},domProps:{value:e._$s(9,"v-model",e.payword_new1)},on:{input:function(t){t.target.composing||(e.payword_new1=t.target.value)}}}),n("text",{staticClass:e._$s(10,"sc","text_1"),attrs:{_i:10}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.payword_new2,expression:"payword_new2"}],staticClass:e._$s(11,"sc","input_1"),attrs:{_i:11},domProps:{value:e._$s(11,"v-model",e.payword_new2)},on:{input:function(t){t.target.composing||(e.payword_new2=t.target.value)}}}),e._$s(12,"i",e.payword_new1!==e.payword_new2)?n("text"):e._e(),n("button",{staticClass:e._$s(13,"sc","button_1"),attrs:{_i:13},on:{click:e.setphonenumber}})])},i=[]},c83b:function(e,t,n){"use strict";n.r(t);var s=n("3d89"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(s){"object"===typeof window&&(n=window)}e.exports=n},caeb:function(e,t){e.exports="/static/vue.png"},cc44:function(e,t,n){"use strict";n.r(t);var s=n("67cb"),i=n("ae58");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},d511:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=function(e){e=e||Date.now();var t=new Date(e),n=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1;return n+="-",n+=t.getDate()<10?"0"+t.getDate():t.getDate(),n+=" ",n+=t.getHours(),n+=":",n+=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),n},t.formateTime=function(e){var t=(new Date).getTime(),n=t-e,s=n/1e3,i=n/6e4,r=n/36e5,a=n/864e5;return a>=1?parseInt(a)+"\u5929":r>=1?parseInt(r)+"\u5c0f\u65f6":i>=1?parseInt(i)+"\u5206\u949f":s>=1?parseInt(s)+"\u79d2":"0\u79d2"}},d554:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{userinfo:{name:"xinyuyi",gender:"\u7537",school:"\u4e2d\u56fd\u77ff\u4e1a\u5927\u5b66\uff08\u5317\u4eac\uff09",autograph:"\u4f60\u597d\u5440",avatar:"../../../static/touxiantext.png"},gender:["\u7537","\u5973"],school:["\u6e05\u534e\u5927\u5b66","\u5317\u4eac\u5927\u5b66","\u4e2d\u56fd\u77ff\u4e1a\u5927\u5b66\uff08\u5317\u4eac\uff09"]}},methods:{setimage:function(){uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){var n=t.tempFilePaths;uni.uploadFile({url:"http://qiuxiuhao.viphk.91tunnel.com/upload",filePath:n[0],name:"image",formData:{names:"test"},success:function(t){e("log",t.data," at pages/mine/me/me_set.vue:94")}})}})},setgender:function(e){this.userinfo.gender=this.gender[e.detail.value]},setschool:function(e){this.userinfo.school=this.school[e.detail.value]},submitinfo:function(){}}};t.default=n}).call(this,n("0de9")["default"])},d5a8:function(e,t,n){"use strict";n.r(t);var s=n("6a24"),i=n("2b98");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},d87b:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",[n("text")]),n("view",[n("radio-group",{staticClass:e._$s(4,"sc","typeradio"),attrs:{_i:4},on:{change:e.radioChange}},e._l(e._$s(5,"f",{forItems:e.typeitems}),(function(t,s,i,r){return n("label",{key:e._$s(5,"f",{forIndex:i,key:t.value}),staticClass:e._$s("5-"+r,"sc","item1"),attrs:{_i:"5-"+r}},[n("view",[n("radio",{attrs:{value:e._$s("7-"+r,"a-value",t.type),checked:e._$s("7-"+r,"a-checked",s===e.current),_i:"7-"+r}}),n("view",[e._v(e._$s("8-"+r,"t0-0",e._s(t.type)))])])])})),0)]),e._$s(9,"i","\u5931\u7269"===this.typeitems[e.current].type)?n("view",[n("view",[n("image",{staticClass:e._$s(11,"sc","image1"),attrs:{_i:11}})]),n("text"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.good.name,expression:"good.name"}],staticClass:e._$s(13,"sc","input1"),attrs:{_i:13},domProps:{value:e._$s(13,"v-model",e.good.name)},on:{input:function(t){t.target.composing||e.$set(e.good,"name",t.target.value)}}}),n("text"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.good.address,expression:"good.address"}],staticClass:e._$s(15,"sc","input1"),attrs:{_i:15},domProps:{value:e._$s(15,"v-model",e.good.address)},on:{input:function(t){t.target.composing||e.$set(e.good,"address",t.target.value)}}}),n("text"),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.good.detail,expression:"good.detail"}],staticClass:e._$s(17,"sc","text2"),attrs:{id:"",_i:17},domProps:{value:e._$s(17,"v-model",e.good.detail)},on:{input:function(t){t.target.composing||e.$set(e.good,"detail",t.target.value)}}})]):e._e(),e._$s(18,"i","\u62db\u9886"===this.typeitems[e.current].type)?n("view",[n("view",[n("image",{staticClass:e._$s(20,"sc","image1"),attrs:{_i:20}})]),n("text"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.good.name,expression:"good.name"}],staticClass:e._$s(22,"sc","input1"),attrs:{_i:22},domProps:{value:e._$s(22,"v-model",e.good.name)},on:{input:function(t){t.target.composing||e.$set(e.good,"name",t.target.value)}}}),n("text"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.good.address,expression:"good.address"}],staticClass:e._$s(24,"sc","input1"),attrs:{_i:24},domProps:{value:e._$s(24,"v-model",e.good.address)},on:{input:function(t){t.target.composing||e.$set(e.good,"address",t.target.value)}}}),n("text"),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.good.detail,expression:"good.detail"}],staticClass:e._$s(26,"sc","text2"),attrs:{id:"",_i:26},domProps:{value:e._$s(26,"v-model",e.good.detail)},on:{input:function(t){t.target.composing||e.$set(e.good,"detail",t.target.value)}}})]):e._e(),e._$s(27,"i","\u4ee3\u529e"===this.typeitems[e.current].type)?n("view",[n("text"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.good.name,expression:"good.name"}],staticClass:e._$s(29,"sc","input1"),attrs:{_i:29},domProps:{value:e._$s(29,"v-model",e.good.name)},on:{input:function(t){t.target.composing||e.$set(e.good,"name",t.target.value)}}}),n("text"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.good.money,expression:"good.money"}],staticClass:e._$s(31,"sc","input1"),attrs:{_i:31},domProps:{value:e._$s(31,"v-model",e.good.money)},on:{input:function(t){t.target.composing||e.$set(e.good,"money",t.target.value)}}}),n("text"),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.good.detail,expression:"good.detail"}],staticClass:e._$s(33,"sc","text2"),attrs:{id:"",_i:33},domProps:{value:e._$s(33,"v-model",e.good.detail)},on:{input:function(t){t.target.composing||e.$set(e.good,"detail",t.target.value)}}})]):e._e(),e._$s(34,"i","\u4e8c\u624b"===this.typeitems[e.current].type)?n("view",[n("view",[n("image",{staticClass:e._$s(36,"sc","image1"),attrs:{_i:36}})]),n("text"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.good.name,expression:"good.name"}],staticClass:e._$s(38,"sc","input1"),attrs:{_i:38},domProps:{value:e._$s(38,"v-model",e.good.name)},on:{input:function(t){t.target.composing||e.$set(e.good,"name",t.target.value)}}}),n("text"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.good.money,expression:"good.money"}],staticClass:e._$s(40,"sc","input1"),attrs:{_i:40},domProps:{value:e._$s(40,"v-model",e.good.money)},on:{input:function(t){t.target.composing||e.$set(e.good,"money",t.target.value)}}}),n("text"),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.good.detail,expression:"good.detail"}],staticClass:e._$s(42,"sc","text2"),attrs:{id:"",_i:42},domProps:{value:e._$s(42,"v-model",e.good.detail)},on:{input:function(t){t.target.composing||e.$set(e.good,"detail",t.target.value)}}})]):e._e(),n("view",{staticClass:e._$s(43,"sc","buttonview"),attrs:{_i:43},on:{click:e.release}},[n("button",{staticClass:e._$s(44,"sc","button1"),attrs:{_i:44}})])])},i=[]},dc08:function(e,t,n){"use strict";n.r(t);var s=n("30b7"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},de22:function(e,t,n){"use strict";(function(e){var s=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n("04f7")),r=s(n("8765")),a=n("d511"),o=uni.getRecorderManager(),u={name:"privateChat",data:function(){var e="https://imgcache.qq.com/open/qcloud/tim/assets/emoji/",t={"[\u4e48\u4e48\u54d2]":"emoji_3@2x.png","[\u4e52\u4e53]":"emoji_4@2x.png","[\u4fbf\u4fbf]":"emoji_5@2x.png","[\u4fe1\u5c01]":"emoji_6@2x.png","[\u5077\u7b11]":"emoji_7@2x.png","[\u50b2\u6162]":"emoji_8@2x.png"};return{text:"",friend:{id:"18307068239",name:"\u661f\u6d77",password:"",avatar:"../../static/touxiantext.png",email:"",phone:""},to:{},currentUser:{id:"18210287051",name:"\u661f\u8fb0",password:"",avatar:"../../static/touxiantext.png",email:"",phone:""},emoji:{url:e,map:t,visible:!1,decoder:new i.default(e,t)},otherTypesMessagePanelVisible:!1,orderList:{orders:[],visible:!1},history:{messages:[],allLoaded:!1,loading:!1},audio:{startTime:null,recording:!1,visible:!1},audioPlayer:{innerAudioContext:null,playingMessage:null},videoPlayer:{visible:!1,url:"",context:null},actionPopup:{visible:!1,message:null,recallable:!1},messageSelector:{visible:!1,messages:[]}}},onLoad:function(e){this.to={id:this.friend.id,type:this.GoEasy.IM_SCENE.PRIVATE,data:{name:this.friend.name,avatar:this.friend.avatar}},this.initialGoEasyListeners(),this.initialAudioPlayer(),this.initRecorderListeners()},onShow:function(){this.otherTypesMessagePanelVisible=!1,this.emoji.visible=!1},onReady:function(){this.loadHistoryMessage(!0),this.videoPlayer.context=uni.createVideoContext("videoPlayer",this),uni.setNavigationBarTitle({title:this.friend.name})},onPullDownRefresh:function(e){this.loadHistoryMessage(!1)},onUnload:function(){this.goEasy.im.off(this.GoEasy.IM_EVENT.PRIVATE_MESSAGE_RECEIVED,this.onMessageReceived),this.goEasy.im.off(this.GoEasy.IM_EVENT.MESSAGE_DELETED,this.onMessageDeleted)},methods:{renderTextMessage:function(e){return'<span class="text-content">'+this.emoji.decoder.decode(e.payload.text)+"</span>"},renderMessageDate:function(e,t){return 0===t||e.timestamp-this.history.messages[t-1].timestamp>3e5?(0,a.formatDate)(e.timestamp):""},initialGoEasyListeners:function(){this.goEasy.im.on(this.GoEasy.IM_EVENT.PRIVATE_MESSAGE_RECEIVED,this.onMessageReceived),this.goEasy.im.on(this.GoEasy.IM_EVENT.MESSAGE_DELETED,this.onMessageDeleted)},onMessageReceived:function(e){var t=e.senderId,n=e.receiverId,s=this.currentUser.id===t?n:t;s===this.friend.id&&(this.history.messages.push(e),this.markPrivateMessageAsRead(),this.scrollToBottom())},onMessageDeleted:function(e){var t=this;e.forEach((function(e){var n=e.senderId,s=e.receiverId,i=t.currentUser.id===n?s:n;if(i===t.friend.id){var r=t.history.messages.indexOf(e);r>-1&&t.history.messages.splice(r,1)}}))},initialAudioPlayer:function(){var e=this;this.audioPlayer.innerAudioContext=uni.createInnerAudioContext(),this.audioPlayer.innerAudioContext.onEnded((function(){e.audioPlayer.playingMessage=null})),this.audioPlayer.innerAudioContext.onStop((function(){e.audioPlayer.playingMessage=null}))},initRecorderListeners:function(){var t=this;o.onStart((function(){t.audio.recording=!0,t.audio.startTime=Date.now()})),o.onStop((function(n){var s=Date.now();t.audio.recording=!1;var i=s-t.audio.startTime;i<1e3?uni.showToast({icon:"error",title:"\u5f55\u97f3\u65f6\u95f4\u592a\u77ed",duration:500}):(n.duration=i,t.goEasy.im.createAudioMessage({to:t.to,file:n,notification:{title:t.currentUser.name+"\u53d1\u6765\u4e00\u6bb5\u8bed\u97f3",body:"[\u8bed\u97f3\u6d88\u606f]"},onProgress:function(t){e("log",t," at pages/messsge_detail/messsge_detail.vue:396")},onSuccess:function(e){t.sendMessage(e)},onFailed:function(t){e("log","error :",t," at pages/messsge_detail/messsge_detail.vue:402")}}))})),o.onError((function(e){t.audio.recording=!1,o.stop(),uni.showToast({icon:"none",title:"\u5f55\u97f3\u5931\u8d25,\u8bf7\u68c0\u67e5\u9ea6\u514b\u98ce\u6743\u9650",duration:1e3})}))},getImageHeight:function(e,t){return e<200&&t<150?2*t:e>t?200/e*t*2:e===t||e<t?300:void 0},sendMessage:function(t){this.history.messages.push(t),this.scrollToBottom(),this.goEasy.im.sendMessage({message:t,onSuccess:function(t){e("log","\u53d1\u9001\u6210\u529f.",t," at pages/messsge_detail/messsge_detail.vue:445")},onFailed:function(t){507===t.code?e("log","\u53d1\u9001\u8bed\u97f3/\u56fe\u7247/\u89c6\u9891/\u6587\u4ef6\u5931\u8d25\uff0c\u6ca1\u6709\u914d\u7f6eOSS\u5b58\u50a8\uff0c\u8be6\u60c5\u53c2\u8003\uff1ahttps://www.goeasy.io/cn/docs/goeasy-2.x/im/message/media/send-media-message.html"," at pages/messsge_detail/messsge_detail.vue:449"):e("log","\u53d1\u9001\u5931\u8d25:",t," at pages/messsge_detail/messsge_detail.vue:453")}})},sendTextMessage:function(){var t=this;if(""!==this.text.trim()){var n=this.text;this.text.length>=50&&(n=this.text.substring(0,30)+"..."),this.goEasy.im.createTextMessage({text:this.text,to:this.to,notification:{title:this.currentUser.name+"\u53d1\u6765\u4e00\u6bb5\u6587\u5b57",body:n},onSuccess:function(e){t.sendMessage(e)},onFailed:function(t){e("log","error :",t," at pages/messsge_detail/messsge_detail.vue:475")}})}this.text=""},sendVideoMessage:function(){var t=this;uni.chooseVideo({success:function(n){t.goEasy.im.createVideoMessage({to:t.to,file:n,notification:{title:t.currentUser.name+"\u53d1\u6765\u4e00\u4e2a\u89c6\u9891",body:"[\u89c6\u9891\u6d88\u606f]"},onProgress:function(t){e("log",t," at pages/messsge_detail/messsge_detail.vue:492")},onSuccess:function(e){t.otherTypesMessagePanelVisible=!1,t.sendMessage(e)},onFailed:function(t){e("log","error :",t," at pages/messsge_detail/messsge_detail.vue:499")}})}})},sendImageMessage:function(){var t=this;uni.chooseImage({count:9,success:function(n){n.tempFiles.forEach((function(n){t.goEasy.im.createImageMessage({to:t.to,file:n,notification:{title:t.currentUser.name+"\u53d1\u6765\u4e00\u5f20\u56fe\u7247",body:"[\u56fe\u7247\u6d88\u606f]"},onProgress:function(t){e("log",t," at pages/messsge_detail/messsge_detail.vue:518")},onSuccess:function(e){t.otherTypesMessagePanelVisible=!1,t.sendMessage(e)},onFailed:function(t){e("log","error :",t," at pages/messsge_detail/messsge_detail.vue:525")}})}))}})},sendOrderMessage:function(t){var n=this;this.goEasy.im.createCustomMessage({type:"order",payload:t,to:this.to,notification:{title:this.currentUser.name+"\u53d1\u6765\u4e00\u4e2a\u8ba2\u5355",body:"[\u8ba2\u5355\u6d88\u606f]"},onSuccess:function(e){n.otherTypesMessagePanelVisible=!1,n.sendMessage(e)},onFailed:function(t){e("log","error :",t," at pages/messsge_detail/messsge_detail.vue:547")}}),this.orderList.visible=!1},showActionPopup:function(e){this.messageSelector.messages=[e],Date.now()-e.timestamp<18e4&&e.senderId===this.currentUser.id&&"success"===e.status?this.actionPopup.recallable=!0:this.actionPopup.recallable=!1,this.actionPopup.visible=!0},hideActionPopup:function(){this.actionPopup.visible=!1,this.actionPopup.message=null},deleteSingleMessage:function(){var e=this;uni.showModal({content:"\u786e\u8ba4\u5220\u9664\uff1f",success:function(t){e.actionPopup.visible=!1,t.confirm&&e.deleteMessage()}})},deleteMultipleMessages:function(){var e=this;this.messageSelector.messages.length>0&&uni.showModal({content:"\u786e\u8ba4\u5220\u9664\uff1f",success:function(t){e.messageSelector.visible=!1,t.confirm&&e.deleteMessage()}})},deleteMessage:function(){var t=this;this.goEasy.im.deleteMessage({messages:this.messageSelector.messages,onSuccess:function(e){t.messageSelector.messages.forEach((function(e){var n=t.history.messages.indexOf(e);n>-1&&t.history.messages.splice(n,1)})),t.messageSelector.messages=[]},onFailed:function(t){e("log","error:",t," at pages/messsge_detail/messsge_detail.vue:604")}})},recallMessage:function(){this.actionPopup.visible=!1,this.goEasy.im.recallMessage({messages:this.messageSelector.messages,onSuccess:function(){e("log","\u64a4\u56de\u6210\u529f"," at pages/messsge_detail/messsge_detail.vue:613")},onFailed:function(t){e("log","\u64a4\u56de\u5931\u8d25,error:",t," at pages/messsge_detail/messsge_detail.vue:616")}})},editRecalledMessage:function(e){this.audio.visible&&(this.audio.visible=!1),this.text=e},showCheckBox:function(){this.messageSelector.messages=[],this.messageSelector.visible=!0,this.actionPopup.visible=!1},selectMessages:function(e){var t=e.detail.value,n=[];this.history.messages.forEach((function(e){t.includes(e.messageId)&&n.push(e)})),this.messageSelector.messages=n},loadHistoryMessage:function(t){var n=this;this.history.loading=!0;var s=null,i=this.history.messages[0];i&&(s=i.timestamp),this.goEasy.im.history({userId:this.friend.id,lastTimestamp:s,limit:10,onSuccess:function(e){uni.stopPullDownRefresh(),n.history.loading=!1;var i=e.content;0===i.length?n.history.allLoaded=!0:(n.history.messages=s?i.concat(n.history.messages):i,i.length<10&&(n.history.allLoaded=!0),t&&(n.scrollToBottom(),n.markPrivateMessageAsRead()))},onFailed:function(t){e("log","\u83b7\u53d6\u5386\u53f2\u6d88\u606f\u5931\u8d25:",t," at pages/messsge_detail/messsge_detail.vue:676"),uni.stopPullDownRefresh(),n.history.loading=!1}})},switchAudioKeyboard:function(){this.audio.visible=!this.audio.visible,uni.authorize&&uni.authorize({scope:"scope.record",fail:function(){uni.showModal({title:"\u83b7\u53d6\u5f55\u97f3\u6743\u9650\u5931\u8d25",content:"\u8bf7\u5148\u6388\u6743\u624d\u80fd\u53d1\u9001\u8bed\u97f3\u6d88\u606f\uff01"})}})},onRecordStart:function(){try{o.start()}catch(e){uni.showModal({title:"\u5f55\u97f3\u9519\u8bef",content:"\u8bf7\u5728app\u548c\u5c0f\u7a0b\u5e8f\u7aef\u4f53\u9a8c\u5f55\u97f3\uff0cUni\u5b98\u65b9\u660e\u786eH5\u4e0d\u652f\u6301getRecorderManager, \u8be6\u60c5\u67e5\u770bUni\u5b98\u65b9\u6587\u6863"})}},onRecordEnd:function(){try{o.stop()}catch(t){e("log",t," at pages/messsge_detail/messsge_detail.vue:711")}},showImageFullScreen:function(e){var t=[e.currentTarget.dataset.url];uni.previewImage({urls:t})},playVideo:function(e){var t=this;this.videoPlayer.visible=!0,this.videoPlayer.url=e.currentTarget.dataset.url,this.$nextTick((function(){t.videoPlayer.context.requestFullScreen({direction:0}),t.videoPlayer.context.play()}))},playAudio:function(e){var t=this.audioPlayer.playingMessage;t&&(this.audioPlayer.innerAudioContext.stop(),t===e)||(this.audioPlayer.playingMessage=e,this.audioPlayer.innerAudioContext.src=e.payload.url,this.audioPlayer.innerAudioContext.play())},onVideoFullScreenChange:function(e){this.videoPlayer.visible&&!e.detail.fullScreen&&(this.videoPlayer.visible=!1,this.videoPlayer.context.stop())},messageInputFocusin:function(){this.otherTypesMessagePanelVisible=!1,this.emoji.visible=!1},switchEmojiKeyboard:function(){this.emoji.visible=!this.emoji.visible,this.otherTypesMessagePanelVisible=!1},showOtherTypesMessagePanel:function(){this.otherTypesMessagePanelVisible=!this.otherTypesMessagePanelVisible,this.emoji.visible=!1},chooseEmoji:function(e){this.text+=e},showOrderMessageList:function(){this.orderList.orders=r.default.getOrderList(),this.orderList.visible=!0},hideOrderMessageList:function(){this.orderList.visible=!1},scrollToBottom:function(){this.$nextTick((function(){uni.pageScrollTo({scrollTop:2e6,duration:0})}))},markPrivateMessageAsRead:function(){this.goEasy.im.markMessageAsRead({id:this.to.id,type:this.to.type,onSuccess:function(){e("log","\u6807\u8bb0\u79c1\u804a\u5df2\u8bfb\u6210\u529f"," at pages/messsge_detail/messsge_detail.vue:786")},onFailed:function(t){e("log","\u6807\u8bb0\u79c1\u804a\u5df2\u8bfb\u5931\u8d25",t," at pages/messsge_detail/messsge_detail.vue:789")}})}}};t.default=u}).call(this,n("0de9")["default"])},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,s=e.length-1;s>=0;s--){var i=e[s];"."===i?e.splice(s,1):".."===i?(e.splice(s,1),n++):n&&(e.splice(s,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function s(e,t){if(e.filter)return e.filter(t);for(var n=[],s=0;s<e.length;s++)t(e[s],s,e)&&n.push(e[s]);return n}t.resolve=function(){for(var t="",i=!1,r=arguments.length-1;r>=-1&&!i;r--){var a=r>=0?arguments[r]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,i="/"===a.charAt(0))}return t=n(s(t.split("/"),(function(e){return!!e})),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),a="/"===i(e,-1);return e=n(s(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(s(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function s(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=s(e.split("/")),r=s(n.split("/")),a=Math.min(i.length,r.length),o=a,u=0;u<a;u++)if(i[u]!==r[u]){o=u;break}var c=[];for(u=o;u<i.length;u++)c.push("..");return c=c.concat(r.slice(o)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,s=-1,i=!0,r=e.length-1;r>=1;--r)if(t=e.charCodeAt(r),47===t){if(!i){s=r;break}}else i=!1;return-1===s?n?"/":".":n&&1===s?"/":e.slice(0,s)},t.basename=function(e,t){var n=function(e){"string"!==typeof e&&(e+="");var t,n=0,s=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===s&&(i=!1,s=t+1);return-1===s?"":e.slice(n,s)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,s=-1,i=!0,r=0,a=e.length-1;a>=0;--a){var o=e.charCodeAt(a);if(47!==o)-1===s&&(i=!1,s=a+1),46===o?-1===t?t=a:1!==r&&(r=1):-1!==t&&(r=-1);else if(!i){n=a+1;break}}return-1===t||-1===s||0===r||1===r&&t===s-1&&t===n+1?"":e.slice(t,s)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e041:function(e,t,n){"use strict";n.r(t);var s=n("1d8f"),i=n("04e1");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},e05e:function(e,t,n){"use strict";n.r(t);var s=n("3692"),i=n("26b4");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},e141:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{keyword:"",initial_goods:[{id:"",type:"\u5931\u7269",name:"\u5931\u72691",time:"2022-11-9 10:10:10"},{id:"",type:"\u4e8c\u624b",name:"\u5546\u54c11",time:"2022-11-9 10:10:10"},{id:"",type:"\u4ee3\u529e",name:"\u4ee3\u529e\u540d\u79f01",time:"2022-11-9 10:10:10"},{id:"",type:"\u62db\u9886",name:"\u7269\u54c11",time:"2022-11-9 10:10:10"}],type:""}},onLoad:function(t){this.type=t.type,e("log",this.type," at pages/list/list.vue:99")},methods:{gotodetail:function(e,t){"\u4e8c\u624b"===e?uni.navigateTo({url:"/pages/detail/shopdetail?id="+t}):"\u4ee3\u529e"===e?uni.navigateTo({url:"/pages/detail/rundetail?id="+t}):uni.navigateTo({url:"/pages/detail/lossdetail?id="+t})}},computed:{goods:function(){var e=this;return this.initial_goods.filter((function(t){return-1!==t.name.indexOf(e.keyword)}))}}};t.default=n}).call(this,n("0de9")["default"])},e2a0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{keyword:"",initial_goods:[{id:"",type:"\u5931\u7269",name:"\u5931\u72691",time:"2022-11-9 10:10:10"},{id:"",type:"\u4e8c\u624b",name:"\u5546\u54c11",time:"2022-11-9 10:10:10"},{id:"",type:"\u4ee3\u529e",name:"\u4ee3\u529e\u540d\u79f01",time:"2022-11-9 10:10:10"},{id:"",type:"\u62db\u9886",name:"\u7269\u54c11",time:"2022-11-9 10:10:10"}]}},methods:{gotodetail:function(e,t){"\u4e8c\u624b"===e?uni.navigateTo({url:"/pages/detail/shopdetail?id="+t}):"\u4ee3\u529e"===e?uni.navigateTo({url:"/pages/detail/rundetail?id="+t}):uni.navigateTo({url:"/pages/detail/lossdetail?id="+t})}},computed:{goods:function(){var e=this;return this.initial_goods.filter((function(t){return-1!==t.name.indexOf(e.keyword)}))}}};t.default=s},e3db:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},e442:function(e,t,n){"use strict";n.r(t);var s=n("75a1"),i=n("a413");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},e50d:function(e,t,n){var s=n("7037")["default"];e.exports=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports["default"]=e.exports},e5d0:function(e,t,n){"use strict";n.r(t);var s=n("82db"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},ec80:function(e,t,n){"use strict";n.r(t);var s=n("4902"),i=n.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);t["default"]=i.a},ed6d:function(e,t,n){var s=n("4a4b");e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)},e.exports.__esModule=!0,e.exports["default"]=e.exports},f0c5:function(e,t,n){"use strict";function s(e,t,n,s,i,r,a,o,u,c){var l,f="function"===typeof e?e.options:e;if(u){f.components||(f.components={});var d=Object.prototype.hasOwnProperty;for(var p in u)d.call(u,p)&&!d.call(f.components,p)&&(f.components[p]=u[p])}if(c&&((c.beforeCreate||(c.beforeCreate=[])).unshift((function(){this[c.__module]=this})),(f.mixins||(f.mixins=[])).push(c)),t&&(f.render=t,f.staticRenderFns=n,f._compiled=!0),s&&(f.functional=!0),r&&(f._scopeId="data-v-"+r),a?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},f._ssrRegister=l):i&&(l=o?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(f.functional){f._injectStyles=l;var h=f.render;f.render=function(e,t){return l.call(t),h(e,t)}}else{var v=f.beforeCreate;f.beforeCreate=v?[].concat(v,l):[l]}return{exports:e,options:f}}n.d(t,"a",(function(){return s}))},f5a8:function(e,t){e.exports="/static/touxiantext.png"},f800:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{id:"",balance:"190.01"}},methods:{goto:function(e){uni.navigateTo({url:"/pages/mine/wallet/"+e})}}};t.default=s},f858:function(e,t,n){if("undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))}),"undefined"!==typeof uni&&uni&&uni.requireGlobal){var s=uni.requireGlobal();ArrayBuffer=s.ArrayBuffer,Int8Array=s.Int8Array,Uint8Array=s.Uint8Array,Uint8ClampedArray=s.Uint8ClampedArray,Int16Array=s.Int16Array,Uint16Array=s.Uint16Array,Int32Array=s.Int32Array,Uint32Array=s.Uint32Array,Float32Array=s.Float32Array,Float64Array=s.Float64Array,BigInt64Array=s.BigInt64Array,BigUint64Array=s.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/index/index",(function(){return Vue.extend(n("9018").default)})),__definePage("pages/index/login",(function(){return Vue.extend(n("685a").default)})),__definePage("pages/index/register",(function(){return Vue.extend(n("16aa").default)})),__definePage("pages/index/message",(function(){return Vue.extend(n("e041").default)})),__definePage("pages/index/mine",(function(){return Vue.extend(n("89f6").default)})),__definePage("pages/mine/me",(function(){return Vue.extend(n("5396").default)})),__definePage("pages/mine/safe",(function(){return Vue.extend(n("5dbb").default)})),__definePage("pages/mine/wallet",(function(){return Vue.extend(n("cc44").default)})),__definePage("pages/mine/Collection",(function(){return Vue.extend(n("7fca").default)})),__definePage("pages/mine/order",(function(){return Vue.extend(n("43b8").default)})),__definePage("pages/mine/advice",(function(){return Vue.extend(n("e05e").default)})),__definePage("pages/index/userinfo_set",(function(){return Vue.extend(n("1768").default)})),__definePage("pages/mine/me/me_set",(function(){return Vue.extend(n("3751").default)})),__definePage("pages/mine/safe/password_set",(function(){return Vue.extend(n("4a75").default)})),__definePage("pages/mine/safe/phonenumber_set",(function(){return Vue.extend(n("4049").default)})),__definePage("pages/mine/wallet/recharge",(function(){return Vue.extend(n("5475").default)})),__definePage("pages/mine/wallet/record",(function(){return Vue.extend(n("fadc").default)})),__definePage("pages/mine/wallet/pay_set",(function(){return Vue.extend(n("0732").default)})),__definePage("pages/mine/wallet/pay_password_set",(function(){return Vue.extend(n("72b4").default)})),__definePage("pages/mine/order/release",(function(){return Vue.extend(n("90ff").default)})),__definePage("pages/detail/shopdetail",(function(){return Vue.extend(n("d5a8").default)})),__definePage("pages/list/list",(function(){return Vue.extend(n("2294").default)})),__definePage("pages/detail/lossdetail",(function(){return Vue.extend(n("8de0").default)})),__definePage("pages/detail/rundetail",(function(){return Vue.extend(n("aa80").default)})),__definePage("pages/mine/order/order_detail",(function(){return Vue.extend(n("e442").default)})),__definePage("pages/messsge_detail/messsge_detail",(function(){return Vue.extend(n("8735").default)})),__definePage("pages/messsge_detail/sys_notice",(function(){return Vue.extend(n("b671").default)}))},fadc:function(e,t,n){"use strict";n.r(t);var s=n("1df6"),i=n("307f");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var a=n("f0c5"),o=Object(a["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);t["default"]=o.exports},fc04:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",[n("text",{staticClass:e._$s(2,"sc","text_1"),attrs:{_i:2}}),n("view",{staticClass:e._$s(3,"sc","money"),attrs:{_i:3}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.money,expression:"money"}],staticClass:e._$s(4,"sc","input_1"),attrs:{_i:4},domProps:{value:e._$s(4,"v-model",e.money)},on:{input:function(t){t.target.composing||(e.money=t.target.value)}}}),n("text")]),n("view"),n("text",{staticClass:e._$s(7,"sc","text_1"),attrs:{_i:7}}),n("view",{staticClass:e._$s(8,"sc","view_1"),attrs:{_i:8}},[n("button",{staticClass:e._$s(9,"sc","button_1"),attrs:{_i:9}}),n("button",{staticClass:e._$s(10,"sc","button_1"),attrs:{_i:10}})]),n("text")])])},i=[]},fcff:function(e,t){e.exports="/static/ershou.png"},fe07:function(e,t,n){"use strict";(function(e){var s=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.Behavior=function(e){return e},t.Component=function(t){var n=function(t){var n=t.data,s=t.options,i=t.methods,r=t.behaviors,a=t.lifetimes,o=t.observers,l=t.relations,f=t.properties,p=t.pageLifetimes,h=t.externalClasses,v={mixins:[],props:{},watch:{},mpOptions:{mpObservers:[]}};return c(v),u(n,v),function(e,t){if(!e)return;t.mpOptions.options=e}(s,v),k(i,v),O(r,v),function(e,t){if(!e)return;x(e,t)}(a,v),function(e,t){if(!e)return;var n=t.mpOptions.mpObservers;Object.keys(e).forEach((function(t){n.push({paths:I(t),observer:e[t]})}))}(o,v),function(t,n){if(!t)return;Object.keys(t).forEach((function(n){var s=t[n];s.name=n,s.target=s.target?String(s.target):function(e,t){0===t.indexOf("/")&&(e="");var n=e.split("/"),s=t.split("/");n.pop();while(s.length){var i=s.shift();""!==i&&"."!==i&&(".."!==i?n.push(i):n.pop())}return n.join("/")}(e.__wxRoute,n)})),n.mpOptions.relations=t}(l,v),E(f,v),function(e,t){if(!e)return;b.forEach((function(n){var s=e[n];d(s)&&(t[w[n]]=s)}))}(p,v),function(e,t){if(!e)return;Array.isArray(e)||(e=[e]);t.mpOptions.externalClasses=e,t.mpOptions.properties||(t.mpOptions.properties=Object.create(null));e.forEach((function(e){t.mpOptions.properties[g(e)]={type:String,value:""}}))}(h,v),x(t,v),M(t),v}(t);n.mixins.unshift(K),n.mpOptions.path=e.__wxRoute,function(e){e.onServiceAttached||(e.onServiceAttached=[]);e.onServiceAttached.push((function(){F(this,"linked")}))}(n),e.__wxComponents[e.__wxRoute]=n},t.Page=function(t){var n=function(e){var t={mixins:[],mpOptions:{}};return c(t),u(e.data,t),function(e,t){var n=Object.create(null);Object.keys(e).forEach((function(t){var s=e[t];d(s)&&-1===C.indexOf(t)&&(n[t]=s)})),t.methods=n}(e,t),function(e,t){Object.keys(e).forEach((function(n){-1!==C.indexOf(n)&&(t[n]=e[n])}))}(e,t),t}(t);n.mixins.unshift(K),n.mpOptions.path=e.__wxRoute,e.__wxComponents[e.__wxRoute]=n},t.nextTick=t.default=void 0;var i,r=s(n("9523")),a=s(n("278c")),o=s(n("8bbf"));function u(e,t){e&&(t.mpOptions.data=e)}function c(t){t.components=e.__wxVueOptions.components}var l=Object.prototype.toString,f=Object.prototype.hasOwnProperty;function d(e){return"function"===typeof e}function p(e){return"[object Object]"===l.call(e)}function h(e,t){return f.call(e,t)}function v(){}var m=/-(\w)/g,g=function(e){var t=Object.create(null);return function(n){var s=t[n];return s||(t[n]=e(n))}}((function(e){return e.replace(m,(function(e,t){return t?t.toUpperCase():""}))})),y={created:"onServiceCreated",attached:"onServiceAttached",ready:"mounted",moved:"moved",detached:"destroyed"},_=Object.keys(y),w={show:"onPageShow",hide:"onPageHide",resize:"onPageResize"},b=Object.keys(w),C=["onLoad","onShow","onReady","onHide","onUnload","onPullDownRefresh","onReachBottom","onShareAppMessage","onPageScroll","onResize","onTabItemTap"];function E(e,t){e&&(t.mpOptions.properties=e)}function k(e,t){e&&(e.$emit&&(console.warn('Method "$emit" conflicts with an existing Vue instance method'),delete e.$emit),t.methods=e)}function x(e,t){_.forEach((function(n){h(e,n)&&(t[y[n]]||(t[y[n]]=[])).push(e[n])}))}var S={"wx://form-field":{},"wx://component-export":{}};function M(e,t){(function(e){var t=e.behaviors,n=e.definitionFilter,s=[];if(Array.isArray(t)&&t.forEach((function(t){t="string"===typeof t?S[t]:t,t.definitionFilter&&(s.push(t.definitionFilter),t.definitionFilter.call(null,e,[]))})),d(n));})(e)}var A={"wx://form-field":{beforeCreate:function(){var e=this.$options.mpOptions;e.properties||(e.properties=Object.create(null));var t=e.properties;h(t,"name")||(t.name={type:String}),h(t,"value")||(t.value={type:String})}}};function O(e,t){e&&e.forEach((function(e){"string"===typeof e?A[e]&&t.mixins.push(A[e]):t.mixins.push(function(e){var t=e.data,n=e.methods,s=e.behaviors,i=e.properties,r={watch:{},mpOptions:{mpObservers:[]}};return u(t,r),k(n,r),O(s,r),E(i,r),x(e,r),M(e),r}(e))}))}function I(e){return e.split(",").map((function(e){return function(e){return e.split(".")}(e)}))}function T(e,t,n,s){if(t){var i="_$".concat(e,"Handlers");(s[i]||(s[i]=[])).push((function(){t.call(s,n)}))}}function P(e,t,n){var s=e.name,i=n._$relationNodes||(n._$relationNodes=Object.create(null));(i[s]||(i[s]=[])).push(t),T("linked",e["linked"],t,n)}function $(e,t,n){T("unlinked",e["unlinked"],t,n)}function N(e,t,n){var s=e&&e.$options.mpOptions&&e.$options.mpOptions.relations;if(!s)return[];var i=Object.keys(s).find((function(e){var i=s[e];return i.target===t&&i.type===n}));return i?[s[i],e]:[]}function R(e,t,n){var s=n(e,e.$options.mpOptions.path),i=(0,a.default)(s,2),r=i[0],o=i[1];r&&(P(r,e,o),P(t,o,e),$(r,e,o),$(t,o,e))}function D(e){var t=e.$options.mpOptions||{},n=t.relations;n&&Object.keys(n).forEach((function(t){(function(e,t){var n=e.type;"parent"===n?R(t,e,(function(e,t){return N(e.$parent,t,"child")})):"ancestor"===n&&R(t,e,(function(e,t){var n=e.$parent;while(n){var s=N(n,t,"descendant");if(s.length)return s;n=n.$parent}return[]}))})(n[t],e)}))}function F(e,t){var n=e["_$".concat(t,"Handlers")];n&&n.forEach((function(e){return e()}))}var U={enumerable:!0,configurable:!0,get:v,set:v};function L(e,t,n){U.get=function(){return this[t][n]},U.set=function(e){this[t][n]=e},Object.defineProperty(e,n,U)}function j(e,t){var n=this;p(e)&&(Object.keys(e).forEach((function(t){(function(e,t,n){var s=e.replace(/\[(\d+?)\]/g,".$1").split(".");return s.reduce((function(e,n,i){if(i!==s.length-1)return"undefined"===typeof e[n]&&(e[n]={}),e[n];e[n]=t}),n),1===s.length})(t,e[t],n.data)&&!h(n,t)&&L(n,"__data__",t)})),this.$forceUpdate(),d(t)&&this.$nextTick(t))}var G=Object.prototype.toString,B=function(e){return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,s=G.call(n);if("[object Array]"===s)return t=n.slice(0),t;if("[object Object]"===s){for(var i in n)t[i]=e(t[i],n[i]);return t}if("[object Date]"===s)return new Date(n.getTime());if("[object RegExp]"===s){var r=String(n),a=r.lastIndexOf("/");return new RegExp(r.slice(1,a),r.slice(a+1))}return n}("[object Array]"===G.call(e)?[]:{},e)},V=(i={},(0,r.default)(i,String,""),(0,r.default)(i,Number,0),(0,r.default)(i,Boolean,!1),(0,r.default)(i,Object,null),(0,r.default)(i,Array,[]),(0,r.default)(i,null,null),i);function q(e){return V[e]}function H(e){return p(e)?e.type:e}function W(e,t,n,s){var i=n[e];if(void 0!==i){var r=t[e],a=H(r);i=z(i,a);var o=r&&r.observer;return o&&setTimeout((function(){Y(o,s,i)}),4),i}return function(e){return p(e)?h(e,"value")?e.value:q(e.type):q(e)}(t[e])}function z(e,t){return t===Boolean?!!e:t===String?String(e):e}function Y(e,t,n,s){try{"function"===typeof e?e.call(t,n,s):"string"===typeof e&&"function"===typeof t[e]&&t[e](n,s)}catch(i){console.error("execute observer ".concat(e," callback fail! err: ").concat(i))}}function X(e){var t=e.$options.mpOptions&&e.$options.mpOptions.properties,n=e.$options.propsData;n&&t&&Object.keys(t).forEach((function(s){h(n,s)&&(e[s]=z(n[s],H(t[s])))}))}function J(e){var t=JSON.parse(JSON.stringify(e.$options.mpOptions.data||{}));e["__data__"]=t;var n={get:function(){return e["__data__"]},set:function(t){e["__data__"]=t}};Object.defineProperties(e,{data:n,properties:n}),e.setData=j,function(e,t){var n=e.$options.mpOptions.properties;if(n){var s=B(e.$options.propsData)||{},i=function(i){var r=!!p(n[i])&&n[i].observer,a=W(i,n,s,e);Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:function(){return a},set:function(t){var n=a;t===a||t!==t&&a!==a||(a=Array.isArray(t)?t.slice(0):t,r&&Y(r,e,t,n),e.$forceUpdate())}})};for(var r in n)i(r)}}(e,t),Object.keys(t).forEach((function(t){L(e,"__data__",t)}))}var K={beforeCreate:function(){this._renderProxy=this,this._$self=this,this._$noop=v},created:function(){J(this),function(e){var t=e.$emit;e.triggerEvent=function(n,s,i){var r={dataset:e.$el.dataset},a={target:r,currentTarget:r,detail:s,preventDefault:v,stopPropagation:v};t.call(e,n,a)},e.$emit=function(){e.triggerEvent.apply(e,arguments)},e.getRelationNodes=function(t){return(e._$relationNodes&&e._$relationNodes[t]||[]).filter((function(e){return!e._isDestroyed}))},e._$updateProperties=X}(this),D(this)},mounted:function(){(function(e){var t=e.$options.watch;t&&Object.keys(t).forEach((function(n){var s=t[n];if(s.mounted){var i=e[n],r=s.handler;"string"===typeof r&&(r=e[r]),r&&r.call(e,i,i)}}))})(this)},destroyed:function(){F(this,"unlinked")}};e.__wxRoute="",e.__wxComponents=Object.create(null),e.__wxVueOptions=Object.create(null);var Q=o.default.nextTick;t.nextTick=Q;var Z=uni.__$wx__,ee=Z;t.default=ee}).call(this,n("c8ba"))},fee2:function(e,t,n){"use strict";n.r(t);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,62,0,62,0,63,52,53,54,55,56,57,58,59,60,61,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,0,0,0,0,63,0,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];t["default"]={getRandomValues(e){if(!(e instanceof Int8Array||e instanceof Uint8Array||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8ClampedArray))throw new Error("Expected an integer array");if(e.byteLength>65536)throw new Error("Can only request a maximum of 65536 bytes");var t=uni.requireNativePlugin("DCloud-Crypto");return function(e,t){for(var n,i=e.length,r="="===e[i-2]?2:"="===e[i-1]?1:0,a=0,o=i-r&4294967292,u=0;u<o;u+=4)n=s[e.charCodeAt(u)]<<18|s[e.charCodeAt(u+1)]<<12|s[e.charCodeAt(u+2)]<<6|s[e.charCodeAt(u+3)],t[a++]=n>>16&255,t[a++]=n>>8&255,t[a++]=255&n;1===r&&(n=s[e.charCodeAt(u)]<<10|s[e.charCodeAt(u+1)]<<4|s[e.charCodeAt(u+2)]>>2,t[a++]=n>>8&255,t[a++]=255&n),2===r&&(n=s[e.charCodeAt(u)]<<2|s[e.charCodeAt(u+1)]>>4,t[a++]=255&n)}(t.getRandomValues(e.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e}}},ff46:function(e,t,n){"use strict";(function(e,s,i,r,a,o){var u=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.User=t.Scene=t.MessageStatus=t.GoEasyPubSub=t.GoEasyIM=t.CustomerStatusOptions=t.ConversationDTO=t.CallBackOptions=t.CSTeam=t.AgentOnlineOptions=void 0;var c,l=u(n("a34a")),f=u(n("3c96")),d=u(n("9523")),p=u(n("8962")),h=u(n("ed6d")),v=u(n("6b58")),m=u(n("36c6")),g=u(n("970b")),y=u(n("5bc3")),_=u(n("7037"));function w(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var s=0,i=function(){};return{s:i,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw r}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(c){return!1}}();return function(){var n,s=(0,m.default)(e);if(t){var i=(0,m.default)(this).constructor;n=Reflect.construct(s,arguments,i)}else n=s.apply(this,arguments);return(0,v.default)(this,n)}}!function(e){e.DISCONNECTED="disconnected",e.DISCONNECTING="disconnecting",e.CONNECTING="connecting",e.CONNECTED="connected",e.RECONNECTING="reconnecting",e.RECONNECTED="reconnected",e.EXPIRED_RECONNECTED="reconnected",e.CONNECT_FAILED="connect_failed"}(c||(c={}));var E=function(e,t){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},E(e,t)},k=function(){return k=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},k.apply(this,arguments)};function x(e,t,n,s){return new(n||(n=Promise))((function(i,r){function a(e){try{u(s.next(e))}catch(e){r(e)}}function o(e){try{u(s.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}u((s=s.apply(e,t||[])).next())}))}var S=Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]};function M(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function A(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var s,i,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(e){i={error:e}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a}function O(e){return this instanceof O?(this.v=e,this):new O(e)}var I=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},T=Object.freeze({__proto__:null,__extends:function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},get __assign(){return k},__rest:function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]])}return n},__decorate:function(e,t,n,s){var i,r=arguments.length,a=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==("undefined"===typeof Reflect?"undefined":(0,_.default)(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,s);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},__param:function(e,t){return function(n,s){t(n,s,e)}},__metadata:function(e,t){if("object"==("undefined"===typeof Reflect?"undefined":(0,_.default)(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:x,__generator:function(e,t){var n,s,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,s&&(i=2&r[0]?s.return:r[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,r[1])).done)return i;switch(s=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,s=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],s=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}},__createBinding:S,__exportStar:function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||S(t,e,n)},__values:M,__read:A,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(A(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var s=Array(e),i=0;for(t=0;t<n;t++)for(var r=arguments[t],a=0,o=r.length;a<o;a++,i++)s[i]=r[a];return s},__spreadArray:function(e,t,n){if(n||2===arguments.length)for(var s,i=0,r=t.length;i<r;i++)!s&&i in t||(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))},__await:O,__asyncGenerator:function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=n.apply(e,t||[]),r=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(e){i[e]&&(s[e]=function(t){return new Promise((function(n,s){r.push([e,t,n,s])>1||o(e,t)}))})}function o(e,t){try{(n=i[e](t)).value instanceof O?Promise.resolve(n.value.v).then(u,c):l(r[0][2],n)}catch(e){l(r[0][3],e)}var n}function u(e){o("next",e)}function c(e){o("throw",e)}function l(e,t){e(t),r.shift(),r.length&&o(r[0][0],r[0][1])}},__asyncDelegator:function(e){var t,n;return t={},s("next"),s("throw",(function(e){throw e})),s("return"),t[Symbol.iterator]=function(){return this},t;function s(s,i){t[s]=e[s]?function(t){return(n=!n)?{value:O(e[s](t)),done:"return"===s}:i?i(t):t}:i}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=M(e),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(n){t[n]=e[n]&&function(t){return new Promise((function(s,i){(function(e,t,n,s){Promise.resolve(s).then((function(t){e({value:t,done:n})}),t)})(s,i,(t=e[n](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&S(t,e,n);return I(t,e),t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)},__classPrivateFieldSet:function(e,t,n,s,i){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?i.call(e,n):i?i.value=n:t.set(e,n),n},__classPrivateFieldIn:function(e,t){if(null===t||"object"!=(0,_.default)(t)&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}}),P="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};var $={exports:{}},N=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,R=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],D=function(e){var t=e,n=e.indexOf("["),s=e.indexOf("]");-1!=n&&-1!=s&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));for(var i=N.exec(e||""),r={},a=14;a--;)r[R[a]]=i[a]||"";return-1!=n&&-1!=s&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r},F={exports:{}},U={exports:{}},L=6e4,j=36e5,G=24*j,B=function(e,t){t=t||{};var n=(0,_.default)(e);if("string"===n&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*G;case"hours":case"hour":case"hrs":case"hr":case"h":return n*j;case"minutes":case"minute":case"mins":case"min":case"m":return n*L;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(e);if("number"===n&&!1===isNaN(e))return t.long?function(e){return V(e,G,"day")||V(e,j,"hour")||V(e,L,"minute")||V(e,1e3,"second")||e+" ms"}(e):function(e){return e>=G?Math.round(e/G)+"d":e>=j?Math.round(e/j)+"h":e>=L?Math.round(e/L)+"m":e>=1e3?Math.round(e/1e3)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function V(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}!function(e,t){function n(e){var n;function i(){if(i.enabled){var e=i,s=+new Date,r=s-(n||s);e.diff=r,e.prev=n,e.curr=s,n=s;for(var a=new Array(arguments.length),o=0;o<a.length;o++)a[o]=arguments[o];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,s){if("%%"===n)return n;u++;var i=t.formatters[s];if("function"==typeof i){var r=a[u];n=i.call(e,r),a.splice(u,1),u--}return n})),t.formatArgs.call(e,a);var c=i.log||t.log||console.log.bind(console);c.apply(e,a)}}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=function(e){var n,s=0;for(n in e)s=(s<<5)-s+e.charCodeAt(n),s|=0;return t.colors[Math.abs(s)%t.colors.length]}(e),i.destroy=s,"function"==typeof t.init&&t.init(i),t.instances.push(i),i}function s(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=U.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var s=("string"==typeof e?e:"").split(/[\s,]+/),i=s.length;for(n=0;n<i;n++)s[n]&&("-"===(e=s[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var r=t.instances[n];r.enabled=t.enabled(r.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,s;for(n=0,s=t.skips.length;n<s;n++)if(t.skips[n].test(e))return!1;for(n=0,s=t.names.length;n<s;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=B,t.instances=[],t.names=[],t.skips=[],t.formatters={}}(0,U.exports),function(e,t){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof s&&"env"in s&&(e=Object({VUE_APP_DARK_MODE:"false",VUE_APP_NAME:"\u4e91\u6821\u56ed\uff08\u5b8c\u6574\u7248\uff09",VUE_APP_PLATFORM:"app-plus",NODE_ENV:"production",BASE_URL:"/"}).DEBUG),e}(t=e.exports=U.exports).log=function(){return"object"==("undefined"===typeof console?"undefined":(0,_.default)(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var s="color: "+this.color;e.splice(1,0,s,"color: inherit");var i=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(r=i))})),e.splice(r,0,s)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())}(F,F.exports);var q=D,H=F.exports("socket.io-client:url"),W=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(H("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),H("parse %s",e),n=q(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var s=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port,n.href=n.protocol+"://"+s+(t&&t.port===n.port?"":":"+n.port),n},z={},Y={exports:{}};!function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}Y.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,s=this._callbacks["$"+e];if(!s)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<s.length;i++)if((n=s[i])===t||n.fn===t){s.splice(i,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var s=0,i=(n=n.slice(0)).length;s<i;++s)n[s].apply(this,t);return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}();var X={}.toString,J=Array.isArray||function(e){return"[object Array]"==X.call(e)};!function(e){F.exports("socket.io-parser");var t=Y.exports,n=J;function s(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=s,e.Decoder=r;var i=e.ERROR+'"encode error"';function r(){this.reconstructor=null}function a(t){return{type:e.ERROR,data:"parser error: "+t}}s.prototype.encode=function(t,n){var s=function(t){var n=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data){var s=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(t.data);if(!1===s)return i;n+=s}return n}(t);n([s])},t(r.prototype),r.prototype.add=function(t){var s;if("string"!=typeof t)throw new Error("Unknown type: "+t);s=function(t){var s=0,i={type:Number(t.charAt(0))};if(null==e.types[i.type])return a("unknown packet type "+i.type);if(e.BINARY_EVENT===i.type||e.BINARY_ACK===i.type){for(var r="";"-"!==t.charAt(++s)&&(r+=t.charAt(s),s!=t.length););if(r!=Number(r)||"-"!==t.charAt(s))throw new Error("Illegal attachments");i.attachments=Number(r)}if("/"===t.charAt(s+1))for(i.nsp="";++s;){if(","===(u=t.charAt(s)))break;if(i.nsp+=u,s===t.length)break}else i.nsp="/";var o=t.charAt(s+1);if(""!==o&&Number(o)==o){for(i.id="";++s;){var u;if(null==(u=t.charAt(s))||Number(u)!=u){--s;break}if(i.id+=t.charAt(s),s===t.length)break}i.id=Number(i.id)}if(t.charAt(++s)){var c=function(e){try{return JSON.parse(e)}catch(e){return!1}}(t.substr(s));if(!1===c||i.type!==e.ERROR&&!n(c))return a("invalid payload");i.data=c}return i}(t),this.emit("decoded",s)},r.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}(z);var K={exports:{}},Q={},Z={},ee=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var s in e)n.call(e,s)&&t.push(s);return t},te=J,ne=Object.prototype.toString,se="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===ne.call(Blob),ie="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===ne.call(File),re=function e(t){if(!t||"object"!=(0,_.default)(t))return!1;if(te(t)){for(var n=0,s=t.length;n<s;n++)if(e(t[n]))return!0;return!1}if("function"==typeof i&&i.isBuffer&&i.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||se&&t instanceof Blob||ie&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return!0;return!1},ae=function(e,t,n){var s=!1;return n=n||oe,i.count=e,0===e?t():i;function i(e,r){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(s=!0,t(e),t=n):0!==i.count||s||t(null,r)}};function oe(){}var ue,ce,le,fe=String.fromCharCode;function de(e){for(var t,n,s=[],i=0,r=e.length;i<r;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r?56320==(64512&(n=e.charCodeAt(i++)))?s.push(((1023&t)<<10)+(1023&n)+65536):(s.push(t),i--):s.push(t);return s}function pe(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function he(e,t){return fe(e>>t&63|128)}function ve(e,t){if(0==(4294967168&e))return fe(e);var n="";return 0==(4294965248&e)?n=fe(e>>6&31|192):0==(4294901760&e)?(pe(e,t)||(e=65533),n=fe(e>>12&15|224),n+=he(e,6)):0==(4292870144&e)&&(n=fe(e>>18&7|240),n+=he(e,12),n+=he(e,6)),n+fe(63&e|128)}function me(){if(le>=ce)throw Error("Invalid byte index");var e=255&ue[le];if(le++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function ge(e){var t,n;if(le>ce)throw Error("Invalid byte index");if(le==ce)return!1;if(t=255&ue[le],le++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|me())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|me()<<6|me())>=2048)return pe(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|me()<<12|me()<<6|me())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}var ye={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,s=de(e),i=s.length,r=-1,a="";++r<i;)a+=ve(s[r],n);return a},decode:function(e,t){var n=!1!==(t=t||{}).strict;ue=de(e),ce=ue.length,le=0;for(var s,i=[];!1!==(s=ge(n));)i.push(s);return function(e){for(var t,n=e.length,s=-1,i="";++s<n;)(t=e[s])>65535&&(i+=fe((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=fe(t);return i}(i)}},_e=void 0!==_e?_e:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,we=function(){try{return 2===new Blob(["hi"]).size}catch(c){return!1}}(),be=we&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(c){return!1}}(),Ce=_e&&_e.prototype.append&&_e.prototype.getBlob;function Ee(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function ke(e,t){t=t||{};var n=new _e;return Ee(e).forEach((function(e){n.append(e)})),t.type?n.getBlob(t.type):n.getBlob()}function xe(e,t){return new Blob(Ee(e),t||{})}"undefined"!=typeof Blob&&(ke.prototype=Blob.prototype,xe.prototype=Blob.prototype);var Se=we?be?Blob:xe:Ce?ke:void 0;!function(e){var t=ee,n=re,s=ae,i=ye;"undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),"undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),e.protocol=3;var r=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},a=t(r),o={type:"error",data:"parser error"},u=Se;e.encodePacket=function(e,t,n,s){"function"==typeof t&&(s=t,t=!1),"function"==typeof n&&(s=n,n=null),void 0===e.data||e.data.buffer||e.data;var a=r[e.type];return void 0!==e.data&&(a+=n?i.encode(String(e.data),{strict:!1}):String(e.data)),s(""+a)},e.decodePacket=function(e,t,n){if(void 0===e)return o;if("string"==typeof e){if(n&&!1===(e=function(e){try{e=i.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return o;var s=e.charAt(0);return Number(s)==s&&a[s]?e.length>1?{type:a[s],data:e.substring(1)}:{type:a[s]}:o}s=new Uint8Array(e)[0];var r=sliceBuffer(e,1);return u&&"blob"===t&&(r=new u([r])),{type:a[s],data:r}},e.encodePayload=function(t,i,r){"function"==typeof i&&(r=i,i=null);var a=n(t);if(!t.length)return r("0:");!function(e,t,n){for(var i=new Array(e.length),r=s(e.length,n),a=function(e,n,s){t(n,(function(t,n){i[e]=n,s(t,i)}))},o=0;o<e.length;o++)a(o,e[o],r)}(t,(function(t,n){e.encodePacket(t,!!a&&i,!0,(function(e){n(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return r(t.join(""))}))},e.decodePayload=function(t,n,s){var i;if("function"==typeof n&&(s=n,n=null),""===t)return s(o,0,1);for(var r,a,u="",c=0,l=t.length;c<l;c++){var f=t.charAt(c);if(":"===f){if(""===u||u!=(r=Number(u)))return s(o,0,1);if(u!=(a=t.substr(c+1,r)).length)return s(o,0,1);if(a.length){if(i=e.decodePacket(a,n,!0),o.type===i.type&&o.data===i.data)return s(o,0,1);if(!1===s(i,c+r,l))return}c+=r,u=""}else u+=f}return""!==u?s(o,0,1):void 0}}(Z);var Me=Z,Ae=Oe;function Oe(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}(0,Y.exports)(Oe.prototype),Oe.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},Oe.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},Oe.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},Oe.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},Oe.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},Oe.prototype.onData=function(e){var t=Me.decodePacket(e,this.socket.binaryType);this.onPacket(t)},Oe.prototype.onPacket=function(e){this.emit("packet",e)},Oe.prototype.onClose=function(){this.readyState="closed",this.emit("close")};var Ie,Te={encode:function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},decode:function(e){for(var t={},n=e.split("&"),s=0,i=n.length;s<i;s++){var r=n[s].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}},Pe=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},$e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ne={},Re=0,De=0;function Fe(e){var t="";do{t=$e[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function Ue(){var e=Fe(+new Date);return e!==Ie?(Re=0,Ie=e):e+"."+Fe(Re++)}for(;De<64;De++)Ne[$e[De]]=De;Ue.encode=Fe,Ue.decode=function(e){var t=0;for(De=0;De<e.length;De++)t=64*t+Ne[e.charAt(De)];return t};var Le=Ue,je={exports:{}},Ge={exports:{}},Be=1e3,Ve=6e4,qe=60*Ve,He=24*qe,We=function(e,t){t=t||{};var n=(0,_.default)(e);if("string"===n&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*He;case"hours":case"hour":case"hrs":case"hr":case"h":return n*qe;case"minutes":case"minute":case"mins":case"min":case"m":return n*Ve;case"seconds":case"second":case"secs":case"sec":case"s":return n*Be;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(e);if("number"===n&&!1===isNaN(e))return t.long?function(e){return ze(e,He,"day")||ze(e,qe,"hour")||ze(e,Ve,"minute")||ze(e,Be,"second")||e+" ms"}(e):function(e){return e>=He?Math.round(e/He)+"d":e>=qe?Math.round(e/qe)+"h":e>=Ve?Math.round(e/Ve)+"m":e>=Be?Math.round(e/Be)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function ze(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}!function(e,t){function n(e){var n;function i(){if(i.enabled){var e=i,s=+new Date,r=s-(n||s);e.diff=r,e.prev=n,e.curr=s,n=s;for(var a=new Array(arguments.length),o=0;o<a.length;o++)a[o]=arguments[o];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,s){if("%%"===n)return n;u++;var i=t.formatters[s];if("function"==typeof i){var r=a[u];n=i.call(e,r),a.splice(u,1),u--}return n})),t.formatArgs.call(e,a);var c=i.log||t.log||console.log.bind(console);c.apply(e,a)}}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=function(e){var n,s=0;for(n in e)s=(s<<5)-s+e.charCodeAt(n),s|=0;return t.colors[Math.abs(s)%t.colors.length]}(e),i.destroy=s,"function"==typeof t.init&&t.init(i),t.instances.push(i),i}function s(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=Ge.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var s=("string"==typeof e?e:"").split(/[\s,]+/),i=s.length;for(n=0;n<i;n++)s[n]&&("-"===(e=s[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var r=t.instances[n];r.enabled=t.enabled(r.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,s;for(n=0,s=t.skips.length;n<s;n++)if(t.skips[n].test(e))return!1;for(n=0,s=t.names.length;n<s;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=We,t.instances=[],t.names=[],t.skips=[],t.formatters={}}(0,Ge.exports),function(e,t){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof s&&"env"in s&&(e=Object({VUE_APP_DARK_MODE:"false",VUE_APP_NAME:"\u4e91\u6821\u56ed\uff08\u5b8c\u6574\u7248\uff09",VUE_APP_PLATFORM:"app-plus",NODE_ENV:"production",BASE_URL:"/"}).DEBUG),e}(t=e.exports=Ge.exports).log=function(){return"object"==("undefined"===typeof console?"undefined":(0,_.default)(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var s="color: "+this.color;e.splice(1,0,s,"color: inherit");var i=0,r=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(r=i))})),e.splice(r,0,s)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())}(je,je.exports);var Ye={exports:{}};try{Ye.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(c){Ye.exports=!1}var Xe=Ye.exports,Je=Ae,Ke=Te,Qe=Z,Ze=Pe,et=Le,nt=je.exports("engine.io-client:polling"),st=rt,it=null!=new function(e){var t=e.xdomain,n=e.xscheme,s=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||Xe))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&s)return new XDomainRequest}catch(e){}if(!t)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}({xdomain:!1}).responseType;function rt(e){var t=e&&e.forceBase64;it&&!t||(this.supportsBinary=!1),Je.call(this,e)}Ze(rt,Je),rt.prototype.name="polling",rt.prototype.doOpen=function(){this.poll()},rt.prototype.pause=function(e){var t=this;function n(){nt("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var s=0;this.polling&&(nt("we are currently polling - waiting to pause"),s++,this.once("pollComplete",(function(){nt("pre-pause polling complete"),--s||n()}))),this.writable||(nt("we are currently writing - waiting to pause"),s++,this.once("drain",(function(){nt("pre-pause writing complete"),--s||n()})))}else n()},rt.prototype.poll=function(){nt("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},rt.prototype.onData=function(e){var t=this;nt("polling got data %s",e),Qe.decodePayload(e,this.socket.binaryType,(function(e,n,s){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():nt('ignoring poll - transport state "%s"',this.readyState))},rt.prototype.doClose=function(){var e=this;function t(){nt("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(nt("transport open - closing"),t()):(nt("transport not open - deferring close"),this.once("open",t))},rt.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};Qe.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},rt.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=et()),this.supportsBinary||e.sid||(e.b64=1),e=Ke.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e};var at,ot=st,ut=dt,ct=/\n/g,lt=/\\n/g;function ft(){}function dt(e){if(ot.call(this,e),this.query=this.query||{},!at){var t=function(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==P?P:{}}();at=t.___eio=t.___eio||[]}this.index=at.length;var n=this;at.push((function(e){n.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=ft)}),!1)}Pe(dt,ot),dt.prototype.supportsBinary=!1,dt.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),ot.prototype.doClose.call(this)},dt.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},dt.prototype.doWrite=function(e,t){var n=this;if(!this.form){var s,i=document.createElement("form"),r=document.createElement("textarea"),a=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=a,i.method="POST",i.setAttribute("accept-charset","utf-8"),r.name="d",i.appendChild(r),document.body.appendChild(i),this.form=i,this.area=r}function o(){u(),t()}function u(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';s=document.createElement(e)}catch(e){(s=document.createElement("iframe")).name=n.iframeId,s.src="javascript:0"}s.id=n.iframeId,n.form.appendChild(s),n.iframe=s}this.form.action=this.uri(),u(),e=e.replace(lt,"\\\n"),this.area.value=e.replace(ct,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&o()}:this.iframe.onload=o};var pt,ht=Ae,vt=Z,mt=Te,gt=Pe,yt=Le,_t=je.exports("engine.io-client:websocket");("undefined"==typeof uni&&"undefined"==typeof r||"undefined"!=typeof WebSocket)&&("undefined"!=typeof WebSocket?pt=WebSocket:"undefined"!=typeof self&&(pt=self.WebSocket||self.MozWebSocket));var wt=pt||void 0;("undefined"==typeof uni&&"undefined"==typeof r||"undefined"!=typeof WebSocket)&&"undefined"==typeof GameGlobal||(wt=function(e){var t=this;if(t.onopen=function(){},t.onclose=function(){},t.onmessage=function(e){},t.onerror=function(e){},"object"==("undefined"===typeof tt?"undefined":(0,_.default)(tt))&&tt.getSystemInfo){var n=tt.connectSocket({url:e});t.send=function(e){n.send({data:e})},t.close=function(){n.close()},n.onOpen((function(){t.onopen()})),n.onError((function(e){t.onerror(e)})),n.onMessage((function(e){t.onmessage(e)})),n.onClose((function(){t.onclose()}))}else if("undefined"!=typeof uni)if("undefined"!=typeof my)my.connectSocket({url:e}),t.send=function(e){my.sendSocketMessage({data:e})},t.close=function(e){my.closeSocket()},my.onSocketOpen((function(e){t.onopen()})),my.onSocketError((function(e){t.onerror(e)})),my.onSocketMessage((function(e){t.onmessage(e)})),my.onSocketClose((function(e){t.onclose(e)}));else{var s=uni.connectSocket({url:e,complete:function(){}});t.send=function(e){s.send({data:e})},t.close=function(){s.close()},s.onOpen((function(e){t.onopen()})),s.onError((function(e){t.onerror(e)})),s.onMessage((function(e){t.onmessage(e)})),s.onClose((function(e){t.onclose()}))}else{var i=r.connectSocket({url:e});t.send=function(e){i.send({data:e})},t.close=function(e){i.close({code:1e3})},i.onOpen((function(){t.onopen()})),i.onError((function(e){t.onerror(e)})),i.onMessage((function(e){t.onmessage(e)})),i.onClose((function(e){t.onclose(e)}))}});var bt=Ct;function Ct(e){e&&e.forceBase64&&(this.supportsBinary=!1),("undefined"==typeof uni&&"undefined"==typeof r||"undefined"!=typeof WebSocket)&&(this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=pt&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(wt=void 0)),ht.call(this,e)}gt(Ct,ht),Ct.prototype.name="websocket",Ct.prototype.supportsBinary=!1,Ct.prototype.doOpen=function(){if(this.check()){var e,t,n=this.uri();("undefined"==typeof uni&&"undefined"==typeof r||"undefined"!=typeof WebSocket)&&(e=this.protocols),(t="undefined"==typeof uni&&"undefined"==typeof r||"undefined"!=typeof WebSocket?{agent:this.agent,perMessageDeflate:this.perMessageDeflate}:{agent:this.agent}).pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(t.headers=this.extraHeaders),this.localAddress&&(t.localAddress=this.localAddress);try{"undefined"==typeof uni&&"undefined"==typeof r||"undefined"!=typeof WebSocket?this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new wt(n,e):new wt(n):new wt(n,e,t):this.ws=new wt(n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},Ct.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},Ct.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,s=0,a=n;s<a;s++)!function(e){vt.encodePacket(e,t.supportsBinary,(function(s){if("undefined"==typeof uni&&"undefined"==typeof r||"undefined"!=typeof WebSocket){if(!t.usingBrowserWebSocket){var a={};e.options&&(a.compress=e.options.compress),t.perMessageDeflate&&("string"==typeof s?i.byteLength(s):s.length)<t.perMessageDeflate.threshold&&(a.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(s):t.ws.send(s,a)}catch(e){_t("websocket closed before onclose event")}}else try{t.ws.send(s)}catch(e){_t("websocket closed before onclose event")}--n||o()}))}(e[s]);function o(){t.emit("flush"),setTimeout((function(){t.writable=!0,t.emit("drain")}),0)}},Ct.prototype.onClose=function(){ht.prototype.onClose.call(this)},Ct.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},Ct.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=yt()),this.supportsBinary||(e.b64=1),(e=mt.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},Ct.prototype.check=function(){return!(!wt||"__initialize"in wt&&this.name===Ct.prototype.name)};var Et=ut,kt=bt;Q.polling=function(e){var t=!1,n=!1;if(e.jsonp,"undefined"!=typeof location){var s="https:"===location.protocol,i=location.port;i||(i=s?443:80),t=e.hostname!==location.hostname||i!==e.port,n=e.secure!==s}return e.xdomain=t,e.xscheme=n,new Et(e)},Q.websocket=kt;var xt=[].indexOf,St=function(e,t){if(xt)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},Mt=Q,At=Y.exports,Ot=je.exports("engine.io-client:socket"),It=St,Tt=Z,Pt=D,$t=Te,Nt=Rt;function Rt(e,t){if(!(this instanceof Rt))return new Rt(e,t);t=t||{},e&&"object"==(0,_.default)(e)&&(t=e,e=null),e?(e=Pt(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Pt(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=$t.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}Rt.priorWebsocketSuccess=!1,At(Rt.prototype),Rt.protocol=Tt.protocol,Rt.Socket=Rt,Rt.Transport=Ae,Rt.transports=Q,Rt.parser=Z,Rt.prototype.createTransport=function(e){Ot('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=Tt.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new Mt[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},Rt.prototype.open=function(){var e;if(this.rememberUpgrade&&Rt.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},Rt.prototype.setTransport=function(e){Ot("setting transport %s",e.name);var t=this;this.transport&&(Ot("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},Rt.prototype.probe=function(e){Ot('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,s=this;function i(){if(s.onlyBinaryUpgrades){var i=!this.supportsBinary&&s.transport.supportsBinary;n=n||i}n||(Ot('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(Ot('probe transport "%s" pong',e),s.upgrading=!0,s.emit("upgrading",t),!t)return;Rt.priorWebsocketSuccess="websocket"===t.name,Ot('pausing current transport "%s"',s.transport.name),s.transport.pause((function(){n||"closed"!==s.readyState&&(Ot("changing transport and sending upgrade packet"),l(),s.setTransport(t),t.send([{type:"upgrade"}]),s.emit("upgrade",t),t=null,s.upgrading=!1,s.flush())}))}else{Ot('probe transport "%s" failed',e);var r=new Error("probe error");r.transport=t.name,s.emit("upgradeError",r)}})))}function r(){n||(n=!0,l(),t.close(),t=null)}function a(n){var i=new Error("probe error: "+n);i.transport=t.name,r(),Ot('probe transport "%s" failed because of error: %s',e,n),s.emit("upgradeError",i)}function o(){a("transport closed")}function u(){a("socket closed")}function c(e){t&&e.name!==t.name&&(Ot('"%s" works - aborting "%s"',e.name,t.name),r())}function l(){t.removeListener("open",i),t.removeListener("error",a),t.removeListener("close",o),s.removeListener("close",u),s.removeListener("upgrading",c)}Rt.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",a),t.once("close",o),this.once("close",u),this.once("upgrading",c),t.open()},Rt.prototype.onOpen=function(){if(Ot("socket open"),this.readyState="open",Rt.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){Ot("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},Rt.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(Ot('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else Ot('packet received with socket readyState "%s"',this.readyState)},Rt.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},Rt.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},Rt.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){Ot("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},Rt.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},Rt.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},Rt.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Ot("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},Rt.prototype.write=Rt.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},Rt.prototype.sendPacket=function(e,t,n,s){if("function"==typeof t&&(s=t,t=void 0),"function"==typeof n&&(s=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}},Rt.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?s():t()})):this.upgrading?s():t()}function t(){e.onClose("forced close"),Ot("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function s(){e.once("upgrade",n),e.once("upgradeError",n)}return this},Rt.prototype.onError=function(e){Ot("socket error %j",e),Rt.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},Rt.prototype.onClose=function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(Ot('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)},Rt.prototype.filterUpgrades=function(e){for(var t=[],n=0,s=e.length;n<s;n++)~It(this.transports,e[n])&&t.push(e[n]);return t},K.exports=Nt,K.exports.parser=Z;var Dt={exports:{}},Ft=function(e,t){for(var n=[],s=(t=t||0)||0;s<e.length;s++)n[s-t]=e[s];return n},Ut=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}},Lt=[].slice,jt=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=Lt.call(arguments,2);return function(){return t.apply(e,n.concat(Lt.call(arguments)))}};!function(e,t){var n=z,s=Y.exports,i=Ft,r=Ut,a=jt,o=(F.exports("socket.io-client:socket"),Te),u=re;e.exports=f;var c={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},l=s.prototype.emit;function f(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}s(f.prototype),f.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[r(e,"open",a(this,"onopen")),r(e,"packet",a(this,"onpacket")),r(e,"close",a(this,"onclose"))]}},f.prototype.open=f.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},f.prototype.send=function(){var e=i(arguments);return e.unshift("message"),this.emit.apply(this,e),this},f.prototype.emit=function(e){if(c.hasOwnProperty(e))return l.apply(this,arguments),this;var t=i(arguments),s={type:(void 0!==this.flags.binary?this.flags.binary:u(t))?n.BINARY_EVENT:n.EVENT,data:t,options:{}};return s.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(this.ids,this.acks[this.ids]=t.pop(),s.id=this.ids++),this.connected?this.packet(s):this.sendBuffer.push(s),this.flags={},this},f.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},f.prototype.onopen=function(){if("/"!==this.nsp)if(this.query){var e="object"==(0,_.default)(this.query)?o.encode(this.query):this.query;this.packet({type:n.CONNECT,query:e})}else this.packet({type:n.CONNECT})},f.prototype.onclose=function(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},f.prototype.onpacket=function(e){var t=e.nsp===this.nsp,s=e.type===n.ERROR&&"/"===e.nsp;if(t||s)switch(e.type){case n.CONNECT:this.onconnect();break;case n.EVENT:case n.BINARY_EVENT:this.onevent(e);break;case n.ACK:case n.BINARY_ACK:this.onack(e);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",e.data)}},f.prototype.onevent=function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?l.apply(this,t):this.receiveBuffer.push(t)},f.prototype.ack=function(e){var t=this,s=!1;return function(){if(!s){s=!0;var r=i(arguments);t.packet({type:u(r)?n.BINARY_ACK:n.ACK,id:e,data:r})}}},f.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(e.id,e.data,t.apply(this,e.data),delete this.acks[e.id]):e.id},f.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},f.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)l.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},f.prototype.ondisconnect=function(){this.nsp,this.destroy(),this.onclose("io server disconnect")},f.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},f.prototype.close=f.prototype.disconnect=function(){return this.connected&&(this.nsp,this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},f.prototype.compress=function(e){return this.flags.compress=e,this},f.prototype.binary=function(e){return this.flags.binary=e,this}}(Dt);var Gt=Bt;function Bt(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Bt.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Bt.prototype.reset=function(){this.attempts=0},Bt.prototype.setMin=function(e){this.ms=e},Bt.prototype.setMax=function(e){this.max=e},Bt.prototype.setJitter=function(e){this.jitter=e};var Vt={},qt={},Ht=function(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})})),t}(T),Wt={};!function(e){e.__esModule=!0,e.PlatformDetector=e.Platform=void 0;var t,n=Ht;!function(e){e.BROWSER="BROWSER",e.UNKNOWN="UNKNOWN",e.APP_IOS="APP_IOS",e.APP_ANDROID="APP_ANDROID",e.APPLET_WX="APPLET_WX",e.APPLET_WX_GAME="APPLET_WX_GAME",e.APPLET_ALIPAY="APPLET_ALIPAY",e.APPLET_BYTEDANCE="APPLET_BYTEDANCE"}(t=e.Platform||(e.Platform={}));var s=function(){function e(){var e,s,i;this.platform=null,this.methods=((e={})[t.BROWSER]=this.isBrowser,e[t.APP_IOS]=this.isAppiOS,e[t.APP_ANDROID]=this.isAppAndroid,e[t.APPLET_WX]=this.isWXApplet,e[t.APPLET_WX_GAME]=this.isWXGameApplet,e);var r=this.methods,a=Object.keys(r);try{for(var o=n.__values(a),u=o.next();!u.done;u=o.next()){var c=u.value;if((0,r[c])()){this.platform=c;break}}}catch(e){s={error:e}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(s)throw s.error}}this.platform=this.platform||t.UNKNOWN,this.platform}return e.currentPlatform=function(){return e.instance.platform},e.prototype.isBrowser=function(){return"undefined"!=typeof navigator&&"Taro"!==navigator.product&&"undefined"==typeof GameGlobal&&("undefined"==typeof cc||null!==cc.sys.browserType)},e.prototype.isAppiOS=function(){return"undefined"!=typeof cc&&cc.sys.isNative&&cc.sys.isMobile&&"iOS"===cc.sys.os||"object"==("undefined"===typeof uni?"undefined":(0,_.default)(uni))&&!!uni.getSystemInfoSync&&"ios"===uni.getSystemInfoSync().platform&&"object"==("undefined"===typeof plus?"undefined":(0,_.default)(plus))},e.prototype.isAppAndroid=function(){return"undefined"!=typeof cc&&cc.sys.isNative&&cc.sys.isMobile&&"Android"===cc.sys.os||"object"==("undefined"===typeof uni?"undefined":(0,_.default)(uni))&&!!uni.getSystemInfoSync&&"android"===uni.getSystemInfoSync().platform&&"object"==("undefined"===typeof plus?"undefined":(0,_.default)(plus))},e.prototype.isWXApplet=function(){return"object"==("undefined"===typeof r?"undefined":(0,_.default)(r))&&!!r.getSystemInfoSync&&"undefined"==typeof WebSocket&&"undefined"==typeof XMLHttpRequest&&"undefined"==typeof plus},e.prototype.isWXGameApplet=function(){return"object"==("undefined"===typeof GameGlobal?"undefined":(0,_.default)(GameGlobal))},e.prototype.isAlipayApplet=function(){return!1},e.prototype.isBytedanceApplet=function(){return!1},e.prototype.isQQApplet=function(){return!1},e.prototype.isBaiduApplet=function(){return!1},e.instance=new e,e}();e.PlatformDetector=s}(Wt),function(e){e.__esModule=!0,e.FrameworkDetector=e.Framework=void 0;var t,n=Ht,i=Wt;!function(e){e.UNIAPP="UNIAPP",e.REACT_NATIVE="REACT_NATIVE",e.COCOS="COCOS",e.TARO="TARO",e.IONIC="IONIC",e.NATIVE_APPLET_WX="NATIVE_APPLET_WX",e.NATIVE_APPLET_ALIPAY="NATIVE_APPLET_ALIPAY",e.UNKNOWN="UNKNOWN"}(t=e.Framework||(e.Framework={}));var r=function(){function e(){var e,s,i;this.framework=null,this.methods=((e={})[t.UNIAPP]=this.isUniApp,e[t.REACT_NATIVE]=this.isReactNative,e[t.TARO]=this.isTaro,e[t.NATIVE_APPLET_WX]=this.isWXApplet,e[t.COCOS]=this.isCocos,e);var r=this.methods,a=Object.keys(r);try{for(var o=n.__values(a),u=o.next();!u.done;u=o.next()){var c=u.value;if((0,r[c])()){this.framework=c;break}}}catch(e){s={error:e}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(s)throw s.error}}this.framework=this.framework||t.UNKNOWN,this.framework}return e.currentFramework=function(){return this.instance.framework},e.prototype.isUniApp=function(){return"object"==("undefined"===typeof uni?"undefined":(0,_.default)(uni))&&!!uni.getSystemInfoSync},e.prototype.isReactNative=function(){return void 0!==P&&P.__fbGenNativeModule},e.prototype.isTaro=function(){return"undefined"!=typeof s&&void 0!==Object({VUE_APP_DARK_MODE:"false",VUE_APP_NAME:"\u4e91\u6821\u56ed\uff08\u5b8c\u6574\u7248\uff09",VUE_APP_PLATFORM:"app-plus",NODE_ENV:"production",BASE_URL:"/"}).TARO_ENV},e.prototype.isWXApplet=function(){return i.PlatformDetector.currentPlatform()===i.Platform.APPLET_WX&&"undefined"==typeof uni},e.prototype.isCocos=function(){try{return void 0!==cc.sys.localStorage}catch(e){return!1}},e.instance=new e,e}();e.FrameworkDetector=r}(qt),Vt.__esModule=!0,Vt.uniApp=void 0;var zt=qt,Yt=function(){function e(){this.uniAppRunningBackend=!1,this.listenAppRunning()}return e.prototype.listenAppRunning=function(){var e=this;zt.FrameworkDetector.currentFramework()===zt.Framework.UNIAPP&&"object"==("undefined"===typeof plus?"undefined":(0,_.default)(plus))&&(plus.globalEvent.addEventListener("resume",(function(){e.uniAppRunningBackend=!1,e.uniAppRunningBackend}),!1),plus.globalEvent.addEventListener("pause",(function(){e.uniAppRunningBackend=!0,e.uniAppRunningBackend}),!1))},e.prototype.runningBackend=function(){return this.uniAppRunningBackend},e}(),Xt=new Yt;Vt.uniApp=Xt;var Jt,Kt={},Qt={};(Jt=Qt).__esModule=!0,Jt.default={maxNumber:5};var Zt={},en={__esModule:!0,Cookie:void 0},tn=Ht,nn=function(){function e(){}return e.get=function(e){var t,n,s=encodeURIComponent(e)+"=",i=document.cookie.split("; ");try{for(var r=tn.__values(i),a=r.next();!a.done;a=r.next()){var o=a.value;if(o.startsWith(s))return decodeURIComponent(o.substring(s.length))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null},e.set=function(e,t,n,s,i,r){void 0===i&&(i="/"),void 0===r&&(r=!1);var a=encodeURIComponent(e)+"="+encodeURIComponent(t);n instanceof Date&&(a+="; expires="+n.toGMTString()),i&&(a+="; path="+i),s&&(a+="; domain="+s),r&&(a+="; secure"),document.cookie=a},e.remove=function(t,n,s,i){void 0===s&&(s="/"),void 0===i&&(i=!1),e.set(t,"",new Date(0),n,s,i)},e}();en.Cookie=nn,Zt.__esModule=!0,Zt.LocalStorageDispatcher=void 0;var sn=Ht,rn=en,an=function(){function e(){this.domain=null,this.domain="undefined"!=typeof location&&/^(?:[A-za-z0-9-]+\.)+[A-za-z]{2,4}(?:[\/\?#][\/=\?%\-&~`@[\]\':+!\.#\w]*)?$/.test(location.host)?location.host.split(".").slice(-2).join("."):null}return e.prototype.get=function(e){var t=rn.Cookie.get(e)||null;return JSON.parse(t)},e.prototype.put=function(e,t){var n=new Date(2030,12,31,0,0,0,0),s=this.domain;rn.Cookie.set(e,JSON.stringify(t),n,s)},e.prototype.remove=function(e){var t=this.domain;rn.Cookie.remove(e,t)},e.prototype.support=function(){return"undefined"!=typeof navigator&&!0===navigator.cookieEnabled},e}(),on=function(){function e(){}return e.prototype.get=function(e){var t=localStorage.getItem(e);return JSON.parse(t)},e.prototype.put=function(e,t){var n=localStorage.setItem(e,JSON.stringify(t));JSON.stringify(n)},e.prototype.remove=function(e){localStorage.removeItem(e)},e.prototype.support=function(){return!("undefined"!=typeof GameGlobal||"undefined"==typeof localStorage||!localStorage.setItem)},e}(),un=function(){function e(){}return e.prototype.get=function(e){var t=uni.getStorageSync(e)||null;return JSON.parse(t)},e.prototype.put=function(e,t){uni.setStorageSync(e,JSON.stringify(t))},e.prototype.remove=function(e){uni.removeStorageSync(e)},e.prototype.support=function(){return!("object"!=("undefined"===typeof uni?"undefined":(0,_.default)(uni))||!uni.getStorageSync)},e}(),cn=function(){function e(){}return e.prototype.get=function(e){var t=cc.sys.localStorage.getItem(e)||null;return JSON.parse(t)},e.prototype.put=function(e,t){cc.sys.localStorage.setItem(e,JSON.stringify(t))},e.prototype.remove=function(e){cc.sys.localStorage.removeItem(e)},e.prototype.support=function(){return"undefined"!=typeof cc&&void 0!==cc.sys.localStorage},e}(),ln=function(){function e(){}return e.prototype.get=function(e){var t=r.getStorageSync(e)||null;return JSON.parse(t)},e.prototype.put=function(e,t){r.setStorageSync(e,JSON.stringify(t))},e.prototype.remove=function(e){r.removeStorageSync(e)},e.prototype.support=function(){return!("object"!=("undefined"===typeof r?"undefined":(0,_.default)(r))||!r.getStorageSync)},e}(),fn=function(){function e(){this.supportedStorage=null;var t=e.storages;t.push(new un),t.push(new cn),t.push(new on),t.push(new ln),t.push(new an),this.dispatch(),this.supportedStorage}return e.localStorage=function(){return this.instance.supportedStorage},e.prototype.dispatch=function(){var t,n;try{for(var s=sn.__values(e.storages),i=s.next();!i.done;i=s.next()){var r=i.value;if(r.support()){this.supportedStorage=r;break}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},e.storages=new Array,e.instance=new e,e}();Zt.LocalStorageDispatcher=fn,Kt.__esModule=!0,Kt.goEasyDomainNumber=void 0;var dn=Qt,pn=Zt,hn=function(){function e(){}return e.prototype.refreshNumber=function(){var t=e.GOEASY_DOMAIN_NUMBER,n=pn.LocalStorageDispatcher.localStorage(),s=Math.floor(Math.random()*(dn.default.maxNumber-1)+1);return null!==n&&(s=parseInt(n.get(t))||s),s>0&&s<dn.default.maxNumber?s+=1:s===dn.default.maxNumber&&(s=1),null!==n&&n.put(t,s),s},e.GOEASY_DOMAIN_NUMBER="GOEASY_DOMAIN_NUMBER",e}(),vn=new hn;Kt.goEasyDomainNumber=vn;var mn,gn=K.exports,yn=Dt.exports,_n=Y.exports,wn=z,bn=Ut,Cn=jt,En=(F.exports("socket.io-client:manager"),St),kn=Gt,xn=Vt.uniApp,Sn=Kt.goEasyDomainNumber,Mn=Object.prototype.hasOwnProperty,An=On;function On(e,t){if(!(this instanceof On))return new On(e,t);e&&"object"==(0,_.default)(e)&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new kn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||wn;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}function In(){var e=!1;return"object"==("undefined"===typeof uni?"undefined":(0,_.default)(uni))&&uni.getSystemInfo&&(e=!0),e&&xn.runningBackend()}On.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)Mn.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},On.prototype.updateSocketIds=function(){for(var e in this.nsps)Mn.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},On.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},_n(On.prototype),On.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},On.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},On.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},On.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},On.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},On.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},On.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},On.prototype.open=On.prototype.connect=function(e,t){if(this.readyState,~this.readyState.indexOf("open"))return this;this.uri,this.engine=gn(this.uri,this.opts);var n=this.engine,s=this;this.readyState="opening",this.skipReconnect=!1;var i=bn(n,"open",(function(){s.onopen(),e&&e()})),r=bn(n,"error",(function(t){if("undefined"!=typeof window){var n=parseInt(s.uri.match(/[1-9][0-9]*/g)[0]),i=Sn.refreshNumber();s.uri=s.uri.replace(n,i)}if(s.cleanup(),s.readyState="closed",s.emitAll("connect_error",t),e){var r=new Error("Connection error");r.data=t,e(r)}else s.maybeReconnectOnOpen()}));if(!1!==this._timeout){var a=this._timeout,o=setTimeout((function(){i.destroy(),n.close(),n.emit("error","timeout"),s.emitAll("connect_timeout",a)}),a);this.subs.push({destroy:function(){clearTimeout(o)}})}return this.subs.push(i),this.subs.push(r),this},On.prototype.onopen=function(){this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(bn(e,"data",Cn(this,"ondata"))),this.subs.push(bn(e,"ping",Cn(this,"onping"))),this.subs.push(bn(e,"pong",Cn(this,"onpong"))),this.subs.push(bn(e,"error",Cn(this,"onerror"))),this.subs.push(bn(e,"close",Cn(this,"onclose"))),this.subs.push(bn(this.decoder,"decoded",Cn(this,"ondecoded")))},On.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},On.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},On.prototype.ondata=function(e){this.decoder.add(e)},On.prototype.ondecoded=function(e){this.emit("packet",e)},On.prototype.onerror=function(e){this.emitAll("error",e)},On.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new yn(this,e,t),this.nsps[e]=n;var s=this;n.on("connecting",i),n.on("connect",(function(){n.id=s.generateId(e)})),this.autoConnect&&i()}function i(){~En(s.connecting,n)||s.connecting.push(n)}return n},On.prototype.destroy=function(e){var t=En(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},On.prototype.packet=function(e){var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var s=0;s<n.length;s++)t.engine.write(n[s],e.options);t.encoding=!1,t.processPacketQueue()})))},On.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},On.prototype.cleanup=function(){for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},On.prototype.close=On.prototype.disconnect=function(){this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},On.prototype.onclose=function(e){this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},On.prototype.reconnect=function(){if(In(),this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||(In()?(e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error","Uniapp running backend, skipped reconnect...")):e.open((function(t){t?(e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):e.onreconnect()}))))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},On.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)},function(e,t){var n=W,s=z,i=An;F.exports("socket.io-client"),e.exports=t=a;var r=t.managers={};function a(e,t){"object"==(0,_.default)(e)&&(t=e,e=void 0),t=t||{};var s,a=n(e),o=a.source,u=a.id,c=a.path,l=r[u]&&c in r[u].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||l?s=i(o,t):(r[u]||(r[u]=i(o,t)),s=r[u]),a.query&&!t.query&&(t.query=a.query),s.socket(a.path,t)}t.protocol=s.protocol,t.connect=a,t.Manager=An,t.Socket=Dt.exports}($,$.exports),function(e){e.WRITE="WRITE",e.READ="READ",e.NONE="NONE"}(mn||(mn={}));var Tn=function(){function e(t){(0,g.default)(this,e),this.socket=t}return(0,y.default)(e,[{key:"emit",value:function(e){this.socket.status!==c.CONNECT_FAILED&&this.socket.status!==c.DISCONNECTED?(e.start(),this.doEmit(e)):e.fail({resultCode:"409",content:"Please connect first"})}},{key:"doEmit",value:function(e){var t=this;if(e.isTimeout())e.fail({resultCode:408,content:"Host unreachable or timeout"});else if(this.socket.status!==c.CONNECT_FAILED)if(this.authenticated())if(this.hasPermission(e))if([c.CONNECTED,c.RECONNECTED,c.EXPIRED_RECONNECTED].includes(this.socket.status)){if(!e.complete){var n=setTimeout((function(){t.doEmit(e)}),e.singleTimeout);e.unique&&(e.params.retried=e.retried),this.socket.doEmit(e.name,e.params,(function(t){clearTimeout(n),200===t.resultCode||200==t.code?e.success(t):e.fail(t)})),e.retried++}}else this.socket.connectedPromise.then((function(){t.doEmit(e)}));else e.fail({resultCode:401,content:"No permission"});else this.socket.connectedPromise.then((function(){t.doEmit(e)}));else e.fail({resultCode:408,content:"Failed to connect GoEasy."})}},{key:"hasPermission",value:function(e){return!!this.socket.permissions.find((function(t){return t===e.permission}))}},{key:"authenticated",value:function(){return[c.CONNECTED,c.RECONNECTING,c.RECONNECTED,c.EXPIRED_RECONNECTED].includes(this.socket.status)}}]),e}(),Pn=new(function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"isDef",value:function(e){return!this.isUndef(e)}},{key:"isUndef",value:function(e){return null==e}},{key:"isPrimitive",value:function(e){return"string"==typeof e||"number"==typeof e||"symbol"==(0,_.default)(e)||"boolean"==typeof e}},{key:"isObject",value:function(e){return null!==e&&"object"==(0,_.default)(e)}},{key:"isPlainObject",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)}},{key:"isRegExp",value:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}},{key:"isValidArrayIndex",value:function(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"isNumber",value:function(e){return"number"==typeof e}},{key:"isStringOrNumber",value:function(e){return this.isString(e)||this.isNumber(e)}},{key:"isArray",value:function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{key:"isEmpty",value:function(e){return this.isArray(e)?0===e.length:this.isObject(e)?!this.isDef(e):!this.isNumber(e)&&(this.isString(e)?""===e.trim():!this.isDef(e))}},{key:"isNative",value:function(e){return"function"==typeof e&&/native code/.test(e.toString())}},{key:"isFunction",value:function(e){return"function"==typeof e}},{key:"isBoolean",value:function(e){return"boolean"==typeof e}},{key:"isTrue",value:function(e){return!0===e}},{key:"isFalse",value:function(e){return!1===e}}]),e}()),$n=$.exports,Nn=function(){function e(){(0,g.default)(this,e),this.io=$n,this.status=c.DISCONNECTED,this.permissions=[mn.NONE],this.connectedObservers=[],this.disconnectedObservers=[],this.connectedPromise=null,this.emitter=new Tn(this)}return(0,y.default)(e,[{key:"connect",value:function(){this.status=c.CONNECTING}},{key:"emit",value:function(e){this.emitter.emit(e)}},{key:"doEmit",value:function(e,t,n){}},{key:"on",value:function(e,t){this.io.on(e,t)}},{key:"disconnect",value:function(){this.io.disconnect()}},{key:"getStatus",value:function(){return this.status}},{key:"addConnectedObserver",value:function(e){Pn.isFunction(e)&&this.connectedObservers.push(e)}},{key:"addDisconnectedObserver",value:function(e){Pn.isFunction(e)&&this.disconnectedObservers.push(e)}},{key:"notify",value:function(e,t){for(var n=0;n<e.length;n++)e[n](t)}}]),e}(),Rn=function(e){(0,h.default)(n,e);var t=C(n);function n(e){var s;return(0,g.default)(this,n),s=t.call(this),s.reconnectingObservers=[],s.addReconnectingObserver(e.onReconnecting),s.addDisconnectedObserver(e.onDisconnected),s}return(0,y.default)(n,[{key:"connect",value:function(e){(0,p.default)((0,m.default)(n.prototype),"connect",this).call(this),this.io=this.io.connect(e.uri,e.opts),this.initListener()}},{key:"doEmit",value:function(e,t,n){this.io.emit(e,t,n)}},{key:"initListener",value:function(){var e=this;this.connectedPromise=new Promise((function(t,n){e.io.on("connect",(function(){e.status=c.CONNECTED,e.notify(e.connectedObservers),t()}))})),this.io.on("reconnecting",(function(t){e.status=c.CONNECTING,e.notify(e.reconnectingObservers,t)})),this.io.on("disconnect",(function(){e.status=c.DISCONNECTED,e.notify(e.disconnectedObservers)})),this.io.on("connect_error",(function(e){}))}},{key:"addReconnectingObserver",value:function(e){this.reconnectingObservers.push(e)}}]),n}(Nn),Dn={exports:{}},Fn="undefined"!=typeof a&&a.getRandomValues&&a.getRandomValues.bind(a)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(Fn){var Un=new Uint8Array(16);Dn.exports=function(){return Fn(Un),Un}}else{var Ln=new Array(16);Dn.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),Ln[t]=e>>>((3&t)<<3)&255;return Ln}}for(var jn=[],Gn=0;Gn<256;++Gn)jn[Gn]=(Gn+256).toString(16).substr(1);var Bn,Vn,qn=function(e,t){var n=t||0,s=jn;return[s[e[n++]],s[e[n++]],s[e[n++]],s[e[n++]],"-",s[e[n++]],s[e[n++]],"-",s[e[n++]],s[e[n++]],"-",s[e[n++]],s[e[n++]],"-",s[e[n++]],s[e[n++]],s[e[n++]],s[e[n++]],s[e[n++]],s[e[n++]]].join("")},Hn=Dn.exports,Wn=qn,zn=0,Yn=0,Xn=Dn.exports,Jn=qn,Kn=function(e,t,n){var s=t&&n||0,i=t||[],r=(e=e||{}).node||Bn,a=void 0!==e.clockseq?e.clockseq:Vn;if(null==r||null==a){var o=Hn();null==r&&(r=Bn=[1|o[0],o[1],o[2],o[3],o[4],o[5]]),null==a&&(a=Vn=16383&(o[6]<<8|o[7]))}var u=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:Yn+1,l=u-zn+(c-Yn)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||u>zn)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");zn=u,Yn=c,Vn=a;var f=(1e4*(268435455&(u+=122192928e5))+c)%4294967296;i[s++]=f>>>24&255,i[s++]=f>>>16&255,i[s++]=f>>>8&255,i[s++]=255&f;var d=u/4294967296*1e4&268435455;i[s++]=d>>>8&255,i[s++]=255&d,i[s++]=d>>>24&15|16,i[s++]=d>>>16&255,i[s++]=a>>>8|128,i[s++]=255&a;for(var p=0;p<6;++p)i[s+p]=r[p];return t||Wn(i)},Qn=function(e,t,n){var s=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||Xn)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var r=0;r<16;++r)t[s+r]=i[r];return t||Jn(i)},Zn=Qn;Zn.v1=Kn,Zn.v4=Qn;var es=Zn,ts=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,null,[{key:"get",value:function(){return es.v1().replace(/-/g,"")}}]),e}(),ns=function(){function e(t){var n=this;(0,g.default)(this,e),this.permission=mn.NONE,this.singleTimeout=0,this.totalTimeout=0,this.startTime=0,this.complete=!1,this.retried=0,this.unique=!1,this.uuid=ts.get(),this.name=t.name,this.params=t.params,this.permission=t.permission,this.totalTimeout=t.totalTimeout,this.singleTimeout=t.singleTimeout,t.unique&&(this.unique=t.unique),this.success=function(e){n.complete||(n.complete=!0,t.success(e))},this.fail=function(e){n.complete||(n.complete=!0,t.fail(e))}}return(0,y.default)(e,[{key:"start",value:function(){this.startTime=Date.now()}},{key:"isTimeout",value:function(){return this.startTime+this.totalTimeout<Date.now()}}]),e}();function ss(){}var is=function(){function e(t){(0,g.default)(this,e),this.callback=ss,this.guidList=[],this.callback=t}return(0,y.default)(e,[{key:"onMessage",value:function(e,t){if("string"==typeof t&&(t=JSON.parse(t)),t.i){if(this.guidList.findIndex((function(e){return e===t.i}))>-1)return;this.guidList.unshift(t.i),this.guidList.length>300&&this.guidList.pop()}this.callback(t)}}]),e}(),rs=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,null,[{key:"get",value:function(e){var t,n=encodeURIComponent(e)+"=",s=document.cookie.split("; "),i=w(s);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(r.startsWith(n))return decodeURIComponent(r.substring(n.length))}}catch(a){i.e(a)}finally{i.f()}return null}},{key:"set",value:function(e,t,n,s){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"/",r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=encodeURIComponent(e)+"="+encodeURIComponent(t);n instanceof Date&&(a+="; expires="+n.toGMTString()),i&&(a+="; path="+i),s&&(a+="; domain="+s),r&&(a+="; secure"),document.cookie=a}},{key:"remove",value:function(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.set(t,"",new Date(0),n,s,i)}}]),e}(),as=function(){function e(){(0,g.default)(this,e),this.domain=null,this.domain="undefined"!=typeof location&&/^(?:[A-za-z0-9-]+\.)+[A-za-z]{2,4}(?:[\/\?#][\/=\?%\-&~`@[\]\':+!\.#\w]*)?$/.test(location.host)?location.host.split(".").slice(-2).join("."):null}return(0,y.default)(e,[{key:"get",value:function(e){var t=rs.get(e)||null;return JSON.parse(t)}},{key:"put",value:function(e,t){var n=new Date(2030,12,31,0,0,0,0),s=this.domain;rs.set(e,JSON.stringify(t),n,s)}},{key:"remove",value:function(e){var t=this.domain;rs.remove(e,t)}},{key:"support",value:function(){return"undefined"!=typeof navigator&&!0===navigator.cookieEnabled}}]),e}(),os=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"get",value:function(e){var t=localStorage.getItem(e);return JSON.parse(t)}},{key:"put",value:function(e,t){var n=localStorage.setItem(e,JSON.stringify(t));JSON.stringify(n)}},{key:"remove",value:function(e){localStorage.removeItem(e)}},{key:"support",value:function(){return!("undefined"!=typeof GameGlobal||"undefined"==typeof localStorage||!localStorage.setItem)}}]),e}(),us=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"get",value:function(e){var t=uni.getStorageSync(e)||null;return JSON.parse(t)}},{key:"put",value:function(e,t){uni.setStorageSync(e,JSON.stringify(t))}},{key:"remove",value:function(e){uni.removeStorageSync(e)}},{key:"support",value:function(){return!("object"!=("undefined"===typeof uni?"undefined":(0,_.default)(uni))||!uni.getStorageSync)}}]),e}(),cs=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"get",value:function(e){var t=cc.sys.localStorage.getItem(e)||null;return JSON.parse(t)}},{key:"put",value:function(e,t){cc.sys.localStorage.setItem(e,JSON.stringify(t))}},{key:"remove",value:function(e){cc.sys.localStorage.removeItem(e)}},{key:"support",value:function(){return"undefined"!=typeof cc&&void 0!==cc.sys.localStorage}}]),e}(),ls=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"get",value:function(e){var t=r.getStorageSync(e)||null;return JSON.parse(t)}},{key:"put",value:function(e,t){r.setStorageSync(e,JSON.stringify(t))}},{key:"remove",value:function(e){r.removeStorageSync(e)}},{key:"support",value:function(){return!("object"!=("undefined"===typeof r?"undefined":(0,_.default)(r))||!r.getStorageSync)}}]),e}(),fs=function(){function e(){(0,g.default)(this,e),this.supportedStorage=null;var t=e.storages;t.push(new us),t.push(new cs),t.push(new os),t.push(new ls),t.push(new as),this.dispatch(),this.supportedStorage}return(0,y.default)(e,[{key:"dispatch",value:function(){var t,n=w(e.storages);try{for(n.s();!(t=n.n()).done;){var s=t.value;if(s.support()){this.supportedStorage=s;break}}}catch(i){n.e(i)}finally{n.f()}}}],[{key:"localStorage",value:function(){return this.instance.supportedStorage}}]),e}();fs.storages=new Array,fs.instance=new fs;var ds=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"refreshNumber",value:function(){var t=e.GOEASY_DOMAIN_NUMBER,n=fs.localStorage(),s=Math.floor(4*Math.random()+1);return null!==n&&(s=parseInt(n.get(t))||s),s>0&&s<5?s+=1:5===s&&(s=1),null!==n&&n.put(t,s),s}}]),e}();ds.GOEASY_DOMAIN_NUMBER="GOEASY_DOMAIN_NUMBER";var ps,hs,vs,ms=new ds;!function(e){e[e.connect=1500]="connect",e[e.reconnectionDelayMax=3e3]="reconnectionDelayMax",e[e.commonQuerySingle=2500]="commonQuerySingle",e[e.commonQueryTotal=12e3]="commonQueryTotal",e[e.commonRequestSingle=1700]="commonRequestSingle",e[e.commonRequestTotal=12e3]="commonRequestTotal",e[e.commonInfiniteSingle=1700]="commonInfiniteSingle",e[e.commonInfiniteTotal=864e5]="commonInfiniteTotal"}(ps||(ps={})),function(e){e.BROWSER="BROWSER",e.UNKNOWN="UNKNOWN",e.APP_IOS="APP_IOS",e.APP_ANDROID="APP_ANDROID",e.APPLET_WX="APPLET_WX",e.APPLET_WX_GAME="APPLET_WX_GAME",e.APPLET_ALIPAY="APPLET_ALIPAY",e.APPLET_BYTEDANCE="APPLET_BYTEDANCE"}(hs||(hs={}));var gs=function(){function e(){var t;(0,g.default)(this,e),this.platform=null,this.methods=(t={},(0,d.default)(t,hs.BROWSER,this.isBrowser),(0,d.default)(t,hs.APP_IOS,this.isAppiOS),(0,d.default)(t,hs.APP_ANDROID,this.isAppAndroid),(0,d.default)(t,hs.APPLET_WX,this.isWXApplet),(0,d.default)(t,hs.APPLET_WX_GAME,this.isWXGameApplet),t);for(var n=this.methods,s=Object.keys(n),i=0,r=s;i<r.length;i++){var a=r[i];if((0,n[a])()){this.platform=a;break}}this.platform=this.platform||hs.UNKNOWN,this.platform}return(0,y.default)(e,[{key:"isBrowser",value:function(){return"undefined"!=typeof navigator&&"Taro"!==navigator.product&&"undefined"==typeof GameGlobal&&("undefined"==typeof cc||null!==cc.sys.browserType)}},{key:"isAppiOS",value:function(){return"undefined"!=typeof cc&&cc.sys.isNative&&cc.sys.isMobile&&"iOS"===cc.sys.os||"object"==("undefined"===typeof uni?"undefined":(0,_.default)(uni))&&!!uni.getSystemInfoSync&&"ios"===uni.getSystemInfoSync().platform&&"object"==("undefined"===typeof plus?"undefined":(0,_.default)(plus))}},{key:"isAppAndroid",value:function(){return"undefined"!=typeof cc&&cc.sys.isNative&&cc.sys.isMobile&&"Android"===cc.sys.os||"object"==("undefined"===typeof uni?"undefined":(0,_.default)(uni))&&!!uni.getSystemInfoSync&&"android"===uni.getSystemInfoSync().platform&&"object"==("undefined"===typeof plus?"undefined":(0,_.default)(plus))}},{key:"isWXApplet",value:function(){return"object"==("undefined"===typeof r?"undefined":(0,_.default)(r))&&!!r.getSystemInfoSync&&"undefined"==typeof WebSocket&&"undefined"==typeof XMLHttpRequest&&"undefined"==typeof plus}},{key:"isWXGameApplet",value:function(){return"object"==("undefined"===typeof GameGlobal?"undefined":(0,_.default)(GameGlobal))}},{key:"isAlipayApplet",value:function(){return!1}},{key:"isBytedanceApplet",value:function(){return!1}},{key:"isQQApplet",value:function(){return!1}},{key:"isBaiduApplet",value:function(){return!1}}],[{key:"currentPlatform",value:function(){return e.instance.platform}}]),e}();gs.instance=new gs;var ys=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,null,[{key:"get",value:function(){var t=e.storage;if(null!==t){var n=t.get(e.ANONYMOUS_USER_ID_KEY);if(!Pn.isEmpty(n))return n.toString()}return null}},{key:"put",value:function(t){var n=e.storage;null!==n&&n.put(e.ANONYMOUS_USER_ID_KEY,t.toString())}}]),e}();ys.storage=fs.localStorage(),ys.ANONYMOUS_USER_ID_KEY="goeasy-anonymous-user-id",function(e){e.UNIAPP="UNIAPP",e.REACT_NATIVE="REACT_NATIVE",e.COCOS="COCOS",e.TARO="TARO",e.IONIC="IONIC",e.NATIVE_APPLET_WX="NATIVE_APPLET_WX",e.NATIVE_APPLET_ALIPAY="NATIVE_APPLET_ALIPAY",e.UNKNOWN="UNKNOWN"}(vs||(vs={}));var _s=function(){function t(){var e;(0,g.default)(this,t),this.framework=null,this.methods=(e={},(0,d.default)(e,vs.UNIAPP,this.isUniApp),(0,d.default)(e,vs.REACT_NATIVE,this.isReactNative),(0,d.default)(e,vs.TARO,this.isTaro),(0,d.default)(e,vs.NATIVE_APPLET_WX,this.isWXApplet),(0,d.default)(e,vs.COCOS,this.isCocos),e);for(var n=this.methods,s=Object.keys(n),i=0,r=s;i<r.length;i++){var a=r[i];if((0,n[a])()){this.framework=a;break}}this.framework=this.framework||vs.UNKNOWN,this.framework}return(0,y.default)(t,[{key:"isUniApp",value:function(){return"object"==("undefined"===typeof uni?"undefined":(0,_.default)(uni))&&!!uni.getSystemInfoSync}},{key:"isReactNative",value:function(){return"undefined"!=typeof e&&e.__fbGenNativeModule}},{key:"isTaro",value:function(){return"undefined"!=typeof s&&void 0!==Object({VUE_APP_DARK_MODE:"false",VUE_APP_NAME:"\u4e91\u6821\u56ed\uff08\u5b8c\u6574\u7248\uff09",VUE_APP_PLATFORM:"app-plus",NODE_ENV:"production",BASE_URL:"/"}).TARO_ENV}},{key:"isWXApplet",value:function(){return gs.currentPlatform()===hs.APPLET_WX&&"undefined"==typeof uni}},{key:"isCocos",value:function(){try{return void 0!==cc.sys.localStorage}catch(c){return!1}}}],[{key:"currentFramework",value:function(){return this.instance.framework}}]),t}();_s.instance=new _s;var ws,bs=new(function(){function e(){(0,g.default)(this,e),this.platform=gs.currentPlatform(),this.framework=_s.currentFramework(),this.z=this.toZ()}return(0,y.default)(e,[{key:"toZ",value:function(){for(var e=JSON.stringify({platform:this.platform,framework:this.framework}),t="",n=0;n<e.length;n++){var s=e.charCodeAt(n);t+=String.fromCharCode(s+5)}return t}}]),e}());!function(e){e.authorize="authorize",e.manualDisconnect="manualDisconnect",e.subscribe="subscribe",e.unsubscribe="unsubscribe",e.publish="publish",e.ack="ack",e.historyMessages="historyMessages",e.hereNow="hereNow",e.hereNowByUserIds="hereNowByUserIds",e.imLastConversations="imLastConversations",e.markPrivateMessageAsRead="markPrivateMessageAsRead",e.markGroupMessageAsRead="markGroupMessageAsRead",e.imGroupOnlineCount="imGroupOnlineCount",e.imHereNow="imHereNow",e.imGroupHereNow="imGroupHereNow",e.publishIM="publishIM",e.subscribeUserPresence="subscribeUserPresence",e.unsubscribeUserPresence="unsubscribeUserPresence",e.subscribeGroupPresence="subscribeGroupPresence",e.unsubscribeGroupPresence="unsubscribeGroupPresence",e.removeConversation="removeConversation",e.topConversation="topConversation",e.imData="imData",e.subscribeGroups="subscribeGroups",e.unsubscribeGroup="unsubscribeGroup",e.IM_DELETE_MESSAGE="IM_DELETE_MESSAGE",e.IM_HISTORY="IM_HISTORY",e.IM_HISTORY_CHANGE="IM_HISTORY_CHANGE",e.IM_RECALL_MESSAGE="IM_RECALL_MESSAGE",e.IM_MARK_AS_READ="IM_MARK_AS_READ",e.RTC_ASK_NEW_TOKEN="RTC_ASK_NEW_TOKEN",e.RTC_DIAL="RTC_DIAL",e.RTC_ACCEPT="RTC_ACCEPT",e.RTC_ACCEPT_FAILED="RTC_ACCEPT_FAILED",e.RTC_MANUAL_END="RTC_MANUAL_END",e.RTC_CLIENT_BUSY="RTC_CLIENT_BUSY",e.RTC_TIMEOUT="RTC_TIMEOUT",e.RTC_CALL_DATA="RTC_CALL_DATA",e.CS_PENDING_CONVERSATION="CS_PENDING_CONVERSATION",e.CS_ACCEPT="CS_ACCEPT",e.CS_END="CS_END",e.CS_TRANSFER="CS_TRANSFER",e.CS_AGENTS="CS_AGENTS",e.CS_CUSTOMER_STATUS="CS_CUSTOMER_STATUS",e.CS_MY_TEAMS="CS_MY_TEAMS",e.CS_ONLINE="CS_ONLINE",e.CS_OFFLINE="CS_OFFLINE",e.CS_LIVE_SESSION="CS_LIVE_SESSION",e.CS_QUIT_LIVE="CS_QUIT_LIVE"}(ws||(ws={}));var Cs,Es=new(function(){function e(){(0,g.default)(this,e),this.uniAppRunningBackend=!1,this.listenAppRunning()}return(0,y.default)(e,[{key:"listenAppRunning",value:function(){var e=this;_s.currentFramework()===vs.UNIAPP&&"object"==("undefined"===typeof plus?"undefined":(0,_.default)(plus))&&(plus.globalEvent.addEventListener("resume",(function(){e.uniAppRunningBackend=!1,e.uniAppRunningBackend}),!1),plus.globalEvent.addEventListener("pause",(function(){e.uniAppRunningBackend=!0,e.uniAppRunningBackend}),!1))}},{key:"runningBackend",value:function(){return this.uniAppRunningBackend}}]),e}()),ks=function(){function e(t){(0,g.default)(this,e),this.uniappPlugin=null,this.regIdPromise=null,this.onClickNotificationCallback=null,this.payloadAssemblers=new Array,this.allowNotification=t,this.supportNotification()&&(this.uniappPlugin=uni.requireNativePlugin("GoEasy-Uniapp"),this.uniappPlugin?this.regIdPromise=this.askRegId():o("warn","No GoEasy-Uniapp Native Plugin."," at uni_modules/GOEASY-IM/js_sdk/goeasy-2.6.1.esm.min.js:1"))}return(0,y.default)(e,[{key:"addAssembler",value:function(e){this.payloadAssemblers.push(e)}},{key:"assemblePayload",value:function(e){var t=this.payloadAssemblers.find((function(t){return t.support(e)}));return t?t.assemble(e):e}},{key:"createLocalNotification",value:function(e,t,n){Es.runningBackend()&&(n.g=1,"undefined"!=typeof plus&&plus.push.createMessage(t,JSON.stringify(n),{title:e}))}},{key:"askRegId",value:function(){var e=this,t=null,n=0;return function s(){return new Promise((function(i,r){e.uniappPlugin.regId((function(e){i(e)}),(function(i){if(!(1e6===i.data.code&&n<=10))return clearTimeout(t),r(i);t=setTimeout((function(){n++,e.regIdPromise=s()}),3500)}))}))}()}},{key:"getRegIdPromise",value:function(){return this.regIdPromise}},{key:"supportNotification",value:function(){var e=gs.currentPlatform(),t=_s.currentFramework();return this.allowNotification&&t===vs.UNIAPP&&(e===hs.APP_ANDROID||e===hs.APP_IOS)}},{key:"listenPlusClickNotification",value:function(){var e=this;plus.push.addEventListener("click",(function(t){try{if(t){var n="string"==typeof t.payload?JSON.parse(t.payload):t.payload;if(e.availableIntent(n)){var s=e.assemblePayload(n);plus.push.clear(),e.onClickNotificationCallback(s)}}}catch(t){}}))}},{key:"availableIntent",value:function(e){return e&&Object.keys(e).length&&e.g&&1===parseInt(e.g)}},{key:"getIntentData",value:function(){var e=this;this.uniappPlugin.getIntentData((function(t){if(e.availableIntent(t)){var n=e.assemblePayload(t),s=gs.currentPlatform();plus.push.clear(),s===hs.APP_ANDROID&&e.uniappPlugin.clearAll(),e.onClickNotificationCallback(n)}}))}},{key:"listenClick",value:function(){this.listenPlusClickNotification();var e=gs.currentPlatform();this.uniappPlugin&&e===hs.APP_ANDROID&&this.getIntentData()}},{key:"onClickNotification",value:function(e){if(this.supportNotification()){if(!Pn.isFunction(e))throw new Error("The arguments must be a function.");null===this.onClickNotificationCallback?(this.onClickNotificationCallback=e,this.listenClick()):o("warn","The onClickNotification event has been listened on. Please do not listen to it more than once."," at uni_modules/GOEASY-IM/js_sdk/goeasy-2.6.1.esm.min.js:1")}else o("warn","The current environment doesn't support or allowNotification is false."," at uni_modules/GOEASY-IM/js_sdk/goeasy-2.6.1.esm.min.js:1")}}],[{key:"init",value:function(t){this.instance=new e(t)}}]),e}(),xs=Y.exports,Ss=function(){function e(){(0,g.default)(this,e),this.emitter=new xs}return(0,y.default)(e,[{key:"on",value:function(e,t){return this.emitter.on(e,t),this}},{key:"once",value:function(e,t){return this.emitter.once(e,t),this}},{key:"off",value:function(e,t){return this.emitter.off(e,t),this}},{key:"fire",value:function(e,t){return this.emitter.emit(e,t),this}}]),e}(),Ms=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,null,[{key:"initial",value:function(){this.eventDriver=new Ss}},{key:"on",value:function(e,t){this.eventDriver.on(e,t)}},{key:"off",value:function(e,t){this.eventDriver.off(e,t)}},{key:"once",value:function(e,t){this.eventDriver.once(e,t)}},{key:"fire",value:function(e,t){this.eventDriver.fire(e,t)}}]),e}();!function(e){e.MANUAL_DISCONNECTED="MANUAL_DISCONNECTED"}(Cs||(Cs={}));var As=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,null,[{key:"get",value:function(){var t=fs.localStorage();return null!==t?t.get(e.SM_KEY):null}},{key:"put",value:function(t){var n=fs.localStorage(),s=t.sm;null!==n&&s&&n.put(e.SM_KEY,s)}}]),e}();As.SM_KEY="GE-SM";var Os=function(e){(0,h.default)(n,e);var t=C(n);function n(e,s){var i;return(0,g.default)(this,n),i=t.call(this),i.ioSocket=null,i.sid=null,i.appKey=null,i.anonymous=!1,i.userId=null,i.userData=null,i.otp=null,i.artifactVersion="0.0.0",i.uri=null,i.ioOpts=null,i.allowNotification=!1,i.reconnectingTimes=0,i.messageObservers={},i.connectFailedObservers=[],i.connectingObservers=[],i.expiredReconnectedObservers=[],i.onConnectSuccess=ss,i.onConnectFailed=ss,i.onConnectProgress=ss,i.setUriAndOpts(e),i.extendOptions(s),i.ioSocket=new Rn({onDisconnected:i.onIoDisconnected.bind((0,f.default)(i)),onReconnecting:i.onIoReconnecting.bind((0,f.default)(i))}),i.ioSocket.addConnectedObserver(i.onIoReconnected.bind((0,f.default)(i))),i.appKey=e.appkey,i.allowNotification=e.allowNotification,i.modules=e.modules,Pn.isEmpty(s.id)?(i.anonymous=!0,i.userId=ys.get()):i.userId=s.id.toString(),i.artifactVersion=sa.version,i.addConnectedObserver(i.onConnectSuccess),i.addConnectFailedObserver(i.onConnectFailed),i.addConnectingObserver(i.onConnectProgress),i}return(0,y.default)(n,[{key:"extendOptions",value:function(e){if(Pn.isFunction(e.onSuccess)&&(this.onConnectSuccess=e.onSuccess),Pn.isFunction(e.onFailed)&&(this.onConnectFailed=e.onFailed),Pn.isFunction(e.onProgress)&&(this.onConnectProgress=e.onProgress),Pn.isDef(e.data)&&!Pn.isObject(e.data))throw{code:400,content:"TypeError: data requires an object."};if((Pn.isDef(e.data)?String(e.data).length:0)>300){if(Pn.isObject(e)&&Pn.isFunction(e.onFailed))throw{code:400,content:"user.data-length limit 300 byte."}}else this.userData=e.data;if(Pn.isObject(e.wxmpId)){if(Pn.isEmpty(e.wxmpId.appid))throw{code:400,content:"wxmpId.appid is required."};if(Pn.isEmpty(e.wxmpId.openid))throw{code:400,content:"wxmpId.openid is required. requires string."}}else if(Pn.isPrimitive(e.wxmpId))throw{code:400,content:"TypeError: wxmpId requires an object."};Pn.isDef(e.wxmpId)&&(this.wxmpId=e.wxmpId),this.otp=e.otp||null}},{key:"setUriAndOpts",value:function(e){var t=!0;if(gs.currentPlatform()===hs.BROWSER){var n,s="://"+ms.refreshNumber()+e.host;!0===e.supportOldBrowser?(n=["polling","websocket"],t=!1):n=["websocket"],!1!==e.forceTLS&&t?this.uri="https"+s+":443":this.uri="http"+s+":80",this.ioOpts={transports:n,timeout:ps.connect}}else this.uri="https://wx-"+e.host+":443",this.ioOpts={transports:["websocket"],reconnectionDelayMax:ps.reconnectionDelayMax}}},{key:"onIoReconnected",value:function(){this.status===c.RECONNECTING&&this.authorize()}},{key:"emit",value:function(e){(0,p.default)((0,m.default)(n.prototype),"emit",this).call(this,e)}},{key:"doEmit",value:function(e,t,n){t.sid=this.sid,this.ioSocket.doEmit(e,t,n)}},{key:"sendAck",value:function(e,t){this.ioSocket.io.emit(e,t)}},{key:"connect",value:function(){(0,p.default)((0,m.default)(n.prototype),"connect",this).call(this),this.onConnecting(),this.ioSocket.connect({uri:this.uri,opts:this.ioOpts}),this.authorize()}},{key:"disconnect",value:function(){var e=this;return new Promise((function(t,n){var s=function(){e.status=c.DISCONNECTED,e.ioSocket.disconnect(),Ms.fire(Cs.MANUAL_DISCONNECTED),t()};if(e.allowNotification){var i=new ns({name:ws.manualDisconnect,params:{},permission:mn.READ,singleTimeout:ps.commonRequestSingle,totalTimeout:ps.commonRequestTotal,fail:function(e){n(e)},success:s});e.emit(i)}else s()}))}},{key:"initRegId",value:function(){return x(this,void 0,void 0,l.default.mark((function e(){var t;return l.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=ks.instance,!(t&&t.supportNotification()&&t.getRegIdPromise())){e.next=12;break}return e.prev=2,e.next=5,t.getRegIdPromise();case 5:this.regId=e.sent,this.regId,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),o("warn","Failed to register the Manufacturers Push service:"+JSON.stringify(e.t0)," at uni_modules/GOEASY-IM/js_sdk/goeasy-2.6.1.esm.min.js:1");case 12:case"end":return e.stop()}}),e,this,[[2,9]])})))}},{key:"authorize",value:function(){var e=this;this.connectedPromise=new Promise((function(t,n){e.initRegId().then((function(){var s={appkey:e.appKey,userId:e.userId,userData:JSON.stringify(e.userData),otp:e.otp,artifactVersion:e.artifactVersion,sid:e.sid,allowNT:e.allowNotification,regId:e.regId,wxmpId:e.wxmpId,modules:e.modules,a:e.anonymous,z:bs.z,sm:As.get()};JSON.stringify(s);var i=new ns({name:ws.authorize,params:s,permission:mn.NONE,singleTimeout:ps.commonInfiniteSingle,totalTimeout:ps.commonInfiniteTotal,success:function(n){e.onAuthorizeSuccess(n),t(n)},fail:function(t){e.onAuthorizeFailed(t),n(t)}});e.ioSocket.emit(i)}))}))}},{key:"onConnecting",value:function(){this.notify(this.connectingObservers,this.reconnectingTimes)}},{key:"onIoReconnecting",value:function(){this.reconnectingTimes++,this.status==c.CONNECTED||this.status==c.EXPIRED_RECONNECTED||this.status==c.RECONNECTING?this.status=c.RECONNECTING:this.status=c.CONNECTING,this.onConnecting()}},{key:"onIoDisconnected",value:function(){this.status==c.DISCONNECTING&&(this.status=c.DISCONNECTED,this.notify(this.disconnectedObservers)),this.notify(this.disconnectedObservers)}},{key:"onAuthorizeSuccess",value:function(e){!0===this.anonymous&&e.u&&(ys.put(e.u),this.userId=e.u),As.put(e),this.status===c.RECONNECTING?this.sid!==e.sid?(this.status=c.EXPIRED_RECONNECTED,this.notify(this.expiredReconnectedObservers)):this.status=c.RECONNECTED:(this.status=c.CONNECTED,this.sid=e.sid),e.enablePublish&&(this.permissions.find((function(e){return e==mn.WRITE}))||this.permissions.push(mn.WRITE)),e.enableSubscribe&&(this.permissions.find((function(e){return e==mn.READ}))||this.permissions.push(mn.READ)),this.reconnectingTimes=0,this.notify(this.connectedObservers)}},{key:"onAuthorizeFailed",value:function(e){As.put(e),this.ioSocket.disconnect(),this.status=c.CONNECT_FAILED;var t={code:e.resultCode||408,content:e.content||"Host unreachable or timeout"};this.notify(this.connectFailedObservers,t)}},{key:"addConnectingObserver",value:function(e){Pn.isFunction(e)&&this.connectingObservers.push(e)}},{key:"addConnectFailedObserver",value:function(e){Pn.isFunction(e)&&this.connectFailedObservers.push(e)}},{key:"addExpiredReconnectedObserver",value:function(e){Pn.isFunction(e)&&this.expiredReconnectedObservers.push(e)}},{key:"addMessageObserver",value:function(e,t){var n=this;this.messageObservers[e]||(this.messageObservers[e]=[],this.ioSocket.io.on(e,(function(t){n.notifyMessageObservers(e,t)}))),this.messageObservers[e].push(new is(t))}},{key:"notifyMessageObservers",value:function(e,t){for(var n=this.messageObservers[e],s=0;s<n.length;s++)n[s].onMessage(e,t)}}]),n}(Nn),Is="IM",Ts="PUBSUB",Ps=new(function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"validateId",value:function(e,t){if(Pn.isEmpty(e))throw{code:400,content:" ".concat(t," is required.")};if(!Pn.isStringOrNumber(e))throw{code:400,content:"TypeError: ".concat(t," require string or number.")}}},{key:"validateIdArray",value:function(e,t){if(!Array.isArray(e)||0===e.length)throw{code:400,content:"TypeError: ".concat(t," require array.")};if(e.length>300)throw{code:400,content:"".concat(t," is over max length 500.")};for(var n=0;n<e.length;n++){if(!Pn.isStringOrNumber(e[n]))throw{code:400,content:"TypeError: ".concat(t," item require string or number.")};if(Pn.isNumber(e[n])&&(e[n]=e[n].toString()),0==e[n].length)throw{code:400,content:"".concat(t," has empty item.")}}if(Array.from(new Set(e)).length<e.length)throw{code:400,content:"Duplicate element in ".concat(t)}}},{key:"validateChannel",value:function(e,t){this.validateId(e,t)}},{key:"validateChannelArray",value:function(e,t){this.validateIdArray(e,t)}},{key:"validateChannelAndChannels",value:function(e,t){var n=!Pn.isEmpty(e),s=!Pn.isEmpty(t);if(!n&&!s)throw{code:400,content:"channel is required."};if(n&&s)throw{code:400,content:"subscribe to either channel or channels, not both."};n&&this.validateId(e,"channel"),s&&this.validateIdArray(t,"channels")}},{key:"validateCallbackOptions",value:function(e){if(!Pn.isObject(e))throw{code:400,content:"bad parameters"}}},{key:"validateNotification",value:function(e){if(Pn.isObject(e)){if(Pn.isEmpty(e.title))throw{code:400,content:"notification.title is required."};if(!Pn.isString(e.title))throw{code:400,content:"TypeError: notification.title requires string."};if(e.title.length>32)throw{code:400,content:"TypeError: notification.title over max length 32."};if(Pn.isEmpty(e.body))throw{code:400,content:"notification.body is required."};if(!Pn.isString(e.body))throw{code:400,content:"TypeError: notification.body must be string."};if(e.body.length>50)throw{code:400,content:"notification.body over max length 50."}}else if(Pn.isPrimitive(e))throw{code:400,content:"TypeError: notification requires an object."}}},{key:"validateValIsEmpty",value:function(e,t){if(Pn.isUndef(e)||Pn.isEmpty(e))throw{code:400,content:"".concat(t," is empty")}}},{key:"validateWXMPTemplateMsg",value:function(e){if(Pn.isObject(e)){if(!Pn.isString(e.template_id))throw{code:400,content:"template_id must be string."};if(!Pn.isEmpty(e.url)&&!Pn.isString(e.url))throw{code:400,content:"url must be string"};if(!(Pn.isEmpty(e.miniprogram)||Pn.isString(e.miniprogram.appid)&&Pn.isString(e.miniprogram.pagepath)))throw{code:400,content:"miniprogram.appid and miniprogram.pagepath must be strings."};if(!Pn.isObject(e.data))throw{code:400,content:"data requires an object."}}else if(Pn.isPrimitive(e))throw{code:400,content:"wxmpTemplateMsg must be an object."}}}]),e}()),$s=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,null,[{key:"i",value:function(e){this.socket=e}},{key:"s",value:function(){if(this.socket)return this.socket;throw new Error("Please connect first.")}},{key:"u",value:function(){return this.s().userId}},{key:"ud",value:function(){return this.s().userData}},{key:"supportIM",value:function(){return this.s().modules.includes(Is)}}]),e}();function Ns(e){if(null===e||"object"!=(0,_.default)(e)||"isActiveClone"in e)return e;var t=e instanceof Array?[]:{};for(var n in e)"object"==(0,_.default)(e[n])?t[n]=Ns(e[n]):t[n]=e[n];return t}var Rs,Ds,Fs,Us=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"publish",value:function(e){Pn.isFunction(e.onFailed)||(e.onFailed=ss),Pn.isFunction(e.onSuccess)||(e.onSuccess=ss),this.validate(e),e.channel=e.channel.toString();var t={channel:e.channel,content:e.message,nt:e.notification,at:e.accessToken,guid:ts.get()};e.wxmpTemplateMsg&&(t.wxmpTemplateMsg=Ns(e.wxmpTemplateMsg),t.wxmpTemplateMsg.data=JSON.stringify(t.wxmpTemplateMsg.data));var n=new ns({name:ws.publish,params:t,unique:!0,singleTimeout:ps.commonRequestSingle,totalTimeout:ps.commonRequestTotal,permission:mn.WRITE,success:function(t){e.onSuccess({code:200,content:"ok"})},fail:function(t){e.onFailed({code:t.resultCode,content:t.content})}});$s.s().emit(n)}},{key:"validate",value:function(e){if(Ps.validateChannel(e.channel,"channel"),Pn.isEmpty(e.message))throw{code:400,content:"message is required."};if(!Pn.isString(e.message))throw{code:400,content:"TypeError: message requires string."};if(e.message.length>1e4)throw{code:400,content:"Message over max length 10000."};e.wxmpTemplateMsg&&Ps.validateWXMPTemplateMsg(e.wxmpTemplateMsg),e.notification&&Ps.validateNotification(e.notification)}}]),e}(),Ls=function(){function e(t){(0,g.default)(this,e),this.channels=t.channels,this.accessToken=t.accessToken,this.onSuccess=t.onSuccess,this.onFailed=t.onFailed,this.onMessage=t.onMessage}return(0,y.default)(e,[{key:"empty",value:function(){}}]),e}();!function(e){e.message="message",e.imMessage="imMessage",e.userPresence="userPresence",e.groupPresence="groupPresence",e.IM_MSG_READ="IM_MSG_READ",e.IM_MSG_DELETED="IM_MSG_DELETED",e.IM_MSG_RECALLED="IM_MSG_RECALLED",e.RTC_RING_EVENT="RTC_RING_EVENT",e.RTC_CANCEL_RING="RTC_CANCEL_RING",e.RTC_REMOTE_USER_LEFT="RTC_REMOTE_USER_LEFT",e.RTC_CALL_END="RTC_CALL_END",e.CS_ONLINE_CHANGED="CS_ONLINE_CHANGED"}(Rs||(Rs={}));var js=function(){function e(){(0,g.default)(this,e),this.subscriptions=[],ks.instance.addAssembler(new(function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"assemble",value:function(e){return{channel:e.ch,content:e.ctt}}},{key:"support",value:function(e){return!!e.ch}}]),e}()))}return(0,y.default)(e,[{key:"initialGoEasySocket",value:function(){$s.s().addMessageObserver(Rs.message,this.onNewMessage.bind(this)),$s.s().addExpiredReconnectedObserver(this.onExpiredReconnected.bind(this))}},{key:"resubscribe",value:function(){var e=this.subscriptions.slice(0);this.subscriptions=[];for(var t=0;t<e.length;t++)0!=e[t].channels.length&&this.subscribe(e[t])}},{key:"clearSubscriptions",value:function(){this.subscriptions=[]}},{key:"onExpiredReconnected",value:function(){this.resubscribe()}},{key:"onNewMessage",value:function(e){if(!(e.n.indexOf("_presence")>-1)){e.a&&$s.s().sendAck("ack",{publishGuid:e.i});var t={time:e.t,channel:e.n,content:e.c};this.createNotification(e),this.findSubscriptionByChannel(t.channel).onMessage(t)}}},{key:"createNotification",value:function(e){var t=ks.instance.supportNotification();if(Pn.isObject(e.nt)&&t){var n={ch:e.n,ctt:e.c};ks.instance.createLocalNotification(e.nt.t,e.nt.c,n)}}},{key:"formatOptions",value:function(e){this.formatCallback(e),Pn.isFunction(e.onMessage)||(e.onMessage=ss),e.channel&&(e.channel=e.channel.toString(),e.channels=[e.channel]),e.channels&&(e.channels=e.channels.toString().split(","))}},{key:"formatCallback",value:function(e){Pn.isFunction(e.onSuccess)||(e.onSuccess=ss),Pn.isFunction(e.onFailed)||(e.onFailed=ss)}},{key:"subscribe",value:function(e){var t=this;Ps.validateChannelAndChannels(e.channel,e.channels),this.formatOptions(e);var n=new ns({name:ws.subscribe,permission:mn.READ,singleTimeout:ps.commonInfiniteSingle,totalTimeout:ps.commonInfiniteTotal,params:{channels:e.channels,accessToken:e.accessToken},success:function(){var n=new Ls({channels:e.channels,accessToken:e.accessToken,onSuccess:e.onSuccess,onFailed:e.onFailed,onMessage:e.onMessage});t.subscriptions.push(n),e.onSuccess({code:200,content:"ok"})},fail:function(t){e.onFailed({code:t.resultCode,content:t.content})}});$s.s().emit(n)}},{key:"unsubscribe",value:function(e){var t=this;if(Ps.validateChannel(e.channel,"channel"),e.channel=e.channel.toString(),this.findSubscriptionByChannel(e.channel)){var n=new ns({name:ws.unsubscribe,params:{channel:e.channel},permission:mn.READ,singleTimeout:ps.commonRequestSingle,totalTimeout:ps.commonRequestTotal,success:function(){e.onSuccess({code:200,content:"ok"}),t.removeChannel(e.channel)},fail:function(t){e.onFailed({code:t.resultCode,content:t.content})}});$s.s().emit(n)}else e.onFailed({code:400,content:"channel["+e.channel+"] is not subscribed"})}},{key:"removeChannel",value:function(e){for(var t=0;t<this.subscriptions.length;t++)for(var n=this.subscriptions[t].channels,s=0;s<n.length;s++)if(n[s]==e){this.subscriptions[t].channels.splice(s,1);break}}},{key:"findSubscriptionByChannel",value:function(e){for(var t=!1,n=null,s=this.subscriptions.length-1;s>=0;s--){for(var i=this.subscriptions[s].channels,r=0;r<i.length;r++)if(i[r]==e){t=!0,n=this.subscriptions[s];break}if(t)break}return n}}]),e}(),Gs=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"get",value:function(e){Pn.isFunction(e.onSuccess)||(e.onSuccess=ss),Pn.isFunction(e.onFailed)||(e.onFailed=ss),Ps.validateChannel(e.channel,"channel"),e.channel=e.channel.toString();var t=new ns({name:ws.historyMessages,permission:mn.READ,params:e,singleTimeout:ps.commonQuerySingle,totalTimeout:ps.commonQueryTotal,success:function(t){e.onSuccess({code:t.resultCode||t.code||200,content:t.content})},fail:function(t){e.onFailed({code:t.resultCode||t.code,content:t.content})}});$s.s().emit(t)}}]),e}(),Bs=(0,y.default)((function e(t){(0,g.default)(this,e),this.channels=t.channels,this.onSuccess=t.onSuccess,this.onFailed=t.onFailed,this.onPresence=t.onPresence})),Vs=function(){function e(){(0,g.default)(this,e),this.presenters=[]}return(0,y.default)(e,[{key:"initialGoEasySocket",value:function(){$s.s().addMessageObserver(Rs.message,this.onNewMessage.bind(this)),$s.s().addExpiredReconnectedObserver(this.onExpiredReconnected.bind(this))}},{key:"resubscribe",value:function(){var e=this.presenters.slice(0);this.presenters=[];for(var t=0;t<e.length;t++){for(var n=0;n<e[t].channels.length;n++){var s=e[t].channels[n].split("_presence");e[t].channels[n]=s[0]}0!=e[t].channels.length&&this.subscribePresence(e[t])}}},{key:"onExpiredReconnected",value:function(){this.resubscribe()}},{key:"onNewMessage",value:function(e){if(-1!=e.n.indexOf("_presence")){var t=this.findPresenceByChannel(e.n);if(t){var n=JSON.parse(e.c);n.events=n.events.map((function(e){var t=e.userData?JSON.parse(e.userData):{};return{time:e.time,action:e.action,id:e.userId,data:t}})),t.onPresence(n)}}}},{key:"formatOptions",value:function(e){this.formatCallback(e),Pn.isFunction(e.onPresence)||(e.onPresence=ss),e.channel&&(e.channel=e.channel.toString(),e.channels=[e.channel]),e.channels&&(e.channels=e.channels.toString().split(","))}},{key:"formatCallback",value:function(e){Pn.isFunction(e.onSuccess)||(e.onSuccess=ss),Pn.isFunction(e.onFailed)||(e.onFailed=ss)}},{key:"subscribePresence",value:function(e){var t=this;Ps.validateChannelAndChannels(e.channel,e.channels),this.formatOptions(e),Array.isArray(e.channels)&&(e.channels=e.channels.map((function(e){return e+"_presence"})));var n=new ns({name:ws.subscribe,permission:mn.READ,singleTimeout:ps.commonInfiniteSingle,totalTimeout:ps.commonInfiniteTotal,params:{channels:e.channels},success:function(){var n=new Bs({channels:e.channels,onSuccess:e.onSuccess,onFailed:e.onFailed,onPresence:e.onPresence});t.presenters.push(n),e.onSuccess({code:200,content:"ok"})},fail:function(t){e.onFailed({code:t.resultCode,content:t.content})}});$s.s().emit(n)}},{key:"unsubscribePresence",value:function(e){var t=this;if(this.formatCallback(e),Pn.isDef(e.channel))if(e.channel+="_presence",this.findPresenceByChannel(e.channel)){var n=new ns({name:ws.unsubscribe,params:{channel:e.channel},permission:mn.READ,singleTimeout:ps.commonRequestSingle,totalTimeout:ps.commonRequestTotal,success:function(){e.onSuccess({code:200,content:"ok"}),t.removeChannel(e.channel)},fail:function(t){e.onFailed({code:t.resultCode,content:t.content})}});$s.s().emit(n)}else e.onFailed({code:400,content:"channel["+e.channel+"] is not subscribed"});else e.onFailed({code:400,content:"channel is required"})}},{key:"removeChannel",value:function(e){for(var t=0;t<this.presenters.length;t++)for(var n=this.presenters[t].channels,s=0;s<n.length;s++)if(n[s]==e){this.presenters[t].channels.splice(s,1);break}}},{key:"findPresenceByChannel",value:function(e){for(var t=!1,n=null,s=this.presenters.length-1;s>=0;s--){for(var i=this.presenters[s].channels,r=0;r<i.length;r++)if(i[r]==e){t=!0,n=this.presenters[s];break}if(t)break}return n}}]),e}(),qs=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"byChannel",value:function(e){var t={channels:[],includeUsers:!1,distinct:!1};Pn.isFunction(e.onSuccess)||(e.onSuccess=ss),Pn.isFunction(e.onFailed)||(e.onFailed=ss),Ps.validateChannelArray(e.channels,"channels"),t.channels=e.channels.toString().split(","),t.includeUsers=e.includeUsers||!1,t.distinct=e.distinct||!1;var n=new ns({name:ws.hereNow,permission:mn.READ,params:t,singleTimeout:ps.commonQuerySingle,totalTimeout:ps.commonQueryTotal,success:function(t){var n=t.content,s=n.channels;for(var i in s)if(s.hasOwnProperty(i)){var r=s[i];r.users&&(r.users=r.users.map((function(e){return e.data=e.data?JSON.parse(e.data):{},e})))}e.onSuccess({code:t.resultCode||t.code||200,content:n})},fail:function(t){e.onFailed({code:t.resultCode||t.code||200,content:t.content})}});$s.s().emit(n)}},{key:"byUserId",value:function(e){var t={userIds:[],distinct:!0};Pn.isFunction(e.onSuccess)||(e.onSuccess=ss),Pn.isFunction(e.onFailed)||(e.onFailed=ss),Ps.validateIdArray(e.userIds,"userIds"),t.userIds=e.userIds.toString().split(","),0==e.distinct&&(t.distinct=!1);var n=new ns({name:ws.hereNowByUserIds,permission:mn.READ,params:t,singleTimeout:ps.commonQuerySingle,totalTimeout:ps.commonQueryTotal,success:function(t){var n=t.content;n=n.map((function(e){return{id:e.userId,data:e.userData?JSON.parse(e.userData):{}}})),e.onSuccess({code:t.resultCode||t.code||200,content:n})},fail:function(t){e.onFailed({code:t.resultCode||t.code||200,content:t.content})}});$s.s().emit(n)}}]),e}(),Hs=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,null,[{key:"onSuccess",value:function(e,t){Pn.isFunction(e.onSuccess)&&e.onSuccess(t)}},{key:"onFailed",value:function(e,t){if(!Pn.isObject(e)||!Pn.isFunction(e.onFailed))throw t;e.onFailed(t)}}]),e}(),Ws=function(){function e(t){(0,g.default)(this,e),this.subscriber=new js,this.options=t}return(0,y.default)(e,[{key:"initialGoEasySocket",value:function(){this.publisher=new Us,this.histories=new Gs,this.presence=new Vs,this.hereNows=new qs,this.subscriber.initialGoEasySocket(),this.presence.initialGoEasySocket()}},{key:"initialBeforeConnect",value:function(){this.subscriber.clearSubscriptions()}},{key:"catch",value:function(e,t){try{this.validateOptions(),e()}catch(e){Hs.onFailed(t,e)}}},{key:"validateOptions",value:function(){if(!$s.s()||$s.s().getStatus()!==c.CONNECTED)throw Error("Please call connect() first.");if(!this.options.modules||!this.options.modules.includes(Ts))throw{code:400,content:"Invalid options: module '".concat(Ts,"' is not enabled")}}},{key:"publish",value:function(e){var t=this;this.catch((function(){t.publisher.publish(e)}),e)}},{key:"subscribe",value:function(e){var t=this;this.catch((function(){t.subscriber.subscribe(e)}),e)}},{key:"unsubscribe",value:function(e){var t=this;this.catch((function(){t.subscriber.unsubscribe(e)}),e)}},{key:"subscribePresence",value:function(e){var t=this;this.catch((function(){t.presence.subscribePresence(e)}),e)}},{key:"unsubscribePresence",value:function(e){var t=this;this.catch((function(){t.presence.unsubscribePresence(e)}),e)}},{key:"history",value:function(e){var t=this;this.catch((function(){t.histories.get(e)}),e)}},{key:"hereNow",value:function(e){var t=this;this.catch((function(){t.hereNows.byChannel(e)}),e)}},{key:"hereNowByUserIds",value:function(e){var t=this;this.catch((function(){t.hereNows.byUserId(e)}),e)}}],[{key:"init",value:function(t){e.instance=new e(t)}}]),e}();!function(e){e.PRIVATE_MESSAGE_RECEIVED="PRIVATE_MESSAGE_RECEIVED",e.GROUP_MESSAGE_RECEIVED="GROUP_MESSAGE_RECEIVED",e.SYSTEM_MESSAGE_RECEIVED="SYSTEM_MESSAGE_RECEIVED",e.CONVERSATIONS_UPDATED="CONVERSATIONS_UPDATED",e.USER_PRESENCE="USER_PRESENCE",e.GROUP_PRESENCE="GROUP_PRESENCE",e.MESSAGE_DELETED="MESSAGE_DELETED",e.MESSAGE_READ="MESSAGE_READ",e.MESSAGE_RECALLED="MESSAGE_RECALLED",e.CS_MESSAGE_RECEIVED="CS_MESSAGE_RECEIVED",e.PENDING_CONVERSATIONS_UPDATED="PENDING_CONVERSATIONS_UPDATED"}(Ds||(Ds={})),function(e){e.RING="RING",e.USER_ACCEPTED="USER_ACCEPTED",e.CALL_ENDED="CALL_ENDED",e.USER_QUITED="USER_QUITED"}(Fs||(Fs={}));var zs,Ys,Xs=Y.exports,Js=function(){function e(){(0,g.default)(this,e),this.emitter=new Xs}return(0,y.default)(e,[{key:"on",value:function(e,t){if(!Pn.isString(e))throw Error("event require a string.");if(!Pn.isDef(Ds[e])&&!Pn.isDef(Fs[e]))throw Error("An event that is not defined");if(!Pn.isFunction(t))throw Error("callback must be a function");this.emitter.on(e,t)}},{key:"fire",value:function(e,t){this.emitter.emit(e,t)}},{key:"off",value:function(e,t){this.emitter.off(e,t)}}]),e}(),Ks=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"upload",value:function(e,t){throw Error("Not implementation yet.")}}]),e}(),Qs=new(function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.call(this)}return(0,y.default)(n,[{key:"upload",value:function(e,t){var n=this;try{return delete e.parameters.fileRes,new Promise((function(s,i){uni.uploadFile({url:e.host,filePath:n.getTempFilePath(e),name:"file",formData:e.parameters,success:function(t){if(200===t.statusCode){var n=e.payload;n.message=t.errMsg,s({code:200,content:n})}else i({code:t.statusCode,content:t.errMsg})},fail:function(e){i({code:500,content:e.errMsg})}}).onProgressUpdate((function(e){t&&t(e)}))}))}catch(e){return new Promise((function(t,n){n({code:500,content:e})}))}}},{key:"getTempFilePath",value:function(e){var t=e.file;return t.tempFilePath||t.fullPath||t.path}}]),n}(Ks)),Zs=new(function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"upload",value:function(e,t){var n=this;try{return new Promise((function(s,i){r.uploadFile({url:e.host,filePath:n.getTempFilePath(e),name:"file",formData:e.parameters,success:function(t){if(200===t.statusCode){var n=e.payload;n.message=t.errMsg,s({code:200,content:n})}else i({code:t.statusCode,content:t.errMsg})},fail:function(e){i({code:500,content:e.errMsg})}}).onProgressUpdate((function(e){t&&t(e)}))}))}catch(e){return new Promise((function(t,n){n({code:500,content:e})}))}}},{key:"getTempFilePath",value:function(e){var t=e.file||e.fileRes;return t.path||t.tempFilePath}}]),n}(Ks)),ei=new(function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.call(this)}return(0,y.default)(n,[{key:"upload",value:function(e,t){try{return new Promise((function(n,s){var i=new XMLHttpRequest;for(var r in i.open("post",e.host,!0),e.headers)i.setRequestHeader(r,e.headers[r]);i.upload.onprogress=function(e){t&&t(e)},i.upload.onloadstart=function(e){t&&t(e)},i.upload.onloadend=function(e){t&&t(e)};var a=new FormData;for(var o in e.parameters)"fileRes"==o?a.append("file",e.parameters[o]):a.append(o,e.parameters[o]);i.send(a),i.onreadystatechange=function(){if(4==i.readyState)if(i.status>=200&&i.status<300||304==i.status){var t=e.payload;t.message=i.responseText,n({code:200,content:t})}else s({code:i.status,content:i.responseText})}}))}catch(e){return new Promise((function(t,n){n({code:500,content:e})}))}}}]),n}(Ks)),ti=new(function(){function e(){var t;(0,g.default)(this,e),this.uploader=(t={},(0,d.default)(t,vs.UNIAPP,Qs),(0,d.default)(t,vs.NATIVE_APPLET_WX,Zs),(0,d.default)(t,vs.TARO,gs.currentPlatform()===hs.APPLET_WX?Zs:ei),(0,d.default)(t,vs.UNKNOWN,ei),t)}return(0,y.default)(e,[{key:"upload",value:function(e,t){var n=_s.currentFramework();return this.uploader[n].upload(e,t)}}]),e}());!function(e){e.aliYun="ALI",e.qiNiu="QN",e.tencent="TX"}(zs||(zs={}));var ni=(0,y.default)((function e(t,n,s,i,r){(0,g.default)(this,e),this.host=t,this.headers=n,this.parameters=s,this.file=i,this.payload=r})),si=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"build",value:function(e,t,n){}},{key:"newFileName",value:function(e){return e&&e.newFilename||""}}]),e}();!function(e){e.TEXT="text",e.IMAGE="image",e.FILE="file",e.VIDEO="video",e.AUDIO="audio"}(Ys||(Ys={}));var ii,ri,ai=new(function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.call(this)}return(0,y.default)(n,[{key:"url",value:function(e){return e.host+"/"+e.dir+"/"+this.newFileName(e)}},{key:"build",value:function(e,t,n){var s;s={key:e.dir+"/"+this.newFileName(e),OSSAccessKeyId:e.accessKeyId,policy:e.policy,signature:e.signature,success_action_status:"200",fileRes:t},Ys.FILE===n&&(s={key:e.dir+"/"+this.newFileName(e),OSSAccessKeyId:e.accessKeyId,policy:e.policy,signature:e.signature,success_action_status:"200","Content-Disposition":"attachment;filename="+t.name,fileRes:t});var i={newFileName:this.newFileName(e),url:this.url(e)};return new ni(e.host,null,s,t,i)}}]),n}(si)),oi=new(function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.call(this)}return(0,y.default)(n,[{key:"url",value:function(e){return e.downloadUrl}},{key:"build",value:function(e,t){var n={key:this.newFileName(e),token:e.token,file:t},s={newFileName:this.newFileName(e),url:this.url(e)};return new ni(e.host,null,n,t,s)}}]),n}(si)),ui=new(function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.call(this)}return(0,y.default)(n,[{key:"url",value:function(e){return e.host+"/"+e.key}},{key:"build",value:function(e,t,n){var s={"q-sign-algorithm":e.qSignAlgorithm,"q-ak":e.qAk,"q-key-time":e.qKeyTime,"q-signature":e.qSignature,policy:e.policy,"x-cos-security-token":e.xCosSecurityToken,success_action_status:"200",key:e.key,fileRes:t};Ys.FILE===n&&(s={"q-sign-algorithm":e.qSignAlgorithm,"q-ak":e.qAk,"q-key-time":e.qKeyTime,"q-signature":e.qSignature,policy:e.policy,"x-cos-security-token":e.xCosSecurityToken,success_action_status:"200",key:e.key,"Content-Disposition":"attachment;filename=".concat(t.name),fileRes:t});var i={newFileName:e.key,url:this.url(e)};return new ni(e.host,null,s,t,i)}}]),n}(si)),ci=function(){function e(t){return(0,g.default)(this,e),t===zs.aliYun?ai:t===zs.tencent?ui:oi}return(0,y.default)(e,[{key:"build",value:function(e,t,n){}}]),e}(),li=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"resolve",value:function(e){return new Promise((function(t,n){var s=new ns({name:"uploadToken",params:{filename:e},permission:mn.WRITE,singleTimeout:ps.commonRequestSingle,totalTimeout:ps.commonRequestTotal,fail:function(e){n(e)},success:function(e){200===e.code?t(e):n(e)}});$s.s().emit(s)}))}}]),e}(),fi=function(){function e(){(0,g.default)(this,e),this.uploadTokenResolver=new li}return(0,y.default)(e,[{key:"build",value:function(e,t,n){var s=this;return new Promise((function(i,r){s.uploadTokenResolver.resolve(t).then((function(t){var s=t.content;i(new ci(s.vendor).build(s,e,n))})).catch((function(e){r(e)}))}))}}]),e}(),di=function(){function e(){(0,g.default)(this,e),this.requestBuilder=new fi,this.fileUploader=ti}return(0,y.default)(e,[{key:"upload",value:function(e,t,n,s){var i=this;return new Promise((function(r,a){i.requestBuilder.build(e,t,s).then((function(e){r(i.doUpload(e,n))})).catch((function(e){a(e)}))}))}},{key:"customizeUpload",value:function(e,t){this.doUpload(e,t)}},{key:"doUpload",value:function(e,t){return this.fileUploader.upload(e,t)}}]),e}(),pi=function(e){(0,h.default)(n,e);var t=C(n);function n(){var e;return(0,g.default)(this,n),e=t.apply(this,arguments),e.goEasyUploader=new di,e}return(0,y.default)(n,[{key:"improve",value:function(e){var t=this,n=e.message;return new Promise((function(e,s){var i,r,a=n.buildOptions.createOptions;n.type===Ys.VIDEO?(r=n.payload,i=r.video.name):(r=n.payload,i=r.name),t.goEasyUploader.upload(a.file,i,a.onProgress,n.type).then((function(s){t.setPayload(s,n),e()})).catch((function(e){s(e)}))}))}},{key:"setPayload",value:function(e,t){var n=e.content,s=void 0===n?{}:n;t.payload.url=s.url}}]),n}(function(){return(0,y.default)((function e(){(0,g.default)(this,e)}))}()),hi=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"setPayload",value:function(e,t){var n=t.payload,s="?x-oss-process=video/snapshot,t_0000,f_jpg,h_"+n.thumbnail.height+",m_fast,ar_auto";n.video.url=e.content.url,n.thumbnail.url=e.content.url+s,n.video.name=e.content.newFileName}}]),n}(pi),vi=function(){function e(){var t;(0,g.default)(this,e),this.improvers=(t={},(0,d.default)(t,Ys.FILE,new pi),(0,d.default)(t,Ys.AUDIO,new pi),(0,d.default)(t,Ys.IMAGE,new pi),(0,d.default)(t,Ys.VIDEO,new hi),t)}return(0,y.default)(e,[{key:"improve",value:function(e){var t=this.improvers[e.message.type];return t?t.improve(e):Promise.resolve()}}]),e}(),mi=function(){function e(t,n,s,i,r){(0,g.default)(this,e),this.validate(t),this.mt=t.type,this.to=n.id.toString(),this.d=JSON.stringify(n.data),this.p=JSON.stringify(t.payload),s&&(this.nt=s),r&&(this.at=r),i&&(this.wxmpTemplateMsg=Ns(i),this.wxmpTemplateMsg.data=JSON.stringify(this.wxmpTemplateMsg.data));var a=n.type;if(this.t=a,a===Yr.CS){var o=t;this.tid=o.teamId}this.guid=t.messageId}return(0,y.default)(e,[{key:"validate",value:function(e){if(e.type===Ys.TEXT&&JSON.stringify(e.payload).length>3072)throw Error("message-length limit 3kb")}}]),e}();!function(e){e.MESSAGE_SENDING="IM_INTERNAL_MESSAGE_SENDING",e.MESSAGE_SEND_SUCCESS="IM_INTERNAL_MESSAGE_SEND_SUCCESS",e.MESSAGE_SEND_FAILED="IM_INTERNAL_MESSAGE_SEND_FAILED",e.MESSAGE_RECEIVED="IM_INTERNAL_MESSAGE_RECEIVED",e.MAX_MESSAGE_CHANGED="IM_INTERNAL_MAX_MESSAGE_CHANGED",e.MAX_MESSAGE_DELETED="IM_INTERNAL_MAX_MESSAGE_DELETED",e.UNREAD_AMOUNT_CHANGED="IM_INTERNAL_UNREAD_MESSAGE_CHANGED",e.CS_ONLINE_SUCCESS="CS_ONLINE_SUCCESS",e.CS_OFFLINE_SUCCESS="CS_OFFLINE_SUCCESS",e.CS_ACCEPTED="CS_ACCEPTED",e.CS_ENDED="CS_ENDED",e.CS_TRANSFER="CS_TRANSFER",e.CS_AGENT_MESSAGE_RECEIVED="CS_AGENT_MESSAGE_RECEIVED"}(ii||(ii={}));var gi=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"clearUseLessAttribute",value:function(){delete this.buildOptions}},{key:"isOtherSent",value:function(){return this.senderId!==$s.u()}},{key:"getToData",value:function(){return this.buildOptions.createOptions.to.data}}]),e}(),yi=function(){function e(){(0,g.default)(this,e),this.payloadImprover=new vi}return(0,y.default)(e,[{key:"send",value:function(e){var t=this;this.validate(e);var n=e.message,s=e.accessToken,i=n.buildOptions,r=i.createOptions,a=r.notification,o=r.wxmpTemplateMsg,u=r.to;u.data||(u.data={}),n.status=Xr.SENDING;var c=i.complete,l=this.payloadImprover.improve(e);Promise.all([c,l]).then((function(){t.doSend(n,u,a,o,s,e)})).catch((function(t){n.status=Xr.FAIL,Hs.onFailed(e,{code:t.code||400,content:t.content||t})}))}},{key:"doSend",value:function(e,t,n,s,i,r){var a=new mi(e,t,n,s,i);Ms.fire(ii.MESSAGE_SENDING,e);var o=new ns({name:ws.publishIM,params:a,unique:!0,permission:mn.WRITE,singleTimeout:ps.commonRequestSingle,totalTimeout:ps.commonRequestTotal,fail:function(t){e.status=Xr.FAIL,Ms.fire(ii.MESSAGE_SEND_FAILED,e),Hs.onFailed(r,{code:t.resultCode,content:t.content})},success:function(t){if(e.status=Xr.SUCCESS,e.timestamp=t.content.timestamp,e.scene()===Yr.CS){var n=e;n.customerId()!==$s.u()&&(n.sessionId=t.content.sessionId)}e.clearUseLessAttribute(),Ms.fire(ii.MESSAGE_SEND_SUCCESS,e),Hs.onSuccess(r,e)}});$s.s().emit(o)}},{key:"validate",value:function(e){var t=e.message;if(!(t instanceof gi))throw new Error("it is invalid message");if(t.status!==Xr.NEW)throw new Error("Please create a new message, a message can only be sent once")}}]),e}(),_i=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"insert",value:function(e,t){var n=this.binarySearch(e,t);if(n>=0)e.splice(n,1,t);else{var s=-n-1;e.splice(s,0,t)}}},{key:"binarySearch",value:function(e,t){for(var n=0,s=e.length-1;n<=s;){var i=s+n>>1,r=this.compare(t,e[i]);if(r>0)n=i+1;else{if(!(r<0))return i;s=i-1}}return-n-1}}]),e}(),wi=function(){function e(t){(0,g.default)(this,e),this.messages=new Array,this.allLoaded=!1,this.target=t}return(0,y.default)(e,[{key:"all",value:function(){return this.messages}},{key:"sliceOverLengthMessages",value:function(){this.messages.length>e.CACHE_MAX_LENGTH&&(this.messages=this.messages.slice(-e.CACHE_MAX_LENGTH),!0===this.allLoaded&&(this.allLoaded=!1))}},{key:"getMaxMessage",value:function(){return this.messages[this.messages.length-1]}},{key:"loadLocalMessages",value:function(e,t){var n=[],s=this.messages.length;if(t){if(s>0){var i=this.messages[0].timestamp,r=this.messages[s-1].timestamp;if(t>=i&&t<=r)for(var a=s-1;a>=0;a--){var o=this.messages[a];if(o.timestamp<t){if(!(n.length<e))break;n.unshift(o)}}}}else n=this.messages.slice(-e);return n}},{key:"cacheServerMessages",value:function(t,n){var s=this,i=this.messages[0];this.messages.length<e.CACHE_MAX_LENGTH&&(!t.lastTimestamp||this.messages.length>0&&i.timestamp===t.lastTimestamp)&&(n.forEach((function(t){e.sortedInserter.insert(s.messages,t)})),n.length<t.limit&&(this.allLoaded=!0))}},{key:"findMessageByTime",value:function(e){return this.messages.find((function(t){return e===t.timestamp}))}},{key:"findMessagesByTimes",value:function(e){var t=this,n=[];return e.forEach((function(e){var s=t.findMessageByTime(e);Pn.isDef(s)&&n.push(s)})),n}},{key:"existsMessage",value:function(e){return this.findMessageIndexById(e)>-1}},{key:"findMessageIndexById",value:function(e){return this.messages.findIndex((function(t){return e===t.messageId}))}},{key:"deleteMessage",value:function(e){var t=this.findMessageIndexById(e);t>=0&&this.messages.splice(t,1)}},{key:"recallMessages",value:function(e){var t=this;e.forEach((function(e){var n=t.findMessageByTime(e.timestamp);Pn.isDef(n)&&(n.recalled=!0),e.recalled=!0}))}},{key:"isEmpty",value:function(){return 0===this.messages.length}},{key:"deleteMessages",value:function(e){var t=this;e.forEach((function(e){t.deleteMessage(e.messageId)}))}},{key:"saveMessage",value:function(t){e.sortedInserter.insert(this.messages,t),this.sliceOverLengthMessages()}},{key:"maxSuccessMessageTime",value:function(){for(var e=this.messages.length-1;e>=0;e--)if(this.messages[e].status===Xr.SUCCESS)return this.messages[e].timestamp;return 0}},{key:"minTime",value:function(){return this.isEmpty()?0:this.messages[0].timestamp}},{key:"correctPosition",value:function(e){this.deleteMessage(e.messageId),this.saveMessage(e)}}]),e}();wi.CACHE_MAX_LENGTH=200,wi.sortedInserter=new(function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"compare",value:function(e,t){var n=e.timestamp-t.timestamp;return n>0?1:0===n?0:-1}}]),n}(_i));var bi=function(){function e(t,n,s){(0,g.default)(this,e),this.scene=t,this.id=n,Pn.isDef(s)&&(this.teamId=s)}return(0,y.default)(e,[{key:"toString",value:function(){return Yr.PRIVATE===this.scene||Yr.GROUP===this.scene?this.scene+"#"+this.id:this.scene+"#"+this.id+"#"+this.teamId}},{key:"customerId",value:function(){if(Yr.CS===this.scene)return this.id===this.teamId?$s.u():this.id}}],[{key:"byScene",value:function(t,n,s){return new e(t,n,s)}},{key:"byIMMessage",value:function(t){var n,s,i=t.scene();if(i===Yr.PRIVATE){var r=t.senderId,a=t.targetId();s=$s.u()===r?a:r}else if(i===Yr.GROUP)s=t.targetId();else{if(i!==Yr.CS)throw{code:400,content:"scene ".concat(i," not exists")};s=t.targetId(),n=t.teamId}return new e(i,s,n)}},{key:"byMessageReadRemoteEvent",value:function(t){var n,s=t.scene,i=t.targetId,r=t.markerId,a=t.teamId;return s===Yr.PRIVATE?n=$s.u()===r?i:r:s===Yr.GROUP?n=i:s===Yr.CS&&(n=i===a?r===$s.u()?a:r:r===$s.u()?i:a),new e(s,n,a)}},{key:"byIMMessageDeletedEvent",value:function(t){var n=t.scene,s=t.deleterId;if(n===Yr.PRIVATE){var i=$s.u()===s?t.targetId:s;return new e(n,i)}if(n===Yr.GROUP)return new e(n,t.targetId)}},{key:"byConversationDTO",value:function(e){var t=e.lastMessage;return this.byIMMessage(t)}},{key:"byRemoteRecallEvent",value:function(t){var n;if(t.scene===Yr.PRIVATE){var s=t.conversationId.split(":",2);n=s[0]===$s.u()?s[1]:s[0]}else n=t.conversationId;return new e(t.scene,n)}}]),e}(),Ci=(0,y.default)((function e(t){var n=this;(0,g.default)(this,e),this.times=new Array;var s=t[0],i=bi.byIMMessage(s);this.scene=i.scene,this.targetId=i.id,t.forEach((function(e){e.status===Xr.SUCCESS&&n.times.push(e.timestamp)})),this.times.sort((function(e,t){return e<t?-1:e==t?0:1}))})),Ei=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,null,[{key:"deleteServerMessages",value:function(e){var t=new Ci(e);return t.times.length<0?Promise.resolve():new Promise((function(e,n){var s=new ns({name:ws.IM_DELETE_MESSAGE,params:t,permission:mn.WRITE,singleTimeout:ps.commonQuerySingle,totalTimeout:ps.commonQueryTotal,success:function(t){200===t.code?e(t):n(t)},fail:function(e){n(e)}});$s.s().emit(s)}))}},{key:"validate",value:function(e){for(var t=e.messages,n=0;n<t.length;n++){var s=t[n];if(s.status===Xr.SENDING)throw{code:400,content:"message["+n+"] is '"+s.status+"' and cannot be deleted"}}}}]),e}(),ki=(0,y.default)((function e(t){var n=this;(0,g.default)(this,e),this.times=new Array;var s=t[0],i=bi.byIMMessage(s);this.scene=i.scene,this.targetId=i.id,t.forEach((function(e){n.times.push(e.timestamp)})),this.times.sort((function(e,t){return e<t?-1:e==t?0:1}))})),xi=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,null,[{key:"recallServerMessages",value:function(e){var t=new ki(e);return 0===t.times.length?Promise.resolve():new Promise((function(e,n){var s=new ns({name:ws.IM_RECALL_MESSAGE,params:t,permission:mn.WRITE,singleTimeout:ps.commonRequestSingle,totalTimeout:ps.commonRequestTotal,fail:function(e){n(e)},success:function(t){200===t.code?e(t):n(t)}});$s.s().emit(s)}))}},{key:"validate",value:function(e){for(var t=e.messages,n=0;n<t.length;n++){var s=t[n];if(s.status!==Xr.SUCCESS)throw{code:400,content:"message["+n+"] is '"+s.status+"' and cannot be recalled"};if(s.recalled)throw{code:400,content:"message["+n+"] has been recalled"};if(s.senderId!==$s.u())throw{code:400,content:"it is not allowed to recall messages sent by others"}}}}]),e}(),Si=(0,y.default)((function e(t,n,s,i,r){(0,g.default)(this,e),this.scene=t,this.id=n,this.after=s,this.min=i,this.teamId=r})),Mi=(0,y.default)((function e(t,n,s,i){(0,g.default)(this,e),this.id=t,this.scene=n,this.lastTimestamp=s,this.teamId=i})),Ai=function(e){(0,h.default)(n,e);var t=C(n);function n(){var e;return(0,g.default)(this,n),e=t.apply(this,arguments),e.read=!1,e}return(0,y.default)(n,[{key:"scene",value:function(){return Yr.PRIVATE}},{key:"targetId",value:function(){return this.receiverId}}]),n}(gi),Oi=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"scene",value:function(){return Yr.GROUP}},{key:"targetId",value:function(){return this.groupId}}]),n}(gi),Ii=function(e){(0,h.default)(n,e);var t=C(n);function n(){var e;return(0,g.default)(this,n),e=t.apply(this,arguments),e.accepted=!1,e}return(0,y.default)(n,[{key:"scene",value:function(){return Yr.CS}},{key:"targetId",value:function(){return $s.u()===this.customerId()?this.teamId:this.customerId()}},{key:"sendByCustomer",value:function(){return this.to===this.teamId}},{key:"customerId",value:function(){return this.sendByCustomer()?this.senderId:this.to}},{key:"isOtherSent",value:function(){return $s.u()===this.customerId()?this.senderId!==$s.u():this.senderId===this.customerId()}}]),n}(gi);!function(e){e.ACCEPT="CS_ACCEPT",e.END="CS_END",e.TRANSFER="CS_TRANSFER"}(ri||(ri={}));var Ti=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"build",value:function(e){var t,n=e.t;n===Yr.PRIVATE?(t=new Ai,t.read=!1,t.receiverId=e.r):n===Yr.GROUP?(t=new Oi,t.groupId=e.r,t.senderData=e.d?JSON.parse(e.d):{}):n===Yr.CS&&(t=new Ii,t.to=e.r,t.teamId=e.tid,t.senderData=e.d?JSON.parse(e.d):{},t.accepted=e.accepted,t.customerId()!==$s.u()&&(t.sessionId=e.sessionId)),t.senderId=e.s,t.messageId=e.i,t.timestamp=e.ts,t.type=e.mt;var s=e.p;if(Pn.isDef(s))if(n===Yr.CS&&t.type===ri.TRANSFER){var i=JSON.parse(s);i.transferTo.data=JSON.parse(i.transferTo.data),t.payload=i}else t.payload=JSON.parse(s);return t.recalled=e.rc,t.status=Xr.SUCCESS,t}}]),e}(),Pi=function(){function e(){(0,g.default)(this,e),this.builder=new Ti}return(0,y.default)(e,[{key:"sync",value:function(e,t,n,s,i){var r=new Si(e,t,n,s,i);return new Promise((function(e,t){var n=new ns({name:ws.IM_HISTORY_CHANGE,params:r,permission:mn.READ,singleTimeout:ps.commonQuerySingle,totalTimeout:ps.commonQueryTotal,fail:function(e){t(e)},success:function(t){var n=t.content;e(n)}});$s.s().emit(n)}))}},{key:"loadServerMessages",value:function(e,t){var n=this;return new Promise((function(s,i){var r=new ns({name:ws.IM_HISTORY,params:t,permission:mn.READ,singleTimeout:ps.commonQuerySingle,totalTimeout:ps.commonQueryTotal,fail:function(e){i(e)},success:function(t){var i=t.content;i.messages=n.convertServerMessages(e,i.messages),s(i)}});$s.s().emit(r)}))}},{key:"convertServerMessages",value:function(e,t){var n=this,s=[],i=e.scene,r=e.id;return t.forEach((function(t){if(t.t=i,Yr.PRIVATE===i)t.r=t.s===$s.u()?r:$s.u();else if(Yr.GROUP===i)t.r=r;else if(Yr.CS===i){var a=e.customerId(),o=e.teamId;a===$s.u()?t.r=o:t.r=a}var u=n.builder.build(t);s.push(u)})),s}},{key:"updateServerOffsets",value:function(e,t){return x(this,void 0,void 0,l.default.mark((function n(){var s;return l.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=new Mi(t.id,t.scene,e,t.teamId),n.abrupt("return",new Promise((function(e,t){var n=new ns({name:ws.IM_MARK_AS_READ,params:s,permission:mn.WRITE,singleTimeout:ps.commonRequestSingle,totalTimeout:ps.commonRequestTotal,success:function(t){e(t)},fail:function(e){t(e)}});$s.s().emit(n)})));case 2:case"end":return n.stop()}}),n)})))}}]),e}();Pi.instance=new Pi;var $i=function(){function e(){(0,g.default)(this,e),this.offsetMap=new Map,this.markingTime=0,this.userId=$s.u()}return(0,y.default)(e,[{key:"updateOffset",value:function(e,t){var n=this.offsetMap.get(e);return Pn.isDef(n)?t>n&&(this.offsetMap.set(e,t),!0):(this.offsetMap.set(e,t),!0)}},{key:"updateUserOffsets",value:function(e){var t=this;e.forEach((function(e){var n=e.userId,s=e.offset;t.updateOffset(n,s)}))}},{key:"updateMyOffset",value:function(e){return this.updateOffset(this.userId,e)}},{key:"myOffset",value:function(){return this.getOffset(this.userId)}},{key:"getOffset",value:function(e){var t=this.offsetMap.get(e);return t||0}}]),e}(),Ni=(0,y.default)((function e(t,n,s,i,r){(0,g.default)(this,e),this.id=t,this.scene=n,this.lastTimestamp=s,this.limit=i,this.teamId=r})),Ri=function(){function e(t){(0,g.default)(this,e),this.history=t}return(0,y.default)(e,[{key:"pre",value:function(){this.oldLastMessage=this.history.getMaxMessage(),this.oldUnreadAmount=this.history.unreadAmount(),this.oldLastMessage&&(this.oldLastMessageRecalled=this.oldLastMessage.recalled,this.oldLastMessageRead=this.oldLastMessage.read,this.oldLastMessageStatus=this.oldLastMessage.status)}},{key:"post",value:function(){var e,t,n,s=this.history.unreadAmount(),i=this.history.getMaxMessage();i&&(n=i.status,e=i.read,t=i.recalled);var r=this.history.target;this.oldLastMessage!==i||this.oldLastMessageRead!==e||this.oldLastMessageRecalled!==t||this.oldLastMessageStatus!==n?i?Ms.fire(ii.MAX_MESSAGE_CHANGED,i):Ms.fire(ii.MAX_MESSAGE_DELETED,r):this.oldUnreadAmount!==s&&Ms.fire(ii.UNREAD_AMOUNT_CHANGED,r)}}]),e}(),Di=function(){function e(t){(0,g.default)(this,e),this.expiredTime=0,this.remoteHistory=Pi.instance,this.target=t,this.userOffsets=new $i,this.messageCache=new wi(t)}return(0,y.default)(e,[{key:"initMaxMessageAndOffsets",value:function(e,t){var n=this;this.existsMessage(e)||(this.messageCache.saveMessage(e),t.forEach((function(e){n.markLocalMessagesRead(n.messageCache.all(),e.userId,e.offset,!1)})))}},{key:"existsMessage",value:function(e){return this.messageCache.existsMessage(e.messageId)}},{key:"loadHistory",value:function(e,t){return x(this,void 0,void 0,l.default.mark((function n(){return l.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.t0=this.expiredTime>0&&!this.messageCache.isEmpty(),!n.t0){n.next=4;break}return n.next=4,this.updateByServerChange();case 4:return Pn.isUndef(t)?t=10:t>30&&(t=30),n.next=7,this.loadServerMessages(e,t);case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}}),n,this)})))}},{key:"loadServerMessages",value:function(e,t){return x(this,void 0,void 0,l.default.mark((function n(){var s,i,r,a,o,u,c=this;return l.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=this.messageCache.loadLocalMessages(t,e),!1!==this.messageCache.allLoaded||s.length===t){n.next=10;break}return i=t-s.length,r=s[0]?s[0].timestamp:e,a=new Ni(this.target.id.toString(),this.target.scene,r,i,this.target.teamId),n.next=7,this.remoteHistory.loadServerMessages(this.target,a);case 7:o=n.sent,u=o.messages,s=u.concat(s),this.messageCache.cacheServerMessages(a,u),o.userOffsets.forEach((function(e){c.userOffsets.updateOffset(e.userId,e.offset)})),this.userOffsets.offsetMap.forEach((function(e,t){c.markLocalMessagesRead(u,t,e,!1)}));case 10:return n.abrupt("return",s);case 11:case"end":return n.stop()}}),n,this)})))}},{key:"deleteMessages",value:function(e){return x(this,void 0,void 0,l.default.mark((function t(){var n=this;return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.aopUnreadAmountMaxMessage((function(){return x(n,void 0,void 0,l.default.mark((function t(){var n;return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.messages,t.next=3,Ei.deleteServerMessages(n);case 3:this.messageCache.deleteMessages(n),Hs.onSuccess(e);case 5:case"end":return t.stop()}}),t,this)})))}));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"syncDeletedMessage",value:function(e,t){var n=this;this.aopUnreadAmountMaxMessage((function(){n.doSyncDeletedMessage(e,t)}))}},{key:"doSyncDeletedMessage",value:function(e,t){if(e===$s.u()){var n=this.messageCache.findMessagesByTimes(t);this.messageCache.deleteMessages(n),n.length>0&&Lr.aec.fire(Ds.MESSAGE_DELETED,n)}}},{key:"recallMessage",value:function(e){return x(this,void 0,void 0,l.default.mark((function t(){var n=this;return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.aopUnreadAmountMaxMessage((function(){return x(n,void 0,void 0,l.default.mark((function t(){var n;return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.messages,t.next=3,xi.recallServerMessages(n);case 3:this.messageCache.recallMessages(n),Hs.onSuccess(e);case 5:case"end":return t.stop()}}),t,this)})))}));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"syncRecalledMessage",value:function(e){var t=this;this.aopUnreadAmountMaxMessage((function(){return x(t,void 0,void 0,l.default.mark((function t(){return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.doSyncRecalledMessage(e);case 1:case"end":return t.stop()}}),t,this)})))}))}},{key:"doSyncRecalledMessage",value:function(e){var t=this.messageCache.findMessagesByTimes(e);t.length>0&&(this.messageCache.recallMessages(t),Lr.aec.fire(Ds.MESSAGE_RECALLED,t))}},{key:"expire",value:function(){this.messageCache.isEmpty()||(this.expiredTime=this.messageCache.maxSuccessMessageTime())}},{key:"updateByServerChange",value:function(){return x(this,void 0,void 0,l.default.mark((function e(){var t=this;return l.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.aopUnreadAmountMaxMessage((function(){return x(t,void 0,void 0,l.default.mark((function e(){var t,n,s,i=this;return l.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.remoteHistory.sync(this.target.scene,this.target.id,this.expiredTime,this.messageCache.minTime(),this.target.teamId);case 2:t=e.sent,t.userOffsets.forEach((function(e){i.markLocalMessagesRead(i.messageCache.all(),e.userId,e.offset,!0)})),n=t.deletedMessageTimes,n.length>0&&this.doSyncDeletedMessage($s.u(),n),s=t.recalled,s.length>0&&this.doSyncRecalledMessage(s),this.expiredTime=0;case 8:case"end":return e.stop()}}),e,this)})))}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"markRead",value:function(){return x(this,void 0,void 0,l.default.mark((function e(){var t=this;return l.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.aopUnreadAmountMaxMessage((function(){return x(t,void 0,void 0,l.default.mark((function e(){var t;return l.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.messageCache.maxSuccessMessageTime(),e.t0=t>this.userOffsets.myOffset(),!e.t0){e.next=7;break}return this.userOffsets.markingTime=t,e.next=6,this.remoteHistory.updateServerOffsets(t,this.target);case 6:t===this.userOffsets.markingTime&&this.markLocalMessagesRead(this.messageCache.all(),$s.u(),t,!0);case 7:case"end":return e.stop()}}),e,this)})))}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"syncMarkedMessage",value:function(e){var t=this;this.aopUnreadAmountMaxMessage((function(){t.markLocalMessagesRead(t.messageCache.all(),e.markerId,e.time,!0)}))}},{key:"onMessageSending",value:function(e){var t=this;this.aopUnreadAmountMaxMessage((function(){t.messageCache.saveMessage(e)}))}},{key:"onMessageSendSuccess",value:function(e){var t=this;this.aopUnreadAmountMaxMessage((function(){t.messageCache.correctPosition(e),t.markLocalMessagesRead(t.messageCache.all(),$s.u(),e.timestamp,!0)}))}},{key:"onMessageSendFailed",value:function(e){this.getMaxMessage()===e&&Ms.fire(ii.MAX_MESSAGE_CHANGED,e)}},{key:"onMessageReceived",value:function(e){var t=this;this.aopUnreadAmountMaxMessage((function(){t.messageCache.saveMessage(e),t.markLocalMessagesRead(t.messageCache.all(),e.senderId,e.timestamp,!0)}))}},{key:"aopUnreadAmountMaxMessage",value:function(e,t){return x(this,void 0,void 0,l.default.mark((function n(){var s;return l.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,s=new Ri(this),s.pre(),n.next=5,e();case 5:s.post(),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),Hs.onFailed(t,n.t0);case 11:case"end":return n.stop()}}),n,this,[[0,8]])})))}},{key:"markLocalMessagesRead",value:function(e,t,n,s){if(this.userOffsets.updateOffset(t,n),this.isOtherUserId(t)){var i=this.markMySentRead(e,n);s&&i.length>0&&Lr.aec.fire(Ds.MESSAGE_READ,i)}else t===$s.u()&&this.markOthersSentRead(e,n)}},{key:"markOthersSentRead",value:function(e,t){if(this.target.scene===Yr.PRIVATE)for(var n=e.length-1;n>=0;n--){var s=e[n];if(s.isOtherSent()&&s.timestamp<=t){if(s.read)break;s.read=!0}}}},{key:"markMySentRead",value:function(e,t){var n=new Array;if(this.target.scene===Yr.PRIVATE)for(var s=e.length-1;s>=0;s--){var i=e[s];if(!i.isOtherSent()&&i.timestamp<=t&&i.status===Xr.SUCCESS){if(i.read)break;i.read=!0,n.push(i)}}return n}},{key:"isOtherUserId",value:function(e){if(this.target.scene===Yr.CS){var t=this.target.customerId();return $s.u()===t?e!==$s.u():e===t}return e!==$s.u()}},{key:"unreadAmount",value:function(e){var t,n=0,s=this.userOffsets.myOffset(),i=this.messageCache.all(),r=w(i);try{for(r.s();!(t=r.n()).done;){var a=t.value;a.isOtherSent()&&!1===a.recalled&&a.timestamp>s&&(n+=1)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"getMaxMessage",value:function(e){return this.messageCache.getMaxMessage()}},{key:"maxTime",value:function(e){var t=this.getMaxMessage();return Pn.isDef(t)?t.timestamp:0}}]),e}(),Fi=(0,y.default)((function e(t,n){(0,g.default)(this,e),this.teamId=t,this.customerId=n})),Ui=(0,y.default)((function e(){(0,g.default)(this,e)})),Li=(0,y.default)((function e(t,n,s){(0,g.default)(this,e),this.teamId=t,this.teamData=JSON.stringify(n),this.agentData=JSON.stringify(s)})),ji=(0,y.default)((function e(t){(0,g.default)(this,e),this.teamId=t})),Gi=(0,y.default)((function e(t){(0,g.default)(this,e),this.teamId=t})),Bi=function(){function e(){(0,g.default)(this,e),this.synchronized=!0,$s.s().addDisconnectedObserver(this.onDisconnected.bind(this)),$s.s().addConnectedObserver(this.onConnected.bind(this)),$s.s().addMessageObserver(Rs.CS_ONLINE_CHANGED,this.onlineChanged.bind(this))}return(0,y.default)(e,[{key:"queryTeams",value:function(){var e=this;return this.queryMyTeamPromise||(this.queryMyTeamPromise=new Promise((function(t,n){var s=new ns({name:ws.CS_MY_TEAMS,params:{},permission:mn.READ,singleTimeout:ps.commonQuerySingle,totalTimeout:ps.commonQueryTotal,fail:function(e){n(e)},success:function(n){e.teamIds=new Set(n.content),e.synchronized=!0,t(e.teamIds)}});$s.s().emit(s)}))),this.queryMyTeamPromise}},{key:"myTeams",value:function(){if(this.synchronized&&this.queryMyTeamPromise)return this.teamIds;throw"please query team first."}},{key:"isOnline",value:function(e,t){return x(this,void 0,void 0,l.default.mark((function n(){return l.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,this.queryTeams();case 2:Hs.onSuccess(t,this.teamIds.has(e));case 3:case"end":return n.stop()}}),n,this)})))}},{key:"online",value:function(e,t){var n=this;if(!Pn.isObject(t.agentData)||!Pn.isObject(t.teamData))throw{code:400,content:"agentData and teamData require an object"};var s=new Li(e,t.teamData,t.agentData),i=new ns({name:ws.CS_ONLINE,params:s,permission:mn.WRITE,singleTimeout:ps.commonRequestSingle,totalTimeout:ps.commonRequestTotal,fail:function(e){Hs.onFailed(t,e)},success:function(s){n.teamIds.add(e),Hs.onSuccess(t),Ms.fire(ii.CS_ONLINE_SUCCESS)}});$s.s().emit(i)}},{key:"offline",value:function(e,t){var n=this,s=new ji(e),i=new ns({name:ws.CS_OFFLINE,params:s,permission:mn.WRITE,singleTimeout:ps.commonRequestSingle,totalTimeout:ps.commonRequestTotal,fail:function(e){Hs.onFailed(t,e)},success:function(s){n.teamIds.delete(e),Hs.onSuccess(t),Ms.fire(ii.CS_OFFLINE_SUCCESS)}});$s.s().emit(i)}},{key:"agents",value:function(e,t){var n=new Gi(e),s=new ns({name:ws.CS_AGENTS,params:n,permission:mn.READ,singleTimeout:ps.commonQuerySingle,totalTimeout:ps.commonQueryTotal,fail:function(e){Hs.onFailed(t,e)},success:function(e){e.content.forEach((function(e){e.data=JSON.parse(e.data)})),Hs.onSuccess(t,e)}});$s.s().emit(s)}},{key:"onlineChanged",value:function(e){e.online?this.teamIds.add(e.teamId):this.teamIds.delete(e.teamId)}},{key:"onDisconnected",value:function(){this.queryMyTeamPromise=null,this.teamIds=null}},{key:"onConnected",value:function(){this.synchronized&&(this.queryMyTeamPromise=this.queryTeams())}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}(),Vi=function(){function e(t){(0,g.default)(this,e),this.teamId=t,Ms.on(ii.CS_AGENT_MESSAGE_RECEIVED,this.onMessageReceived),Ms.on(ii.CS_ACCEPTED,this.onMessageReceived),Ms.on(ii.CS_ENDED,this.onMessageReceived),Ms.on(ii.CS_TRANSFER,this.onMessageReceived),Ms.on(Cs.MANUAL_DISCONNECTED,e.destroy)}return(0,y.default)(e,[{key:"customerId",value:function(){return this.liveOptions.customerId}},{key:"onMessageReceived",value:function(t){var n=e.session;if(t.scene()===Yr.CS&&n.liveOptions){var s=t,i=n.liveOptions.customerId;n.teamId===s.teamId&&s.customerId()===i&&(n.tryUpdateStatus(s),n.liveOptions.onNewMessage(s))}}},{key:"tryUpdateStatus",value:function(e){if(!("FREE"!==this.status.status&&this.status.sessionId>e.sessionId)){var t;switch(e.type){case ri.ACCEPT:t=new Ui,t.status="ACCEPTED",t.start=e.payload.sessionStart,t.sessionId=e.sessionId,t.agent=new Zr(e.senderId,e.senderData);break;case ri.END:t=new Ui,t.status="FREE";break;case ri.TRANSFER:t=new Ui,t.status="ACCEPTED",t.start=e.payload.sessionStart,t.sessionId=e.sessionId,t.agent=e.payload.transferTo;break;default:"FREE"===this.status.status&&(t=new Ui,t.status="PENDING",t.start=e.timestamp,t.sessionId=e.sessionId)}t&&(this.status=t,this.liveOptions.onStatusUpdated(t))}}}],[{key:"live",value:function(t,n){return x(this,void 0,void 0,l.default.mark((function s(){var i,r,a,o=this;return l.default.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i=n.customerId,Ps.validateId(i,"customerId"),r=new Fi(t,i),s.next=5,Bi.getInstance().queryTeams();case 5:a=new ns({name:ws.CS_LIVE_SESSION,params:r,permission:mn.WRITE,singleTimeout:ps.commonRequestSingle,totalTimeout:ps.commonRequestTotal,fail:function(e){Hs.onFailed(n,e)},success:function(s){e.destroy(),o.session=new e(t),o.session.liveOptions=n;var i=s.content.customerStatus;"ACCEPTED"===i.status&&(i.agent.data=JSON.parse(i.agent.data)),o.session.status=i,o.session.liveOptions.onStatusUpdated(o.session.status),Hs.onSuccess(n)}}),$s.s().emit(a);case 7:case"end":return s.stop()}}),s)})))}},{key:"isMyCustomer",value:function(t){var n=e.session;if(n&&n.teamId===t.teamId&&n.customerId()===t.customerId()){var s=Bi.getInstance().myTeams(),i=n.status.agent;return s.has(t.teamId)&&(!i||i.id===$s.u())}return!0}},{key:"isMyMessage",value:function(e){var t=bi.byIMMessage(e);return e.type===ri.TRANSFER&&e.payload.transferTo.id===$s.u()||this.isMyCustomer(t)}},{key:"quit",value:function(t){var n=e.session;if(n){var s=n.liveOptions.customerId;Ps.validateId(s,"customerId");var i=new Fi(n.teamId,s),r=new ns({name:ws.CS_QUIT_LIVE,params:i,permission:mn.WRITE,singleTimeout:ps.commonRequestSingle,totalTimeout:ps.commonRequestTotal,fail:function(e){Hs.onFailed(t,e)},success:function(n){e.destroy(),Hs.onSuccess(t)}});$s.s().emit(r)}}},{key:"destroy",value:function(){var t=e.session;t&&(Ms.off(ii.CS_AGENT_MESSAGE_RECEIVED,t.onMessageReceived),Ms.off(ii.CS_ACCEPTED,t.onMessageReceived),Ms.off(ii.CS_ENDED,t.onMessageReceived),Ms.off(ii.CS_TRANSFER,t.onMessageReceived),Ms.off(Cs.MANUAL_DISCONNECTED,e.destroy),e.session=null)}}]),e}(),qi=function(e){(0,h.default)(n,e);var t=C(n);function n(e){var s;return(0,g.default)(this,n),s=t.call(this,e),s.unread=0,s.markingAmount=0,s}return(0,y.default)(n,[{key:"loadHistory",value:function(e,t){return x(this,void 0,void 0,l.default.mark((function n(){return l.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return Pn.isUndef(t)?t=10:t>30&&(t=30),n.next=3,this.loadServerMessages(e,t);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n,this)})))}},{key:"loadServerMessages",value:function(e,t){return x(this,void 0,void 0,l.default.mark((function n(){var s,i,r=this;return l.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=new Ni(this.target.id.toString(),this.target.scene,e,t,this.target.teamId),n.next=3,this.remoteHistory.loadServerMessages(this.target,s);case 3:return i=n.sent,n.abrupt("return",(i.userOffsets.forEach((function(e){r.userOffsets.updateOffset(e.userId,e.offset)})),i.messages));case 5:case"end":return n.stop()}}),n,this)})))}},{key:"deleteMessages",value:function(e){return x(this,void 0,void 0,l.default.mark((function t(){return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Hs.onFailed(e,"Delete CS message is not supported yet");case 1:case"end":return t.stop()}}),t)})))}},{key:"recallMessage",value:function(e){return x(this,void 0,void 0,l.default.mark((function t(){return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Hs.onFailed(e,"Recall CS message is not supported yet");case 1:case"end":return t.stop()}}),t)})))}},{key:"initMaxMessageAndOffsets",value:function(e,t){var n=this;t.forEach((function(e){n.userOffsets.updateOffset(e.userId,e.offset)})),(Pn.isUndef(this.acceptedMaxMessage)||this.acceptedMaxMessage.timestamp<e.timestamp)&&this.increaseUnreadAmount(e),this.saveAcceptedMessage(e)}},{key:"initPendingMaxMessageAndOffsets",value:function(e,t){var n=this;t.forEach((function(e){n.userOffsets.updateOffset(e.userId,e.offset)})),this.savePendingMessage(e)}},{key:"savePendingMessage",value:function(e){this.pendingMaxMessage?this.pendingMaxMessage.timestamp<e.timestamp&&(this.pendingMaxMessage=e):this.pendingMaxMessage=e}},{key:"saveAcceptedMessage",value:function(e){this.acceptedMaxMessage?this.acceptedMaxMessage.timestamp<e.timestamp&&(this.acceptedMaxMessage=e):this.acceptedMaxMessage=e}},{key:"onMessageSending",value:function(e){this.saveAcceptedMessage(e),Ms.fire(ii.MAX_MESSAGE_CHANGED,e)}},{key:"onMessageSendSuccess",value:function(e){this.saveAcceptedMessage(e),this.userOffsets.updateOffset(e.senderId,e.timestamp),this.acceptedMaxMessage===e&&Ms.fire(ii.MAX_MESSAGE_CHANGED,e)}},{key:"onMessageSendFailed",value:function(e){this.acceptedMaxMessage===e&&Ms.fire(ii.MAX_MESSAGE_CHANGED,e)}},{key:"onMessageReceived",value:function(e){Vi.isMyMessage(e)&&(!e.accepted||e.senderId!==$s.u()&&e.type===ri.ACCEPT?this.savePendingMessage(e):this.saveAcceptedMessage(e),this.userOffsets.updateOffset(e.senderId,e.timestamp),this.increaseUnreadAmount(e),Ms.fire(ii.MAX_MESSAGE_CHANGED,e))}},{key:"increaseUnreadAmount",value:function(e){(e.sendByCustomer()||e.type===ri.TRANSFER&&e.senderId!==$s.u())&&this.userOffsets.myOffset()<e.timestamp&&e.accepted&&(this.unread+=1)}},{key:"markRead",value:function(){return x(this,void 0,void 0,l.default.mark((function e(){var t;return l.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.maxAcceptedMessageTime(),e.t0=Vi.isMyCustomer(this.target)&&this.preMark(t),!e.t0){e.next=6;break}return e.next=5,this.remoteHistory.updateServerOffsets(t,this.target);case 5:this.postMark(t);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"preMark",value:function(e){var t=this.userOffsets.myOffset();return e>this.userOffsets.markingTime&&e>t&&(this.userOffsets.markingTime=e,this.markingAmount=this.unread,!0)}},{key:"postMark",value:function(e){e===this.userOffsets.markingTime&&(this.unread-=this.markingAmount,this.markingAmount=0,this.userOffsets.updateOffset($s.u(),e),Ms.fire(ii.UNREAD_AMOUNT_CHANGED,this.target))}},{key:"syncMarkedMessage",value:function(e){}},{key:"getMaxMessage",value:function(e){return e?this.acceptedMaxMessage:this.pendingMaxMessage}},{key:"unreadAmount",value:function(e){return e?this.unread:0}},{key:"existsMessage",value:function(e){return this.acceptedMaxMessage&&this.acceptedMaxMessage.messageId===e.messageId||this.pendingMaxMessage&&this.pendingMaxMessage.messageId===e.messageId}},{key:"maxAcceptedMessageTime",value:function(){return this.acceptedMaxMessage?this.acceptedMaxMessage.timestamp:0}},{key:"maxTime",value:function(e){var t=this.getMaxMessage(e);return t?t.timestamp:0}}]),n}(Di),Hi=function(e){(0,h.default)(n,e);var t=C(n);function n(e){return(0,g.default)(this,n),t.call(this,e)}return(0,y.default)(n,[{key:"deleteMessages",value:function(e){return x(this,void 0,void 0,l.default.mark((function t(){return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Hs.onFailed(e,"Delete CS message is not supported yet");case 1:case"end":return t.stop()}}),t)})))}},{key:"recallMessage",value:function(e){return x(this,void 0,void 0,l.default.mark((function t(){return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Hs.onFailed(e,"Recall CS message is not supported yet");case 1:case"end":return t.stop()}}),t)})))}}]),n}(Di),Wi=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"initialListeners",value:function(){var e=this;Ms.on(ii.MESSAGE_SENDING,(function(t){return e.onMessageSending(t)})),Ms.on(ii.MESSAGE_SEND_SUCCESS,(function(t){return e.onMessageSendSuccess(t)})),Ms.on(ii.MESSAGE_SEND_FAILED,(function(t){return e.onMessageSendFailed(t)})),Ms.on(ii.MESSAGE_RECEIVED,(function(t){return e.onMessageReceived(t)})),Ms.on(ii.CS_AGENT_MESSAGE_RECEIVED,(function(t){return e.onMessageReceived(t)})),Ms.on(ii.CS_ACCEPTED,(function(t){return e.onMessageReceived(t)})),Ms.on(ii.CS_ENDED,(function(t){return e.onMessageReceived(t)})),Ms.on(ii.CS_TRANSFER,(function(t){return e.onMessageReceived(t)})),$s.s().addMessageObserver(Rs.IM_MSG_READ,this.onRemoteMarkRead.bind(this)),$s.s().addMessageObserver(Rs.IM_MSG_DELETED,this.onRemoteMessageDeleted.bind(this)),$s.s().addMessageObserver(Rs.IM_MSG_RECALLED,this.onRemoteMessageRecalled.bind(this)),$s.s().addDisconnectedObserver(this.onDisconnected.bind(this))}},{key:"loadHistory",value:function(e,t){return x(this,void 0,void 0,l.default.mark((function n(){var s,i,r;return l.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=this.queryToTarget(e,t),i=this.findOrCreateHistory(s),n.next=4,i.loadHistory(e.lastTimestamp,e.limit);case 4:r=n.sent,Hs.onSuccess(e,{code:200,content:r});case 6:case"end":return n.stop()}}),n,this)})))}},{key:"queryToTarget",value:function(e,t){if(Pn.isDef(e.userId))return new bi(Yr.PRIVATE,e.userId);if(Pn.isDef(e.groupId))return new bi(Yr.GROUP,e.groupId);if(Pn.isDef(e.type)){if(!Object.values(Yr).includes(e.type))throw new Error("incorrect type, must be: "+Object.values(Yr));if(Pn.isUndef(e.id))throw new Error("If type is not empty, id is required.");return Yr.CS==e.type&&Pn.isUndef(t)&&(t=e.id),new bi(e.type,e.id,t)}throw new Error("incorrect query options.")}},{key:"onMessageSending",value:function(e){var t=bi.byIMMessage(e);this.findOrCreateHistory(t).onMessageSending(e)}},{key:"onMessageSendSuccess",value:function(e){var t=bi.byIMMessage(e);this.findHistory(t).onMessageSendSuccess(e)}},{key:"onMessageSendFailed",value:function(e){var t=bi.byIMMessage(e);this.findHistory(t).onMessageSendFailed(e)}},{key:"onMessageReceived",value:function(e){var t=bi.byIMMessage(e);this.findOrCreateHistory(t).onMessageReceived(e)}},{key:"privateMarkAsRead",value:function(e){return x(this,void 0,void 0,l.default.mark((function t(){var n;return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!Pn.isUndef(e.userId)){t.next=2;break}throw new Error("userId could not be empty.");case 2:return n=bi.byScene(Yr.PRIVATE,e.userId),t.next=5,this.markAsRead(n,e);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"groupMarkAsRead",value:function(e){return x(this,void 0,void 0,l.default.mark((function t(){var n;return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!Pn.isUndef(e.groupId)){t.next=2;break}throw new Error("groupId could not be empty.");case 2:return n=bi.byScene(Yr.GROUP,e.groupId),t.next=5,this.markAsRead(n,e);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"markMessageAsRead",value:function(e,t){return x(this,void 0,void 0,l.default.mark((function n(){var s;return l.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!Pn.isUndef(e.id)){n.next=2;break}throw new Error("id could not be empty.");case 2:if(Object.values(Yr).includes(e.type)){n.next=4;break}throw new Error("incorrect type, must be: "+Object.values(Yr));case 4:return Yr.CS==e.type&&Pn.isUndef(t)&&(t=e.id),s=bi.byScene(e.type,e.id,t),n.next=8,this.markAsRead(s,e);case 8:case"end":return n.stop()}}),n,this)})))}},{key:"markAsRead",value:function(e,t){return x(this,void 0,void 0,l.default.mark((function n(){var s;return l.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=this.findHistory(e),n.t0=s,!n.t0){n.next=5;break}return n.next=5,s.markRead();case 5:Hs.onSuccess(t);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"onRemoteMarkRead",value:function(e){var t=bi.byMessageReadRemoteEvent(e),n=this.findHistory(t);n&&n.syncMarkedMessage(e)}},{key:"deleteMessage",value:function(e){return x(this,void 0,void 0,l.default.mark((function t(){var n,s,i;return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validateMessageArray(e.messages),Ei.validate(e),n=e.messages[0],s=bi.byIMMessage(n),i=this.findHistory(s),i){t.next=4;break}throw{code:400,content:"No message that could be deleted"};case 4:return t.next=6,i.deleteMessages(e);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"onRemoteMessageDeleted",value:function(e){var t=bi.byIMMessageDeletedEvent(e),n=this.findHistory(t);n&&n.syncDeletedMessage(e.deleterId,e.times)}},{key:"recallMessage",value:function(e){return x(this,void 0,void 0,l.default.mark((function t(){var n,s,i;return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.validateMessageArray(e.messages),xi.validate(e),n=e.messages[0],s=bi.byIMMessage(n),i=this.findHistory(s),i){t.next=4;break}throw{code:400,content:"No message that could be recalled"};case 4:return t.next=6,i.recallMessage(e);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"onRemoteMessageRecalled",value:function(e){var t=bi.byRemoteRecallEvent(e),n=this.findHistory(t);n&&n.syncRecalledMessage(e.times)}},{key:"onDisconnected",value:function(){this.map.forEach((function(e,t){e.expire()}))}},{key:"findOrCreateHistory",value:function(e){var t=this.findHistory(e);return t||(t=e.scene===Yr.CS?$s.u()===e.customerId()?new Hi(e):new qi(e):new Di(e),this.map.set(e.toString(),t),t)}},{key:"findHistory",value:function(e){return this.map.get(e.toString())}},{key:"validateMessageArray",value:function(e){if(!Pn.isArray(e)||Pn.isEmpty(e))throw{code:400,content:"messages requires non empty array"};if(e.length>50)throw{code:400,content:"The maximum number of messages is 50"};for(var t=bi.byIMMessage(e[0]),n=0;n<e.length;n++){var s=e[n];if(!(s instanceof gi))throw{code:400,content:"message["+n+"] is not a correct message"};if(n>0){var i=bi.byIMMessage(s);if(i.scene!==t.scene||i.id!==t.id)throw{code:400,content:"each message must be from the same friend or group"}}}}}],[{key:"init",value:function(){return e.instance||(e.instance=new e),e.instance.map=new Map,e.instance}},{key:"get",value:function(t){return e.instance.findOrCreateHistory(t)}}]),e}(),zi=function(){function e(t){(0,g.default)(this,e),this.top=!1,this.data=null,this.dataLoaded=!1,this.target=t}return(0,y.default)(e,[{key:"toDto",value:function(){var e=this.target.scene,t=this.target.id,n=new Kr;return e===Yr.PRIVATE?n.userId=t:e===Yr.GROUP?n.groupId=t:e===Yr.CS&&(n.id=this.target.teamId),n.type=e,n.lastMessage=this.getMaxMessage(),n.unread=this.getUnreadAmount(),n.top=this.top,n.data=this.data,n}},{key:"getMaxMessage",value:function(){return Wi.get(this.target).getMaxMessage()}},{key:"getUnreadAmount",value:function(){return Wi.get(this.target).unreadAmount()}},{key:"maxMessageTime",value:function(){return Wi.get(this.target).maxTime()}}]),e}(),Yi=function(e){(0,h.default)(n,e);var t=C(n);function n(e){var s;return(0,g.default)(this,n),s=t.call(this,e),s.accepted=!1,s}return(0,y.default)(n,[{key:"toDto",value:function(){var e=new Kr,t=this.target.scene,n=this.target.id,s=this.target.teamId;return e.id=n,e.teamId=s,e.type=t,e.lastMessage=this.getMaxMessage(),e.unread=this.getUnreadAmount(),e.top=this.top,e.data=this.data,e.ended=this.isEnded(),e}},{key:"isEnded",value:function(){var e=this.getMaxMessage(),t=e.type,n=e.payload;return t===ri.END||t===ri.TRANSFER&&n.transferTo.id!==$s.u()}},{key:"getMaxMessage",value:function(){return Wi.get(this.target).getMaxMessage(this.accepted)}},{key:"getUnreadAmount",value:function(){return Wi.get(this.target).unreadAmount(this.accepted)}},{key:"maxMessageTime",value:function(){return Wi.get(this.target).maxTime(this.accepted)}}]),n}(zi),Xi=(0,y.default)((function e(t,n,s,i){(0,g.default)(this,e),this.type=t,this.top=n,this.targetId=s,this.teamId=i})),Ji=(0,y.default)((function e(t,n,s){(0,g.default)(this,e),this.type=t,this.targetId=n,this.teamId=s})),Ki=(0,y.default)((function e(t,n,s){(0,g.default)(this,e),this.type=t,this.targetId=n,this.teamId=s})),Qi=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"top",value:function(e,t){var n=new Xi(e.scene,t,e.id,e.teamId);return new Promise((function(e,t){var s=new ns({name:ws.topConversation,params:n,permission:mn.WRITE,singleTimeout:ps.commonRequestSingle,totalTimeout:ps.commonRequestTotal,success:function(n){200===n.code?e(n):t(n)},fail:function(e){t(e)}});$s.s().emit(s)}))}},{key:"remove",value:function(e){var t=new Ji(e.scene,e.id,e.teamId);return new Promise((function(e,n){var s=new ns({name:ws.removeConversation,params:t,permission:mn.WRITE,singleTimeout:ps.commonRequestSingle,totalTimeout:ps.commonRequestTotal,success:function(t){200==t.code?e(t):n(t)},fail:function(e){n(e)}});$s.s().emit(s)}))}},{key:"query",value:function(e){var t=this;return new Promise((function(n,s){var i=new ns({name:e,params:{},permission:mn.READ,singleTimeout:ps.commonQuerySingle,totalTimeout:ps.commonQueryTotal,fail:function(e){s(e)},success:function(e){return x(t,void 0,void 0,l.default.mark((function t(){return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n(e);case 1:case"end":return t.stop()}}),t)})))}});$s.s().emit(i)}))}},{key:"loadData",value:function(e){var t=new Ki(e.scene,e.id,e.teamId);return new Promise((function(e,n){var s=new ns({name:ws.imData,params:t,permission:mn.READ,singleTimeout:ps.commonQuerySingle,totalTimeout:ps.commonQueryTotal,success:function(t){var n=JSON.parse(t.content);e(n)},fail:function(e){n(e)}});$s.s().emit(s)}))}}]),e}();Qi.instance=new Qi;var Zi=function(){function e(){var t=this;(0,g.default)(this,e),this.list=new Array,this.builder=new Ti,this.remoteConversations=Qi.instance,this.synchronized=!1,Ms.on(ii.MAX_MESSAGE_CHANGED,(function(e){return t.onMaxMessageChanged(e)})),Ms.on(ii.UNREAD_AMOUNT_CHANGED,(function(e){return t.onUnreadMessageChanged(e)})),Ms.on(ii.MAX_MESSAGE_DELETED,(function(e){return t.onMaxMessageDeleted(e)}))}return(0,y.default)(e,[{key:"onUnreadMessageChanged",value:function(e){this.findConversation(e)&&this.fireUpdated()}},{key:"fireUpdated",value:function(){var e=this.loadLocalConversations(),t=this.getUpdatedEventName();Lr.aec.fire(t,{unreadTotal:e.content.unreadTotal,conversations:e.content.conversations})}},{key:"getUpdatedEventName",value:function(){return Ds.CONVERSATIONS_UPDATED}},{key:"latestConversations",value:function(e){return x(this,void 0,void 0,l.default.mark((function t(){var n;return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.t0=this.synchronized,t.t0){t.next=4;break}return t.next=4,this.loadServerConversations();case 4:n=this.loadLocalConversations(),Hs.onSuccess(e,n);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"loadServerConversations",value:function(){return x(this,void 0,void 0,l.default.mark((function e(){var t,n;return l.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.rocketName(),e.next=3,this.remoteConversations.query(t);case 3:n=e.sent,this.convertAbbrConversation(n.content),this.synchronized=!0;case 5:case"end":return e.stop()}}),e,this)})))}},{key:"rocketName",value:function(){return ws.imLastConversations}},{key:"convertAbbrConversation",value:function(e){var t,n=e,s=w(n);try{for(s.s();!(t=s.n()).done;){var i=t.value,r=i.t,a=i.top,o=i.d?JSON.parse(i.d):{},u=i.userOffsets;i.lmsg.t=r;var c=i.lmsg,l=this.builder.build(c),f=bi.byIMMessage(l),d=this.findConversation(f);Pn.isUndef(d)?(d=this.buildByAbbr(i,l),this.insertOne(d)):(d.top=a,d.data=o),Wi.get(f).initMaxMessageAndOffsets(l,u),this.correctPosition(d)}}catch(p){s.e(p)}finally{s.f()}}},{key:"onMaxMessageDeleted",value:function(e){this.removeConversation(e)}},{key:"onMaxMessageChanged",value:function(e){return x(this,void 0,void 0,l.default.mark((function t(){var n;return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.scene()!==Yr.CS){t.next=4;break}if(n=e,$s.u()==n.customerId()||!1!==n.accepted&&(n.type!==ri.ACCEPT||n.senderId==$s.u())){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,this.saveOrUpdateConversation(e);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"saveOrUpdateConversation",value:function(e){return x(this,void 0,void 0,l.default.mark((function t(){var n,s,i;return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.status,s=bi.byIMMessage(e),i=this.findConversation(s),t.t0=Pn.isUndef(i)&&n!==Xr.FAIL,!t.t0){t.next=11;break}if(i=this.buildByMessage(e),this.insertOne(i),t.t1=n===Xr.SUCCESS,!t.t1){t.next=11;break}return t.next=9,this.remoteConversations.loadData(s);case 9:i.data=t.sent,i.dataLoaded=!0;case 11:n===Xr.SENDING&&(i.data=e.getToData(),i.dataLoaded=!0),i&&i.dataLoaded&&(this.correctPosition(i),this.fireUpdated());case 13:case"end":return t.stop()}}),t,this)})))}},{key:"loadLocalConversations",value:function(){var e,t=0,n=new Array,s=w(this.list);try{for(s.s();!(e=s.n()).done;){var i=e.value;if(i.dataLoaded&&i.getMaxMessage()){t+=i.getUnreadAmount();var r=i.toDto();n.push(r)}}}catch(a){s.e(a)}finally{s.f()}return{code:200,content:{unreadTotal:t,conversations:n}}}},{key:"findConversationIndex",value:function(e){return this.list.findIndex((function(t){return e.toString()===t.target.toString()}))}},{key:"findConversation",value:function(e){var t=this.findConversationIndex(e);return this.list[t]}},{key:"removeLocalConversation",value:function(e){var t=this.findConversationIndex(e.target);this.list.splice(t,1)}},{key:"insertOne",value:function(t){e.sortedInserter.insert(this.list,t),this.list.length>e.CONVERSATIONS_MAX_LENGTH&&(this.list=this.list.slice(0,e.CONVERSATIONS_MAX_LENGTH))}},{key:"correctPosition",value:function(e){this.removeLocalConversation(e),this.insertOne(e)}},{key:"removeConversation",value:function(e){var t=this.findConversation(e);t&&(this.removeLocalConversation(t),this.fireUpdated())}},{key:"top",value:function(e,t,n){return x(this,void 0,void 0,l.default.mark((function s(){var i;return l.default.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(Pn.isBoolean(t)){s.next=2;break}throw new Error("top must be boolean.");case 2:if(i=this.findConversation(e),i){s.next=5;break}throw new Error("conversation does not exist.");case 5:if(s.t0=i.top!=t,!s.t0){s.next=11;break}return s.next=9,this.remoteConversations.top(e,t);case 9:i.top=t,this.correctPosition(i);case 11:this.fireUpdated(),Hs.onSuccess(n);case 13:case"end":return s.stop()}}),s,this)})))}},{key:"remove",value:function(e,t){return x(this,void 0,void 0,l.default.mark((function n(){var s;return l.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=this.findConversation(e),s){n.next=3;break}throw new Error("conversation does not exist.");case 3:if(!(s instanceof Yi)||s.isEnded()){n.next=5;break}throw new Error("CS conversation can only be deleted after it ends");case 5:return n.next=7,this.remoteConversations.remove(e);case 7:this.removeLocalConversation(s),this.fireUpdated(),Hs.onSuccess(t);case 10:case"end":return n.stop()}}),n,this)})))}},{key:"buildByAbbr",value:function(e,t){var n,s=bi.byIMMessage(t);if(e.t===Yr.CS){var i=t;$s.u()===i.customerId()?n=new zi(s):(n=new Yi(s),n.accepted=i.accepted)}else n=new zi(s);return n.dataLoaded=!0,n.top=e.top,n.data=e.d?JSON.parse(e.d):{},n}},{key:"buildByMessage",value:function(e){var t,n=bi.byIMMessage(e);if(e.scene()===Yr.CS){var s=e;$s.u()===s.customerId()?t=new zi(n):(t=new Yi(n),t.accepted=s.accepted)}else t=new zi(n);return t}}]),e}();Zi.CONVERSATIONS_MAX_LENGTH=200,Zi.sortedInserter=new(function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"compare",value:function(e,t){var n;if(e.top==t.top){var s=e.maxMessageTime();n=t.maxMessageTime()-s}else n=e.top?-1:1;return 0===n?0:n>0?1:-1}}]),n}(_i));var er,tr=function(e){(0,h.default)(n,e);var t=C(n);function n(){var e;return(0,g.default)(this,n),e=t.call(this),e.expired=!1,Ms.on(ii.CS_ONLINE_SUCCESS,(function(){return e.onCSOnlineSuccess()})),Ms.on(ii.CS_OFFLINE_SUCCESS,(function(){return e.onCSOfflineSuccess()})),$s.s().addDisconnectedObserver(e.onDisconnected.bind((0,f.default)(e))),$s.s().addConnectedObserver(e.onConnected.bind((0,f.default)(e))),e}return(0,y.default)(n,[{key:"onMaxMessageChanged",value:function(e){return x(this,void 0,void 0,l.default.mark((function t(){var n,s;return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.scene()!==Yr.CS){t.next=10;break}if(n=e,n.customerId()==$s.u()||!1!==n.accepted&&n.type!==ri.ACCEPT){t.next=10;break}if(ri.ACCEPT!==e.type){t.next=8;break}s=bi.byIMMessage(e),this.removeConversation(s),t.next=10;break;case 8:return t.next=10,this.saveOrUpdateConversation(e);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"latestConversations",value:function(e){var t=this,s=Object.create(null,{latestConversations:{get:function(){return(0,p.default)((0,m.default)(n.prototype),"latestConversations",t)}}});return x(this,void 0,void 0,l.default.mark((function t(){var n;return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=this.synchronized,t.next=3,s.latestConversations.call(this,e);case 3:this.list.length>0&&!n&&this.fireUpdated();case 4:case"end":return t.stop()}}),t,this)})))}},{key:"onUnreadMessageChanged",value:function(e){}},{key:"onCSOnlineSuccess",value:function(){return x(this,void 0,void 0,l.default.mark((function e(){return l.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadServerConversations();case 2:this.fireUpdated();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"onCSOfflineSuccess",value:function(){this.list=[],this.fireUpdated()}},{key:"getUpdatedEventName",value:function(){return Ds.PENDING_CONVERSATIONS_UPDATED}},{key:"rocketName",value:function(){return ws.CS_PENDING_CONVERSATION}},{key:"convertAbbrConversation",value:function(e){return x(this,void 0,void 0,l.default.mark((function t(){var n,s,i,r,a,o,u,c,f,d,p;return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e,s=w(n);try{for(s.s();!(i=s.n()).done;)r=i.value,r.lastMessage.t=Yr.CS,a=r.customerData,o=r.lastMessage,u=r.userOffsets,c=a?JSON.parse(a):{},f=this.builder.build(o),d=bi.byIMMessage(f),p=this.findConversation(d),Pn.isUndef(p)&&(p=new Yi(d),p.accepted=f.accepted,p.dataLoaded=!0,this.insertOne(p)),p.top=!1,p.data=c,Wi.get(d).initPendingMaxMessageAndOffsets(f,u),this.correctPosition(p)}catch(l){s.e(l)}finally{s.f()}case 3:case"end":return t.stop()}}),t,this)})))}},{key:"onDisconnected",value:function(){this.expired=!0}},{key:"onConnected",value:function(){return x(this,void 0,void 0,l.default.mark((function e(){var t;return l.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=$s.supportIM(),e.t0=this.expired&&t,!e.t0){e.next=8;break}return this.expired=!1,this.list=[],e.next=7,this.loadServerConversations();case 7:this.fireUpdated();case 8:case"end":return e.stop()}}),e,this)})))}}]),n}(Zi),nr=function(){function e(){(0,g.default)(this,e),this.conversations=new Zi,this.pendingConversations=new tr}return(0,y.default)(e,[{key:"latestConversations",value:function(e){this.conversations.latestConversations(e)}},{key:"latestPendingConversations",value:function(e){this.pendingConversations.latestConversations(e)}},{key:"topPrivateConversation",value:function(e){var t=bi.byScene(Yr.PRIVATE,e.userId);this.conversations.top(t,e.top,e)}},{key:"topGroupConversation",value:function(e){var t=bi.byScene(Yr.GROUP,e.groupId);this.conversations.top(t,e.top,e)}},{key:"topConversation",value:function(e){var t=e.conversation;this.validateConversationDTO(t);var n=bi.byConversationDTO(t);this.conversations.top(n,e.top,e)}},{key:"removePrivateConversation",value:function(e){var t=bi.byScene(Yr.PRIVATE,e.userId);this.conversations.remove(t,e)}},{key:"removeGroupConversation",value:function(e){var t=bi.byScene(Yr.GROUP,e.groupId);this.conversations.remove(t,e)}},{key:"removeConversation",value:function(e){var t=e.conversation;this.validateConversationDTO(t);var n=bi.byConversationDTO(t);this.conversations.remove(n,e)}},{key:"validateConversationDTO",value:function(e){if(!(e instanceof Kr))throw new Error("Incorrect conversation object.");var t=e.lastMessage;if(t instanceof Ii&&t.customerId()!==$s.u()&&!1===t.accepted)throw new Error("pending conversation cannot be topped or removed.")}}]),e}(),sr=function(){function e(){(0,g.default)(this,e),this.builder=new Ti,ks.instance.addAssembler(new(function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"assemble",value:function(e){var t={messageId:e.id,timestamp:e.tm,type:e.t,senderId:e.sid,toType:e.tt};return e.tt===Yr.GROUP&&(t.groupId=e.gid),t}},{key:"support",value:function(e){return!!e.sid}}]),e}()))}return(0,y.default)(e,[{key:"initialGoEasySocket",value:function(){$s.s().addMessageObserver(Rs.imMessage,this.onMessageReceived.bind(this))}},{key:"onMessageReceived",value:function(e){if(e.t!==Yr.CS){var t=this.builder.build(e);this.sendAck(t);var n=bi.byIMMessage(t),s=n.scene;Wi.get(n).existsMessage(t)||(this.createNotification(e),Ms.fire(ii.MESSAGE_RECEIVED,t),s===Yr.PRIVATE?Lr.aec.fire(Ds.PRIVATE_MESSAGE_RECEIVED,t):s===Yr.GROUP&&Lr.aec.fire(Ds.GROUP_MESSAGE_RECEIVED,t))}}},{key:"sendAck",value:function(e){$s.s().sendAck("imAck",{publishGuid:e.messageId})}},{key:"createNotification",value:function(e){var t=ks.instance.supportNotification();if(Pn.isObject(e.nt)&&e.s!==$s.u()&&t){var n={id:e.i,tm:e.ts,t:e.mt,sid:e.s,tt:e.t};n.tt===Yr.GROUP&&(n.gid=e.r),ks.instance.createLocalNotification(e.nt.t,e.nt.c,n)}}}]),e}(),ir=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"subscribe",value:function(e){Ps.validateIdArray(e.groupIds,"groupIds"),e.groupIds=e.groupIds.toString().split(",");var t=new ns({name:ws.subscribeGroups,params:{groupIds:e.groupIds,at:e.accessToken},permission:mn.WRITE,singleTimeout:ps.commonInfiniteSingle,totalTimeout:ps.commonInfiniteTotal,success:function(){Hs.onSuccess(e,{code:200,content:"ok"})},fail:function(t){Hs.onFailed(e,{code:t.resultCode||408,content:t.content||"Failed to subscribe group message"})}});$s.s().emit(t)}},{key:"unsubscribe",value:function(e){Ps.validateId(e.groupId,"groupId"),e.groupId=e.groupId.toString();var t=new ns({name:ws.unsubscribeGroup,params:{groupId:e.groupId},permission:mn.READ,singleTimeout:ps.commonRequestSingle,totalTimeout:ps.commonRequestTotal,success:function(){Hs.onSuccess(e,{code:200,content:"ok"})},fail:function(t){Hs.onFailed(e,{code:t.resultCode||408,content:t.content||"Failed to unsubscribe group message"})}});$s.s().emit(t)}}]),e}(),rr=function(){function e(){(0,g.default)(this,e),$s.s().addMessageObserver(Rs.groupPresence,this.newMessageReceived.bind(this))}return(0,y.default)(e,[{key:"presence",value:function(e){Ps.validateIdArray(e.groupIds,"groupIds"),e.groupIds.toString().split(",");var t={groupIds:e.groupIds};this.emitRocket(ws.subscribeGroupPresence,t,(function(){Hs.onSuccess(e,{code:200,content:"ok"})}),(function(t){Hs.onFailed(e,{code:t.code||408,content:t.content||"Failed to subscribe group message"})}),ps.commonInfiniteSingle,ps.commonInfiniteTotal)}},{key:"unPresence",value:function(e){Ps.validateId(e.groupId,"groupId"),e.groupId=e.groupId.toString();var t={groupId:e.groupId};this.emitRocket(ws.unsubscribeGroupPresence,t,(function(){Hs.onSuccess(e,{code:200,content:"ok"})}),(function(t){Hs.onFailed(e,{code:t.code||408,content:t.content||"Failed to unsubscribe presence"})}),ps.commonRequestSingle,ps.commonRequestTotal)}},{key:"emitRocket",value:function(e,t,n,s,i,r){var a=new ns({name:e,params:t,singleTimeout:i,totalTimeout:r,permission:mn.WRITE,success:n,fail:s});$s.s().emit(a)}},{key:"newMessageReceived",value:function(e){var t=null;e.c&&(t=JSON.parse(e.c)),t&&t.events&&t.events.map((function(e){var n=e.userData?JSON.parse(e.userData):{},s={time:e.time,action:e.action,groupOnlineCount:t.userAmount,groupId:t.groupId,id:e.userId,data:n};Lr.aec.fire(Ds.GROUP_PRESENCE,s)}))}}]),e}(),ar=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"get",value:function(e){Ps.validateId(e.groupId,"groupId"),e.groupId=e.groupId.toString();var t=new ns({name:ws.imGroupOnlineCount,params:{groupId:e.groupId},permission:mn.READ,singleTimeout:ps.commonQuerySingle,totalTimeout:ps.commonQueryTotal,fail:function(t){Hs.onFailed(e,t||{code:408,content:"Failed to query online group users"})},success:function(t){200==t.code?Hs.onSuccess(e,t):Hs.onFailed(e,t)}});$s.s().emit(t)}}]),e}(),or=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"doHereNow",value:function(e,t,n){var s=new ns({name:e,params:t,permission:mn.READ,singleTimeout:ps.commonQuerySingle,totalTimeout:ps.commonQueryTotal,fail:function(e){Hs.onFailed(n,e)},success:function(e){var t=e.content;e.content=t.map((function(e){var t=e.userData?JSON.parse(e.userData):{};return{id:e.userId,data:t}})),Hs.onSuccess(n,e)}});$s.s().emit(s)}}]),e}(),ur=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"hereNow",value:function(e){Ps.validateId(e.groupId,"groupId"),e.groupId=e.groupId.toString();var t={groupId:e.groupId};this.doHereNow(ws.imGroupHereNow,t,e)}}]),n}(or),cr=function(){function e(){(0,g.default)(this,e),$s.s().addMessageObserver(Rs.userPresence,this.newMessageReceived.bind(this))}return(0,y.default)(e,[{key:"presence",value:function(e){Ps.validateIdArray(e.userIds,"userIds"),e.userIds.toString().split(",");var t={userIds:e.userIds};this.emitRocket(ws.subscribeUserPresence,t,(function(){Hs.onSuccess(e,{code:200,content:"ok"})}),(function(t){Hs.onFailed(e,{code:t.code||408,content:t.content||"Failed to subscribe group message"})}),ps.commonInfiniteSingle,ps.commonInfiniteTotal)}},{key:"unPresence",value:function(e){Ps.validateId(e.userId,"userId"),e.userId=e.userId.toString();var t={userId:e.userId};this.emitRocket(ws.unsubscribeUserPresence,t,(function(){Hs.onSuccess(e,{code:200,content:"ok"})}),(function(t){Hs.onFailed(e,{code:t.code||408,content:t.content||"Failed to unsubscribe presence"})}),ps.commonRequestSingle,ps.commonRequestTotal)}},{key:"emitRocket",value:function(e,t,n,s,i,r){var a=new ns({name:e,params:t,singleTimeout:i,totalTimeout:r,permission:mn.WRITE,success:n,fail:s});$s.s().emit(a)}},{key:"newMessageReceived",value:function(e){var t=[];e.c&&(t=JSON.parse(e.c).events||[]),t.map((function(e){var t=e.userData?JSON.parse(e.userData):{},n={time:e.time,action:e.action,id:e.userId,data:t};Lr.aec.fire(Ds.USER_PRESENCE,n)}))}}]),e}(),lr=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"hereNow",value:function(e){var t=e.userIds;Ps.validateIdArray(t,"userIds"),t.toString().split(","),this.doHereNow(ws.imHereNow,e,e)}}]),n}(or),fr=new(function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"fileExtension",value:function(e,t){if(Pn.isString(e))try{var n=e.split(t);return n[n.length-1]}catch(e){throw Error(e)}}}]),e}()),dr=(0,y.default)((function e(){(0,g.default)(this,e)})),pr=function(e){(0,h.default)(n,e);var t=C(n);function n(){var e;return(0,g.default)(this,n),e=t.apply(this,arguments),e.contentType="",e.name="",e.size=0,e.url="",e}return(0,y.default)(n)}(dr),hr=function(e){(0,h.default)(n,e);var t=C(n);function n(){var e;return(0,g.default)(this,n),e=t.apply(this,arguments),e.width=0,e.height=0,e}return(0,y.default)(n)}(pr),vr=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"build",value:function(e){this.validate(e.createOptions);var t=this.create();return this.setPayload(e,t),t}}]),e}(),mr=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"create",value:function(){return new pr}},{key:"setPayload",value:function(e,t){var n=t,s=e.createOptions.file;n.url=s.path,n.name=s.name,n.size=s.size,n.contentType=s.type,e.complete=Promise.resolve()}},{key:"validate",value:function(e){if(!Pn.isObject(e))throw Error("it is an empty message.");if(!Pn.isDef(e.file))throw Error("file is empty.")}}]),n}(vr),gr=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"create",value:function(){return new hr}},{key:"setPayload",value:function(e,t){(0,p.default)((0,m.default)(n.prototype),"setPayload",this).call(this,e,t);var s=e.createOptions.file,i=t,a=s.path||s.tempFilePath,o=Pn.isEmpty(s.name)||void 0===s.name?a:s.name;i.name="wx-image."+fr.fileExtension(o,"."),i.contentType="image/"+fr.fileExtension(o,"."),i.url=a,i.size=s.size,e.complete=new Promise((function(e,t){r.getImageInfo({src:i.url,success:function(t){i.width=t.width,i.height=t.height,e()},fail:function(e){t(e)}})}))}},{key:"validate",value:function(e){(0,p.default)((0,m.default)(n.prototype),"validate",this).call(this,e)}}]),n}(mr),yr=function(e){(0,h.default)(n,e);var t=C(n);function n(){var e;return(0,g.default)(this,n),e=t.apply(this,arguments),e.duration=0,e}return(0,y.default)(n)}(pr),_r=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"create",value:function(){return new yr}},{key:"setPayload",value:function(e,t){(0,p.default)((0,m.default)(n.prototype),"setPayload",this).call(this,e,t);var s=e.createOptions.file,i=t,r=s.tempFilePath,a=Pn.isEmpty(s.name)||null==s.name?r:s.name,o=s.duration,u=s.fileSize;i.url=r,i.size=u,i.duration=o/1e3,i.name="wx-audio."+fr.fileExtension(a,"."),i.contentType="audio/"+fr.fileExtension(a,"."),e.complete=Promise.resolve()}},{key:"validate",value:function(e){(0,p.default)((0,m.default)(n.prototype),"validate",this).call(this,e)}}]),n}(mr),wr=function(e){(0,h.default)(n,e);var t=C(n);function n(){var e;return(0,g.default)(this,n),e=t.apply(this,arguments),e.text="",e}return(0,y.default)(n)}(dr),br=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"create",value:function(){return new wr}},{key:"setPayload",value:function(e,t){var n=t,s=e.createOptions;n.text=s.text,e.complete=Promise.resolve()}},{key:"validate",value:function(e){if(Pn.isEmpty(e.text))throw{code:400,content:"text is empty"};if(!Pn.isString(e.text))throw{code:400,content:"TypeError: text requires string."};if(""===e.text.trim())throw{code:400,content:"text is empty"};if(e.text.length>2500)throw{code:400,content:"Message text over max length 2500"}}}]),n}(vr),Cr=function(e){(0,h.default)(n,e);var t=C(n);function n(){var e;return(0,g.default)(this,n),e=t.apply(this,arguments),e.video=new kr,e.thumbnail=new Er,e}return(0,y.default)(n)}(dr),Er=function(){function e(){(0,g.default)(this,e),this.name="",this.url="",this.width=0,this.height=0,this.contentType=""}return(0,y.default)(e,[{key:"initURL",value:function(e){var t=gs.currentPlatform();[hs.APP_IOS,hs.APP_ANDROID].includes(t)?this.appUrl(e):[hs.APPLET_WX,hs.APPLET_WX_GAME].includes(t)?this.wxUrl(e):this.htmlUrl(e)}},{key:"htmlUrl",value:function(e){var t=document.createElement("canvas");t.width=e.videoWidth,t.height=e.videoHeight,t.getContext("2d").drawImage(e,0,0,t.width,t.height),this.url=t.toDataURL("image/png")}},{key:"wxUrl",value:function(e){}},{key:"appUrl",value:function(e){}}]),e}(),kr=(0,y.default)((function e(){(0,g.default)(this,e),this.name="",this.url="",this.width=0,this.height=0,this.contentType="",this.size=0,this.duration=0})),xr=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"create",value:function(){return new Cr}},{key:"setPayload",value:function(e,t){var n=e.createOptions.file,s=t,i=s.video,r=s.thumbnail,a=n.duration,o=n.height,u=n.size,c=n.tempFilePath,l=n.thumbTempFilePath,f=n.width,d=n.name,p=void 0===d?"":d,h=Pn.isEmpty(p)?c:p;i.contentType="video/"+fr.fileExtension(h,"."),i.name="wx-video."+fr.fileExtension(h,"."),i.url=c,i.width=r.width=f,i.height=r.height=o,i.size=u,i.duration=a,r.url=l,r.contentType="image/jpg",r.name="wx-thumbnail.jpg",e.complete=Promise.resolve()}},{key:"validate",value:function(e){if(!Pn.isObject(e))throw Error("it is an empty message.");if(!Pn.isDef(e.file))throw Error("file is empty.")}}]),n}(vr),Sr=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"create",value:function(){return new pr}},{key:"setPayload",value:function(e,t){var n=t,s=e.createOptions.file;n.url=s.fullPath,n.name=s.name,n.size=s.size,n.contentType=s.type,s.type,e.complete=Promise.resolve()}},{key:"validate",value:function(e){if(!Pn.isObject(e))throw Error("it is an empty message.");if(!Pn.isDef(e.file))throw Error("file is empty.")}}]),n}(vr),Mr=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"create",value:function(){return new hr}},{key:"setPayload",value:function(e,t){var n=t,s=e.createOptions.file;n.url=s.path,n.size=s.size;var i=Pn.isEmpty(s.name)||void 0===s.name?s.path:s.name;n.contentType="image/"+fr.fileExtension(i,"."),n.name="uni-image."+fr.fileExtension(i,"."),e.complete=new Promise((function(e,t){uni.getImageInfo({src:s.path,success:function(t){n.width=t.width,n.height=t.height,e()},fail:function(e){t(e)}})}))}},{key:"validate",value:function(e){(0,p.default)((0,m.default)(n.prototype),"validate",this).call(this,e)}}]),n}(Sr),Ar=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"create",value:function(){return new yr}},{key:"setPayload",value:function(e,t){var n=e.createOptions,s=t,i=n.file,r=i.tempFilePath,a=Pn.isEmpty(i.name)||null==i.name?r:i.name;s.url=r,s.name="uni-audio."+fr.fileExtension(a,"."),s.contentType="audio/"+fr.fileExtension(a,"."),e.complete=new Promise((function(e,t){uni.getFileInfo({filePath:r,success:function(i){var a=i.size;if(s.size=a,0===a)e();else if(Pn.isDef(n.file.duration))s.duration=n.file.duration/1e3,e();else{var o=uni.createInnerAudioContext();o.src=r,o.onCanplay((function(n){n.errCode?(o.destroy(),t(n)):(s.duration=o.duration,o.destroy(),e())})),o.onError((function(n){o.destroy(),-99===n.errCode?e():t(n)}))}},fail:function(e){t(e)}})}))}},{key:"validate",value:function(e){(0,p.default)((0,m.default)(n.prototype),"validate",this).call(this,e)}}]),n}(Sr),Or=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"create",value:function(){return new Cr}},{key:"setPayload",value:function(e,t){var n=e.createOptions.file,s=t,i=s.video,r=s.thumbnail,a=n.duration,o=n.height,u=n.size,c=n.tempFilePath,l=n.width,f=n.name,d=void 0===f?"":f,p=Pn.isEmpty(d)?c:d;i.size=u,i.width=l,i.height=o,i.url=c,i.duration=a,i.contentType="video/"+fr.fileExtension(p,"."),i.name="uni-video."+fr.fileExtension(p,"."),r.url=c,r.height=200,r.width=Number((i.width*r.height/i.height).toFixed(0)),r.contentType="image/jpg",r.name="uni-thumbnail.jpg",e.complete=Promise.resolve()}},{key:"validate",value:function(e){if(!Pn.isObject(e))throw Error("it is an empty message.");if(!Pn.isDef(e.file))throw Error("file is empty.")}}]),n}(vr),Ir=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"create",value:function(){return new pr}},{key:"setPayload",value:function(e,t){var n=t,s=e.createOptions.file,i=window.URL||window.webkitURL;n.url=i.createObjectURL(s),n.name=s.name,n.size=s.size,n.contentType=s.type,e.complete=Promise.resolve()}},{key:"validate",value:function(e){if(!Pn.isObject(e))throw Error("it is an empty message.");if(!(e.file instanceof File))throw Error("wrong file type.");if(0==e.file.size)throw Error("File size is 0.");if(e.file.size>524288e3)throw Error("message-length limit 30mib")}}]),n}(vr),Tr=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"create",value:function(){return new hr}},{key:"setPayload",value:function(e,t){(0,p.default)((0,m.default)(n.prototype),"setPayload",this).call(this,e,t);var s=e.createOptions.file,i=t,r=window.URL||window.webkitURL,a=new Image;a.src=r.createObjectURL(s),e.complete=new Promise((function(e,t){a.onload=function(){i.width=a.width,i.height=a.height,r.revokeObjectURL(a.src),e()},a.onerror=function(e){r.revokeObjectURL(a.src),t(e)}}))}},{key:"validate",value:function(e){(0,p.default)((0,m.default)(n.prototype),"validate",this).call(this,e);var t=["gif","jpg","png","jpeg"];if(!t.find((function(t){return t===e.file.type.split("/")[1].toLowerCase()})))throw Error("Only "+t.join(",")+" is supported image.")}}]),n}(Ir),Pr=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"create",value:function(){return new yr}},{key:"setPayload",value:function(e,t){(0,p.default)((0,m.default)(n.prototype),"setPayload",this).call(this,e,t);var s=e.createOptions.file,i=t,r=window.URL||window.webkitURL,a=document.createElement("audio");a.src=r.createObjectURL(s),e.complete=new Promise((function(e,t){a.onloadedmetadata=function(){i.duration=a.duration,r.revokeObjectURL(a.src),e()},a.onerror=function(e){r.revokeObjectURL(a.src),t(e)}}))}},{key:"validate",value:function(e){(0,p.default)((0,m.default)(n.prototype),"validate",this).call(this,e);var t=["mp3","ogg","wav","wma","ape","acc","mpeg"];if(!t.find((function(t){return t===e.file.type.split("/")[1].toLowerCase()})))throw Error("Only "+t.join(",")+" is supported audio.")}}]),n}(Ir),$r=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"create",value:function(){return new Cr}},{key:"setPayload",value:function(e,t){var n=this,s=e.createOptions.file,i=t,r=i.video,a=i.thumbnail,o=window.URL||window.webkitURL,u=document.createElement("video");u.src=o.createObjectURL(s),r.size=s.size,r.name=s.name,r.contentType=s.type,r.url=u.src,a.name=s.name,a.contentType="image/jpg",e.complete=new Promise((function(e,t){u.onloadedmetadata=function(){r.duration=u.duration,r.width=u.videoWidth,r.height=u.videoHeight,a.width=u.videoWidth,a.height=u.videoHeight,a.url=n.getThumbnailUrl(u),o.revokeObjectURL(u.src),e()},u.onerror=function(e){o.revokeObjectURL(u.src),t(e)}}))}},{key:"getThumbnailUrl",value:function(e){var t=document.createElement("canvas");return t.width=e.videoWidth,t.height=e.videoHeight,t.getContext("2d").drawImage(e,0,0,t.width,t.height),t.toDataURL("image/png")}},{key:"validate",value:function(e){if(!Pn.isObject(e))throw Error("it is an empty message.");if(!(e.file instanceof File))throw Error("wrong file type.");if(0==e.file.size)throw Error("File size is 0.");if(e.file.size>31457280)throw Error("message-length limit 30mib");var t=["avi","mov","rmvb","rm","flv","mp4","3gp","quicktime"];if(!t.find((function(t){return t===e.file.type.split("/")[1].toLowerCase()})))throw Error("Only "+t.join(",")+" is supported video.")}}]),n}(vr),Nr=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n)}(dr),Rr=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"create",value:function(){return new Nr}},{key:"setPayload",value:function(e,t){var n=e.createOptions;t.payload=n.payload,e.complete=Promise.resolve()}},{key:"validate",value:function(e){var t=e.type,n=e.payload;if(Pn.isEmpty(t))throw Error("type is empty.");if(!Pn.isString(t))throw Error("type require a string");if(Pn.isEmpty(n))throw Error("payload is empty.");if(!Pn.isPlainObject(n)&&!Pn.isStringOrNumber(n))throw Error("payload require object | string | number.")}}]),n}(vr),Dr=(0,y.default)((function e(t,n){(0,g.default)(this,e),this.type=t,this.createOptions=n})),Fr=function(){function e(){var t;(0,g.default)(this,e),this.framework=_s.currentFramework();var n=gs.currentPlatform()===hs.APPLET_WX;this.payloadBuilders=(t={},(0,d.default)(t,vs.UNIAPP,{image:new Mr,file:new Sr,audio:new Ar,video:new Or,text:new br}),(0,d.default)(t,vs.NATIVE_APPLET_WX,{image:new gr,file:new mr,audio:new _r,video:new xr,text:new br}),(0,d.default)(t,vs.UNKNOWN,{image:new Tr,file:new Ir,audio:new Pr,video:new $r,text:new br}),(0,d.default)(t,vs.TARO,{image:n?new gr:new Tr,file:n?new mr:new Ir,audio:n?new _r:new Pr,video:n?new xr:new $r,text:new br}),t)}return(0,y.default)(e,[{key:"buildMessage",value:function(e,t){var n=this.payloadBuilders[this.framework][e],s=new Dr(e,t);if(n){var i=n.build(s);s.payload=i}else{var r=(new Rr).build(s);s.payload=r.payload}var a=this.build(s);return s.complete.then((function(){Hs.onSuccess(t,a)})).catch((function(e){Hs.onFailed(t,e)})),a}},{key:"build",value:function(e){var t,n=e.type,s=e.payload,i=e.createOptions,r=i.to,a=r.type;return this.validate(i),a===Yr.GROUP?(t=new Oi,t.groupId=r.id.toString(),t.senderData=$s.ud()):a===Yr.PRIVATE?(t=new Ai,t.read=!1,t.receiverId=r.id.toString()):a===Yr.CS&&(t=new Ii,t.to=r.id.toString(),t.teamId=r.id.toString(),t.senderData=$s.ud()),t.senderId=$s.u(),t.messageId=ts.get(),t.payload=s,t.timestamp=Date.now(),t.type=n,t.recalled=!1,t.status=Xr.NEW,t.buildOptions=e,t}},{key:"validate",value:function(e){var t=e.to;if(!t)throw new Error("message require property to.");if(!Pn.isObject(t))throw new Error("TypeError: to requires an object.");if(!Pn.isObject(t.data))throw new Error("TypeError: to.data requires an object.");if(!t.type||t.type!==Yr.GROUP&&t.type!==Yr.PRIVATE&&t.type!==Yr.CS)throw new Error("message require property to.type");if(Pn.isEmpty(t.id))throw new Error("message require property to.id");if(!Pn.isStringOrNumber(t.id))throw new Error("to.id should be a string or number.");if($s.u()===t.id)throw new Error("to.id can not be the same as your id.");e.notification&&Ps.validateNotification(e.notification),e.wxmpTemplateMsg&&Ps.validateWXMPTemplateMsg(e.wxmpTemplateMsg)}}]),e}(),Ur=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n,[{key:"onMessageReceived",value:function(e){var t=this;if(e.t===Yr.CS){var n=this.builder.build(e);this.sendAck(n);var s=bi.byIMMessage(n);Wi.get(s).existsMessage(n)||(n.customerId()===$s.u()?(this.createNotification(e),Ms.fire(ii.MESSAGE_RECEIVED,n),Lr.aec.fire(Ds.CS_MESSAGE_RECEIVED,n)):Bi.getInstance().queryTeams().then((function(){Vi.isMyMessage(n)&&t.createNotification(e),Ms.fire(ii.CS_AGENT_MESSAGE_RECEIVED,n)})))}}}]),n}(sr),Lr=function(){function e(t){(0,g.default)(this,e),this._iMReceiver=new sr,this.csMessageReceiver=new Ur,this.options=t,e.aec=new Js,this._userHereNow=new lr,this.goEasyUploader=new di,this._groupHereNow=new ur,this._groupOnlineCount=new ar,this.groupMessageSubscriber=new ir}return(0,y.default)(e,[{key:"afterConnect",value:function(){this._iMReceiver.initialGoEasySocket(),this.csMessageReceiver.initialGoEasySocket(),this.messageBuilder=new Fr,this.messageSender=new yi,this.histories=Wi.init(),this.histories.initialListeners(),this.conversations=new nr,this._groupPresenceSubscriber=new rr,this._userPresenceSubscriber=new cr}},{key:"validateModules",value:function(){if(Pn.isUndef($s.s()))throw Error("Please call connect() first.");if(!this.options.modules||!this.options.modules.includes(Is))throw Error("Invalid options: module '".concat(Is,"' is not enabled"))}},{key:"catch",value:function(e,t){return x(this,void 0,void 0,l.default.mark((function n(){return l.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,this.validateModules(),Ps.validateCallbackOptions(t),n.next=5,e();case 5:n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),Hs.onFailed(t,n.t0);case 10:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"on",value:function(t,n){e.aec.on(t,n)}},{key:"off",value:function(t,n){e.aec.off(t,n)}},{key:"createTextMessage",value:function(e){return this.validateModules(),this.messageBuilder.buildMessage(Ys.TEXT,e)}},{key:"createImageMessage",value:function(e){return this.validateModules(),this.messageBuilder.buildMessage(Ys.IMAGE,e)}},{key:"createFileMessage",value:function(e){return this.validateModules(),this.messageBuilder.buildMessage(Ys.FILE,e)}},{key:"createAudioMessage",value:function(e){return this.validateModules(),this.messageBuilder.buildMessage(Ys.AUDIO,e)}},{key:"createVideoMessage",value:function(e){return this.validateModules(),this.messageBuilder.buildMessage(Ys.VIDEO,e)}},{key:"createCustomMessage",value:function(e){return this.validateModules(),this.messageBuilder.buildMessage(e.type,e)}},{key:"sendMessage",value:function(e){var t=this;this.catch((function(){t.messageSender.send(e)}),e)}},{key:"recallMessage",value:function(e){var t=this;this.catch((function(){t.histories.recallMessage(e)}),e)}},{key:"deleteMessage",value:function(e){var t=this;this.catch((function(){t.histories.deleteMessage(e)}),e)}},{key:"markGroupMessageAsRead",value:function(e){var t=this;this.catch((function(){return x(t,void 0,void 0,l.default.mark((function t(){return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.histories.groupMarkAsRead(e);case 2:case"end":return t.stop()}}),t,this)})))}),e)}},{key:"markPrivateMessageAsRead",value:function(e){var t=this;this.catch((function(){return x(t,void 0,void 0,l.default.mark((function t(){return l.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.histories.privateMarkAsRead(e);case 2:case"end":return t.stop()}}),t,this)})))}),e)}},{key:"markMessageAsRead",value:function(e,t){var n=this;this.catch((function(){return x(n,void 0,void 0,l.default.mark((function n(){return l.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,this.histories.markMessageAsRead(e,t);case 2:case"end":return n.stop()}}),n,this)})))}),e)}},{key:"latestConversations",value:function(e){this.validateModules(),this.conversations.latestConversations(e)}},{key:"removePrivateConversation",value:function(e){var t=this;this.catch((function(){return t.conversations.removePrivateConversation(e)}),e)}},{key:"removeGroupConversation",value:function(e){var t=this;this.catch((function(){return t.conversations.removeGroupConversation(e)}),e)}},{key:"topPrivateConversation",value:function(e){var t=this;this.catch((function(){return t.conversations.topPrivateConversation(e)}),e)}},{key:"topGroupConversation",value:function(e){var t=this;this.catch((function(){return t.conversations.topGroupConversation(e)}),e)}},{key:"history",value:function(e,t){var n=this;this.catch((function(){n.histories.loadHistory(e,t)}),e)}},{key:"subscribeUserPresence",value:function(e){var t=this;this.catch((function(){return t._userPresenceSubscriber.presence(e)}),e)}},{key:"unsubscribeUserPresence",value:function(e){var t=this;this.catch((function(){return t._userPresenceSubscriber.unPresence(e)}),e)}},{key:"hereNow",value:function(e){var t=this;this.catch((function(){return t._userHereNow.hereNow(e)}),e)}},{key:"subscribeGroup",value:function(e){var t=this;this.catch((function(){return t.groupMessageSubscriber.subscribe(e)}),e)}},{key:"unsubscribeGroup",value:function(e){var t=this;this.catch((function(){return t.groupMessageSubscriber.unsubscribe(e)}),e)}},{key:"subscribeGroupPresence",value:function(e){var t=this;this.catch((function(){return t._groupPresenceSubscriber.presence(e)}),e)}},{key:"unsubscribeGroupPresence",value:function(e){var t=this;this.catch((function(){return t._groupPresenceSubscriber.unPresence(e)}),e)}},{key:"groupHereNow",value:function(e){var t=this;this.catch((function(){return t._groupHereNow.hereNow(e)}),e)}},{key:"groupOnlineCount",value:function(e){var t=this;this.catch((function(){return t._groupOnlineCount.get(e)}),e)}},{key:"latestPendingConversations",value:function(e){this.validateModules(),this.conversations.latestPendingConversations(e)}},{key:"topConversation",value:function(e){this.validateModules(),this.conversations.topConversation(e)}},{key:"removeConversation",value:function(e){this.validateModules(),this.conversations.removeConversation(e)}}],[{key:"init",value:function(t){e.instance=new e(t)}}]),e}();!function(e){e.VIDEO="VIDEO",e.VOICE="VOICE"}(er||(er={}));var jr=(0,y.default)((function e(t,n){(0,g.default)(this,e),this.customerId=t,this.teamId=n})),Gr=(0,y.default)((function e(t,n){(0,g.default)(this,e),this.teamId=t;var s=new Zr(n.id.toString(),JSON.stringify(n.data));this.customer=s})),Br=(0,y.default)((function e(t,n,s){(0,g.default)(this,e),this.customerId=t,this.teamId=n,this.agentId=s})),Vr=(0,y.default)((function e(t,n){(0,g.default)(this,e),this.customerId=t,this.teamId=n})),qr=function(){function e(t){(0,g.default)(this,e),this.builder=new Ti,this.teamId=t}return(0,y.default)(e,[{key:"accept",value:function(e,t){var n=this,s=t.customer;if(Pn.isUndef(s))throw{code:400,content:"customer is required."};Ps.validateId(s.id,"customer.id");var i=s.data;if(Pn.isUndef(i)||!Pn.isObject(i))throw{code:400,content:"customer data must be non-empty object."};var r=new Gr(e,s),a=new ns({name:ws.CS_ACCEPT,params:r,permission:mn.WRITE,singleTimeout:ps.commonRequestSingle,totalTimeout:ps.commonRequestTotal,fail:function(e){Hs.onFailed(t,e)},success:function(e){var s=n.builder.build(e.content.message);Ms.fire(ii.CS_ACCEPTED,s),Hs.onSuccess(t)}});$s.s().emit(a)}},{key:"end",value:function(e,t){var n=this;Ps.validateId(t.id,"id");var s=t.id.toString(),i=new Vr(s,e),r=new ns({name:ws.CS_END,params:i,permission:mn.WRITE,singleTimeout:ps.commonRequestSingle,totalTimeout:ps.commonRequestTotal,fail:function(e){Hs.onFailed(t,e)},success:function(e){var s=n.builder.build(e.content.message);Ms.fire(ii.CS_ENDED,s),Hs.onSuccess(t)}});$s.s().emit(r)}},{key:"queryCustomerStatus",value:function(e,t){return x(this,void 0,void 0,l.default.mark((function n(){var s;return l.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return Ps.validateId(t.id,"id"),n.next=3,this.doCustomerStatus(e,t.id);case 3:s=n.sent,this.activeCustomerStatus=s,this.activeCustomerStatusOptions=t,Hs.onSuccess(t,s);case 5:case"end":return n.stop()}}),n,this)})))}},{key:"doCustomerStatus",value:function(e,t){var n=t.toString(),s=new jr(n,e);return new Promise((function(e,t){var n=new ns({name:ws.CS_CUSTOMER_STATUS,params:s,permission:mn.READ,singleTimeout:ps.commonQuerySingle,totalTimeout:ps.commonQueryTotal,fail:function(e){t(e)},success:function(t){var n=t.content;n.agent&&(n.agent.data=JSON.parse(n.agent.data)),e(n)}});$s.s().emit(n)}))}},{key:"transfer",value:function(e,t){var n=this;Ps.validateId(t.customerId,"customerId"),Ps.validateId(t.agentId,"agentId");var s=t.customerId.toString(),i=t.agentId.toString(),r=new Br(s,e,i),a=new ns({name:ws.CS_TRANSFER,params:r,permission:mn.WRITE,singleTimeout:ps.commonRequestSingle,totalTimeout:ps.commonRequestTotal,fail:function(e){Hs.onFailed(t,e)},success:function(e){var s=n.builder.build(e.content.message);Ms.fire(ii.CS_TRANSFER,s),Hs.onSuccess(t)}});$s.s().emit(a)}}]),e}(),Hr=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,[{key:"createTextMessage",value:function(e,t){var n=Lr.instance.createTextMessage(t);this.extendProps(e,n)}},{key:"createImageMessage",value:function(e,t){var n=Lr.instance.createImageMessage(t);this.extendProps(e,n)}},{key:"createFileMessage",value:function(e,t){var n=Lr.instance.createFileMessage(t);this.extendProps(e,n)}},{key:"createAudioMessage",value:function(e,t){var n=Lr.instance.createAudioMessage(t);this.extendProps(e,n)}},{key:"createVideoMessage",value:function(e,t){var n=Lr.instance.createVideoMessage(t);this.extendProps(e,n)}},{key:"createCustomMessage",value:function(e,t){var n=Lr.instance.createCustomMessage(t);this.extendProps(e,n)}},{key:"extendProps",value:function(e,t){if(t.scene()===Yr.CS){var n=t;n.teamId=e,n.accepted=!0}}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}(),Wr=function(){function e(t){(0,g.default)(this,e),this.teamId=t,this.agentStatus=Bi.getInstance(),this.conversationHandler=new qr(t),this.messageCreator=Hr.getInstance()}return(0,y.default)(e,[{key:"catch",value:function(e,t){return x(this,void 0,void 0,l.default.mark((function n(){return l.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,Ps.validateCallbackOptions(t),n.next=4,e();case 4:n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),Hs.onFailed(t,n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))}},{key:"isOnline",value:function(e){var t=this;this.catch((function(){t.agentStatus.isOnline(t.teamId,e)}),e)}},{key:"online",value:function(e){var t=this;this.catch((function(){t.agentStatus.online(t.teamId,e)}),e)}},{key:"offline",value:function(e){var t=this;this.catch((function(){t.agentStatus.offline(t.teamId,e)}),e)}},{key:"customerStatus",value:function(e){var t=this;this.catch((function(){t.conversationHandler.queryCustomerStatus(t.teamId,e)}),e)}},{key:"accept",value:function(e){var t=this;this.catch((function(){t.conversationHandler.accept(t.teamId,e)}),e)}},{key:"end",value:function(e){var t=this;this.catch((function(){t.conversationHandler.end(t.teamId,e)}),e)}},{key:"history",value:function(e){Lr.instance.history(e,this.teamId)}},{key:"markMessageAsRead",value:function(e){Lr.instance.markMessageAsRead(e,this.teamId)}},{key:"createTextMessage",value:function(e){this.messageCreator.createTextMessage(this.teamId,e)}},{key:"createImageMessage",value:function(e){this.messageCreator.createImageMessage(this.teamId,e)}},{key:"createFileMessage",value:function(e){this.messageCreator.createFileMessage(this.teamId,e)}},{key:"createAudioMessage",value:function(e){this.messageCreator.createAudioMessage(this.teamId,e)}},{key:"createVideoMessage",value:function(e){this.messageCreator.createVideoMessage(this.teamId,e)}},{key:"createCustomMessage",value:function(e){this.messageCreator.createCustomMessage(this.teamId,e)}},{key:"transfer",value:function(e){var t=this;this.catch((function(){t.conversationHandler.transfer(t.teamId,e)}),e)}},{key:"agents",value:function(e){var t=this;this.catch((function(){t.agentStatus.agents(t.teamId,e)}),e)}},{key:"liveSession",value:function(e){var t=this;this.catch((function(){Vi.live(t.teamId,e)}),e)}},{key:"quitLiveSession",value:function(e){this.catch((function(){Vi.quit(e)}),e)}},{key:"listenCustomer",value:function(e){var t=this,n={customerId:e.id,onNewMessage:e.onNewMessage,onStatusUpdated:e.onStatusUpdated,onFailed:e.onFailed,onSuccess:e.onSuccess};this.catch((function(){Vi.live(t.teamId,n)}),e)}},{key:"cancelListenCustomer",value:function(e){this.catch((function(){Vi.quit(e)}),e)}}]),e}(),zr=function(){function e(){(0,g.default)(this,e)}return(0,y.default)(e,null,[{key:"team",value:function(e){Ps.validateId(e,"teamId");var t=this.teams.get(e);return t||(t=new Wr(e.toString()),this.teams.set(e.toString(),t)),t}}]),e}();zr.teams=new Map;var Yr,Xr,Jr=(0,y.default)((function e(){(0,g.default)(this,e)}));t.CallBackOptions=Jr,t.MessageStatus=Xr,t.Scene=Yr,function(e){e.PRIVATE="private",e.GROUP="group",e.SYSTEM="system",e.CS="cs"}(Yr||(t.Scene=Yr={})),function(e){e.NEW="new",e.SENDING="sending",e.SUCCESS="success",e.FAIL="fail"}(Xr||(t.MessageStatus=Xr={}));var Kr=(0,y.default)((function e(){(0,g.default)(this,e)}));t.ConversationDTO=Kr;var Qr=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n)}(Jr);t.AgentOnlineOptions=Qr;var Zr=(0,y.default)((function e(t,n){(0,g.default)(this,e),this.id=t,this.data=n}));t.User=Zr;var ea=function(e){(0,h.default)(n,e);var t=C(n);function n(){return(0,g.default)(this,n),t.apply(this,arguments)}return(0,y.default)(n)}(Jr);t.CustomerStatusOptions=ea;var ta=function(){function e(t){(0,g.default)(this,e),Ws.init(t)}return(0,y.default)(e,[{key:"initialGoEasySocket",value:function(){Ws.instance.initialGoEasySocket()}},{key:"initialBeforeConnect",value:function(){Ws.instance.initialBeforeConnect()}},{key:"publish",value:function(e){Ws.instance.publisher.publish(e)}},{key:"subscribe",value:function(e){Ws.instance.subscriber.subscribe(e)}},{key:"unsubscribe",value:function(e){Ws.instance.subscriber.unsubscribe(e)}},{key:"subscribePresence",value:function(e){Ws.instance.presence.subscribePresence(e)}},{key:"unsubscribePresence",value:function(e){Ws.instance.presence.unsubscribePresence(e)}},{key:"history",value:function(e){Ws.instance.histories.get(e)}},{key:"hereNow",value:function(e){Ws.instance.hereNows.byChannel(e)}},{key:"hereNowByUserIds",value:function(e){Ws.instance.hereNows.byUserId(e)}}]),e}();t.GoEasyPubSub=ta;var na=function(){function e(t){(0,g.default)(this,e),Lr.init(t)}return(0,y.default)(e,[{key:"afterConnect",value:function(){Lr.instance.afterConnect()}},{key:"on",value:function(e,t){Lr.instance.on(e,t)}},{key:"off",value:function(e,t){Lr.instance.off(e,t)}},{key:"createTextMessage",value:function(e){return Lr.instance.createTextMessage(e)}},{key:"createImageMessage",value:function(e){return Lr.instance.createImageMessage(e)}},{key:"createFileMessage",value:function(e){return Lr.instance.createFileMessage(e)}},{key:"createAudioMessage",value:function(e){return Lr.instance.createAudioMessage(e)}},{key:"createVideoMessage",value:function(e){return Lr.instance.createVideoMessage(e)}},{key:"createCustomMessage",value:function(e){return Lr.instance.createCustomMessage(e)}},{key:"sendMessage",value:function(e){Lr.instance.sendMessage(e)}},{key:"recallMessage",value:function(e){Lr.instance.recallMessage(e)}},{key:"deleteMessage",value:function(e){Lr.instance.deleteMessage(e)}},{key:"markGroupMessageAsRead",value:function(e){Lr.instance.markGroupMessageAsRead(e)}},{key:"markPrivateMessageAsRead",value:function(e){Lr.instance.markPrivateMessageAsRead(e)}},{key:"latestConversations",value:function(e){Lr.instance.latestConversations(e)}},{key:"removePrivateConversation",value:function(e){Lr.instance.removePrivateConversation(e)}},{key:"removeGroupConversation",value:function(e){Lr.instance.removeGroupConversation(e)}},{key:"topPrivateConversation",value:function(e){Lr.instance.topPrivateConversation(e)}},{key:"topGroupConversation",value:function(e){Lr.instance.topGroupConversation(e)}},{key:"history",value:function(e){Lr.instance.history(e)}},{key:"subscribeUserPresence",value:function(e){Lr.instance.subscribeUserPresence(e)}},{key:"unsubscribeUserPresence",value:function(e){Lr.instance.unsubscribeUserPresence(e)}},{key:"hereNow",value:function(e){Lr.instance.hereNow(e)}},{key:"subscribeGroup",value:function(e){Lr.instance.subscribeGroup(e)}},{key:"unsubscribeGroup",value:function(e){Lr.instance.unsubscribeGroup(e)}},{key:"subscribeGroupPresence",value:function(e){Lr.instance.subscribeGroupPresence(e)}},{key:"unsubscribeGroupPresence",value:function(e){Lr.instance.unsubscribeGroupPresence(e)}},{key:"groupHereNow",value:function(e){Lr.instance.groupHereNow(e)}},{key:"groupOnlineCount",value:function(e){Lr.instance.groupOnlineCount(e)}},{key:"markMessageAsRead",value:function(e){Lr.instance.markMessageAsRead(e)}},{key:"csteam",value:function(e){return new ia(e)}},{key:"pendingConversations",value:function(e){Lr.instance.latestPendingConversations(e)}},{key:"topConversation",value:function(e){Lr.instance.topConversation(e)}},{key:"removeConversation",value:function(e){Lr.instance.removeConversation(e)}}]),e}();t.GoEasyIM=na;var sa=function(){function e(t){if((0,g.default)(this,e),Pn.isDef(e.instance)&&e.instance.getConnectionStatus()!==c.DISCONNECTED)return e.instance;this.validateOptions(t),this.options=t,ks.init(t.allowNotification),this.pubsub=new ta(this.options),this.im=new na(this.options)}return(0,y.default)(e,[{key:"connect",value:function(e){this.getConnectionStatus()!==c.DISCONNECTED&&Pn.isObject(e)&&Pn.isFunction(e.onFailed)?e.onFailed({code:408,content:"It is already connected, don't try again until disconnect() is called. "}):(this.confirmUserId(e),Ms.initial(),this.pubsub.initialBeforeConnect(),this.goEasySocket=new Os(this.options,e),this.goEasySocket.connect(),$s.i(this.goEasySocket),this.im.afterConnect(),this.pubsub.initialGoEasySocket())}},{key:"disconnect",value:function(e){this.goEasySocket.disconnect().then((function(){Pn.isObject(e)&&Pn.isFunction(e.onSuccess)&&e.onSuccess()})).catch((function(t){Pn.isObject(e)&&Pn.isFunction(e.onFailed)&&e.onFailed(t)}))}},{key:"getConnectionStatus",value:function(){return this.goEasySocket?this.goEasySocket.getStatus():c.DISCONNECTED}},{key:"validateOptions",value:function(e){var t="";if(!Pn.isObject(e))throw t="options is require an object.",Error(t);if(!Pn.isPrimitive(e.appkey)||0==e.appkey.length)throw t="Invalid options:'appkey' is empty.",Error(t);if(!Pn.isPrimitive(e.host)||0==e.host.length)throw t="Invalid options:'host' is empty.",Error(t);if(!Pn.isArray(e.modules))throw t="Invalid options: 'modules' must be nonempty array",Error(t);var n=[Is,Ts],s=e.modules.map((function(e){var s=e.toUpperCase();if(!n.includes(s))throw t="Invalid options: module '".concat(e,"' is not support"),Error(t);return s}));e.modules=s}},{key:"onClickNotification",value:function(e){ks.instance.onClickNotification(e)}},{key:"confirmUserId",value:function(e){if(this.options.modules.includes(Is)&&(Pn.isEmpty(e.id)||!Pn.isStringOrNumber(e.id)))throw{code:400,content:"TypeError: id requires number or string."};if("string"==typeof e.id&&e.id.length>60)throw{code:400,content:"id over max length 60"}}}],[{key:"getInstance",value:function(t){return Pn.isUndef(e.instance)&&(e.instance=new e(t)),e.instance}}]),e}();t.default=sa,sa.version="2.6.1",sa.IM_EVENT=Ds,sa.IM_SCENE=Yr,sa.MEDIA_TYPE=er;var ia=function(){function e(t){(0,g.default)(this,e),this.id=t}return(0,y.default)(e,[{key:"isOnline",value:function(e){zr.team(this.id).isOnline(e)}},{key:"online",value:function(e){zr.team(this.id).online(e)}},{key:"offline",value:function(e){zr.team(this.id).offline(e)}},{key:"customerStatus",value:function(e){zr.team(this.id).customerStatus(e)}},{key:"accept",value:function(e){zr.team(this.id).accept(e)}},{key:"end",value:function(e){zr.team(this.id).end(e)}},{key:"history",value:function(e){zr.team(this.id).history(e)}},{key:"markMessageAsRead",value:function(e){zr.team(this.id).markMessageAsRead(e)}},{key:"createTextMessage",value:function(e){zr.team(this.id).createTextMessage(e)}},{key:"createImageMessage",value:function(e){zr.team(this.id).createImageMessage(e)}},{key:"createFileMessage",value:function(e){zr.team(this.id).createFileMessage(e)}},{key:"createAudioMessage",value:function(e){zr.team(this.id).createAudioMessage(e)}},{key:"createVideoMessage",value:function(e){zr.team(this.id).createVideoMessage(e)}},{key:"createCustomMessage",value:function(e){zr.team(this.id).createCustomMessage(e)}},{key:"transfer",value:function(e){zr.team(this.id).transfer(e)}},{key:"agents",value:function(e){zr.team(this.id).agents(e)}},{key:"liveSession",value:function(e){zr.team(this.id).liveSession(e)}},{key:"quitLiveSession",value:function(e){zr.team(this.id).quitLiveSession(e)}},{key:"listenCustomer",value:function(e){zr.team(this.id).listenCustomer(e)}},{key:"cancelListenCustomer",value:function(e){zr.team(this.id).cancelListenCustomer(e)}}]),e}();t.CSTeam=ia}).call(this,n("c8ba"),n("4362"),n("b639").Buffer,n("fe07")["default"],n("fee2")["default"],n("0de9")["default"])}},[["ad98","app-config"]]]);